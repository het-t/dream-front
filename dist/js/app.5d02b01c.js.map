{"version":3,"file":"js/app.5d02b01c.js","mappings":"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","sources":["webpack://x/./src/helpers/globals/tagColorStringToRgba.ts","webpack://x/./src/helpers/globals/uuid.ts","webpack://x/./src/stores/menuLeft.ts","webpack://x/./src/ui/components/BaseMenuPageNavigation.vue","webpack://x/./src/ui/components/BaseMenuPageNavigation.vue?f87b","webpack://x/./src/ui/components/MenuPageNavigationPageLink.vue","webpack://x/./src/ui/components/MenuPageNavigationPageLink.vue?d104","webpack://x/./src/ui/components/MenuPageNavigationSpaceView.vue","webpack://x/./src/ui/components/MenuPageNavigationSpaceView.vue?44bd","webpack://x/./src/services/api/getSpaces.ts","webpack://x/./src/ui/components/MenuLeft.vue?eca2","webpack://x/./src/ui/components/MenuLeft.vue","webpack://x/./src/ui/components/MenuLeft.vue?2884","webpack://x/./src/ui/components/MenuTop.vue","webpack://x/./src/ui/components/MenuTop.vue?9bef","webpack://x/./src/ui/components/BaseSlashMenuItem.vue","webpack://x/./src/ui/components/BaseSlashMenuItem.vue?5537","webpack://x/./src/stores/keyStrokes.ts","webpack://x/./src/ui/components/BaseSlashMenu.vue","webpack://x/./src/ui/components/BaseSlashMenu.vue?7103","webpack://x/./src/ui/components/PagePeekSide.vue","webpack://x/./src/ui/components/PagePeekSide.vue?de6c","webpack://x/./src/ui/components/DialogView.vue","webpack://x/./src/ui/components/DialogView.vue?5169","webpack://x/./src/ui/components/DialogPagePropertyTitle.vue","webpack://x/./src/ui/components/DialogPagePropertyTitle.vue?6033","webpack://x/./src/ui/components/DialogPagePropertyMultiselect.vue","webpack://x/./src/ui/components/DialogPagePropertyMultiselect.vue?f6eb","webpack://x/./src/ui/components/DialogPagePropertyRelation.vue","webpack://x/./src/ui/components/DialogPagePropertyRelation.vue?1eb9","webpack://x/./src/ui/components/BaseMenuItem.vue","webpack://x/./src/ui/components/BaseMenuItem.vue?b55c","webpack://x/./src/ui/components/DialogPagePropertyStatus.vue","webpack://x/./src/ui/components/DialogPagePropertyStatus.vue?4b4c","webpack://x/./src/ui/components/DialogPagePropertyPerson.vue","webpack://x/./src/ui/components/DialogPageProperty.vue","webpack://x/./src/ui/components/DialogPageProperty.vue?be15","webpack://x/./src/ui/components/SpaceSettingsContentHeading.vue","webpack://x/./src/ui/components/SpaceSettingsContentHeading.vue?3d94","webpack://x/./src/ui/components/SpaceSettingsContentItem2.vue","webpack://x/./src/ui/components/SpaceSettingsContentItem2.vue?f50b","webpack://x/./src/usecases/update.js","webpack://x/./src/ui/components/SpaceSettingsContentMyAccount.vue","webpack://x/./src/ui/components/SpaceSettingsContentMyAccount.vue?814b","webpack://x/./src/ui/components/SpaceSettingsMenuButton.vue","webpack://x/./src/ui/components/SpaceSettingsMenuButton.vue?b657","webpack://x/./src/ui/components/SpaceSettingsTableHeader.vue","webpack://x/./src/ui/components/SpaceSettingsTable.vue","webpack://x/./src/ui/components/SpaceSettingsContentPeople.vue","webpack://x/./src/ui/components/SpaceSettings.vue","webpack://x/./src/ui/components/SpaceSettings.vue?faf8","webpack://x/./src/helpers/globals/captitalizeFirstCharacter.ts","webpack://x/./src/ui/views/OptionEditView.vue","webpack://x/./src/ui/views/OptionEditView.vue?b1d9","webpack://x/./src/usecases/set.js","webpack://x/./src/usecases/setParent.js","webpack://x/./src/usecases/listBefore.js","webpack://x/./src/ui/components/CollectionTemplatesList.vue","webpack://x/./src/ui/components/CollectionTemplatesList.vue?ce28","webpack://x/./src/ui/App.vue","webpack://x/./src/ui/App.vue?0ed7","webpack://x/./src/helpers/globals/BaseMenuOpen.ts","webpack://x/./src/helpers/globals/BaseMenuClose.ts","webpack://x/./src/main.ts","webpack://x/./src/services/api/index.ts","webpack://x/./src/services/api/makePostReq.ts","webpack://x/./src/services/transactions/ui-usecases/listBefore.js","webpack://x/./src/services/transactions/ui-usecases/set.js","webpack://x/./src/services/transactions/ui-usecases/update.js","webpack://x/./src/services/transactions/ui-usecases/listAfter.js","webpack://x/./src/services/transactions/ui-usecases/setParent.js","webpack://x/./src/services/transactions/ui-usecases/keyedObjectListBefore.js","webpack://x/./src/services/transactions/ui-usecases/keyedObjectListRemove.js","webpack://x/./src/services/transactions/ui-usecases/keyedObjectListUpdate.js","webpack://x/./src/services/transactions/factories/makeOperation.ts","webpack://x/./src/services/transactions/factories/makeTransaction.ts","webpack://x/./src/stores/general.ts","webpack://x/./src/stores/recordValues.ts","webpack://x/./src/services/api/queryCollection.ts","webpack://x/./src/services/api/TransactionsApi.ts","webpack://x/./src/services/api/SyncRecordValuesApi.ts","webpack://x/./src/services/api/search.ts","webpack://x/./src/stores/transactionsQueue.ts","webpack://x/./src/ui/helpers/router/transformToStandardUUIDFormat.ts","webpack://x/./src/ui/router/index.ts","webpack://x/./src/ui/components/BaseButton.vue","webpack://x/./src/ui/components/BaseButton.vue?6a62","webpack://x/./src/ui/components/BaseDataProvider.vue","webpack://x/./src/ui/components/BaseDataProvider.vue?7ebb","webpack://x/./src/ui/components/PagePropertyPersonValue.vue","webpack://x/./src/ui/components/PagePropertyPersonValue.vue?d166","webpack://x/./src/helpers/globals/darkBackgroundColorStringToRgba.ts","webpack://x/./src/ui/components/PagePropertyStatusValue.vue","webpack://x/./src/ui/components/PagePropertyStatusValue.vue?e11b","webpack://x/./src/ui/components/PagePropertyTagValue.vue","webpack://x/./src/ui/components/PagePropertyTagValue.vue?68ae","webpack://x/./src/ui/components/PageProperties.vue","webpack://x/./src/ui/components/PageProperties.vue?7e30","webpack://x/./src/entities/Comment.js","webpack://x/./src/ui/components/PageDiscussionComment.vue","webpack://x/./src/ui/components/PageDiscussionComment.vue?a953","webpack://x/./src/ui/components/PageDiscussion.vue","webpack://x/./src/ui/components/PageDiscussion.vue?b090","webpack://x/./src/helpers/globals/StyleColorsStringToRgba.ts","webpack://x/./src/ui/components/BlockRenderRichText.vue","webpack://x/./src/ui/components/BlockRenderRichText.vue?54ef","webpack://x/./src/ui/components/BlockRenderParagraph.vue","webpack://x/./src/ui/components/BlockRenderParagraph.vue?2b81","webpack://x/./src/ui/components/BlockRenderPage.vue","webpack://x/./src/ui/components/BlockRenderPage.vue?5888","webpack://x/./src/ui/components/BlockRender.vue","webpack://x/./src/ui/components/BlockRender.vue?1ad9","webpack://x/./src/ui/components/PageContent.vue?82c9","webpack://x/./src/ui/components/PageContent.vue","webpack://x/./src/ui/components/PageContent.vue?6056","webpack://x/./src/helpers/globals/SyncRecordValueFromApi.ts","webpack://x/./src/ui/components/RenderPage.vue?72a7","webpack://x/./src/ui/components/RenderPage.vue","webpack://x/./src/ui/components/RenderPage.vue?b0f1","webpack://x/./src/entities/Block.js","webpack://x/./src/entities/Collection.js","webpack://x/./src/helpers/globals/handlePropertyValueOverlay.js","webpack://x/./src/helpers/globals/CommaSeparatedString.ts","webpack://x/./src/helpers/globals/parseCommaSeparatedPropertyValues.js","webpack://x/./src/ui/composables/usePropertyData.js","webpack://x/webpack/bootstrap","webpack://x/webpack/runtime/chunk loaded","webpack://x/webpack/runtime/define property getters","webpack://x/webpack/runtime/ensure chunk","webpack://x/webpack/runtime/get javascript chunk filename","webpack://x/webpack/runtime/get mini-css chunk filename","webpack://x/webpack/runtime/global","webpack://x/webpack/runtime/hasOwnProperty shorthand","webpack://x/webpack/runtime/load script","webpack://x/webpack/runtime/make namespace object","webpack://x/webpack/runtime/publicPath","webpack://x/webpack/runtime/css loading","webpack://x/webpack/runtime/jsonp chunk loading","webpack://x/webpack/startup"],"sourcesContent":["export const tagColorStringToRgba = function(colorStr: string): {background: string, color: string, fill: string} {\r\n    switch(colorStr) {  \r\n        case \"light gray\":\r\n            return {\r\n                background: \"rgba(227, 226, 224, 0.5)\",\r\n                color: \"rgb(50, 48, 44)\",\r\n                fill: \"rgb(50, 48, 44)\"\r\n            };\r\n        case \"gray\": \r\n            return {\r\n                background: \"rgb(227, 226, 224)\",\r\n                color: \"rgb(50, 48, 44)\",\r\n                fill: \"rgb(50, 48, 44)\"\r\n            };  \r\n        case \"brown\":\r\n            return {\r\n                background: \"rgb(238, 224, 218)\",\r\n                color: \"rgb(68, 42, 30)\",\r\n                fill: \"rgb(68, 42, 30)\"\r\n            };\r\n        case \"orange\":\r\n            return {\r\n                background: \"rgb(250, 222, 201)\",\r\n                color: \"rgb(73, 41, 14)\",\r\n                fill: \"rgb(73, 41, 14)\"\r\n            };\r\n        case \"yellow\":\r\n            return {\r\n                background: \"rgb(253, 236, 200)\",\r\n                color: \"rgb(66, 44, 27)\",\r\n                fill: \"rgb(66, 44, 27)\"\r\n            };\r\n        case \"green\": \r\n            return {\r\n                background: \"rgb(219, 237, 219)\",\r\n                color: \"rgb(28, 56, 41)\",\r\n                fill: \"rgb(28, 56, 41)\"\r\n            };\r\n        case \"blue\":\r\n            return {\r\n                background: \"rgb(211, 229, 239)\",\r\n                color: \"rgb(24, 51, 71)\",\r\n                fill: \"rgb(24, 51, 71)\"\r\n            };\r\n        case \"purple\":\r\n            return {\r\n                background: \"rgb(232, 222, 238)\",\r\n                color: \"rgb(65, 36, 84)\",\r\n                fill: \"rgb(65, 36, 84)\"\r\n            };\r\n        case \"pink\":\r\n            return {\r\n                background: \"rgb(245, 224, 233)\",\r\n                color: \"rgb(76, 35, 55)\",\r\n                fill: \"rgb(76, 35, 55)\"\r\n            };\r\n        case \"red\":\r\n            return {\r\n                background: \"rgb(255, 226, 221)\",\r\n                color: \"rgb(93, 23, 21)\",\r\n                fill: \"rgb(93, 23, 21)\"\r\n            };\r\n        default:\r\n            return {\r\n                background: \"rgb(232, 222, 238)\",\r\n                color: \"rgb(50, 48, 44)\",\r\n                fill: \"rgb(50, 48, 44)\"\r\n            };\r\n    }\r\n} ","import { v4 as uuidv4} from 'uuid';\r\n\r\nexport default function() {\r\n    return uuidv4().replaceAll('-', '');\r\n}","import { defineStore } from \"pinia\";\r\n\r\ninterface state {\r\n    menuLeftMode: \"full\" | null\r\n}\r\n\r\nexport const useMenuLeftStore = defineStore('menuLeft', {\r\n    state: (): state => ({\r\n        menuLeftMode: \"full\"\r\n    }),\r\n    actions: {\r\n        setMenuLeftMode(mode: \"full\" | null) {\r\n            this.menuLeftMode = mode;\r\n        }\r\n    }\r\n})","<template>\r\n    <div style=\"display: flex; flex-direction: column; cursor: grab;\">\r\n        <div :class=\"`xdoc-outliner-${ props.cssClass }-header-container`\"\r\n            style=\"margin-bottom: 18px; width: 100%;\"\r\n        >\r\n            <div :class=\"`xdoc-outliner-${ props.cssClass }-header`\"\r\n                style=\"display: flex; align-items: center; width: 100%; font-size: 14px; min-height: 24px; padding: 0px 14px 0px 15px; margin-top: 6px; margin-bottom: 2px;\"\r\n            >\r\n                <div style=\"flex: 1 1 auto; white-space: nowrap; min-width: 0px; overflow: visible; text-overflow: clip;\">\r\n                    <div style=\"display: flex; align-items: center;\">\r\n                        <base-button \r\n                            :default-style=\"{ color: 'rgba(55, 53, 47, 0.5)' }\"\r\n                            :hover-style=\"{ backgroundColor: 'rgba(55, 53, 47, 0.08)', color: 'rgba(55, 53, 47, 0.8)' }\"\r\n                            style=\"margin-left: -4px; padding: 2px 4px;\"\r\n                        >\r\n                            <span style=\"font-size: 12px; line-height: 1; font-weight: 600;\"><slot name=\"header\"></slot></span>\r\n                        </base-button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style=\"display: flex; align-items: center; justify-content: center; flex-shrink: 0; flex-grow: 0; height: 100%;\">\r\n                    <slot name=\"navigation-options\"></slot>\r\n                </div>\r\n            </div>\r\n\r\n            <div id=\"id_1\"\r\n                style=\"display: block;\"\r\n                role=\"tree\"\r\n            >\r\n                <div>\r\n                    <slot></slot>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from 'vue';\r\nimport BaseButton from './BaseButton.vue';\r\n\r\nconst props = defineProps({\r\n    cssClass: {\r\n        type: String,\r\n        required: true\r\n    }\r\n});\r\n</script>","import script from \"./BaseMenuPageNavigation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseMenuPageNavigation.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div :data-block-id=\"props.id\" class=\"xdoc-selectable xdoc-page-block\" style=\"padding-left: 6px;\">\r\n        <a rel=\"noopener noreferrer\" role=\"treeitem\" aria-expanded=\"false\" style=\"display: block; text-decoration: none; user-select: none; transition: background 100ms ease-out 0s; cursor: pointer; width: calc(100% - 8px); border-radius: 3px; margin-left: 4px; margin-right: 4px;\">\r\n            <div style=\"display: flex; align-items: center; width: 100%; font-size: 14px; min-height: 27px; padding: 2px 10px 2px 5px; margin-top: 1px; margin-bottom: 1px; border-radius: 3px;\">                                       \r\n                <div style=\"flex: 1 1 auto; white-space: nowrap; min-width: 0; overflow: visible; text-overflow: clip;\">\r\n                    <div id=\":r2j:\" class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis\">\r\n                        <slot></slot>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </a> \r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    id: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n</script>","import script from \"./MenuPageNavigationPageLink.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MenuPageNavigationPageLink.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <base-menu-page-navigation\r\n        css-class=\"bookmarks\"\r\n    >\r\n        <template #header><slot name=\"header\"></slot></template>\r\n        \r\n        <template #navigation-options>\r\n            <slot name=\"navigation-options\"></slot>\r\n        </template>\r\n\r\n        <menu-page-navigation-page-link v-for=\"id in props.pageIds\" \r\n            :id=\"id\" \r\n            :key=\"id\"\r\n        >{{ id }}</menu-page-navigation-page-link>\r\n    </base-menu-page-navigation>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from \"vue\";\r\nimport BaseMenuPageNavigation from \"./BaseMenuPageNavigation.vue\";\r\nimport MenuPageNavigationPageLink from \"./MenuPageNavigationPageLink\";\r\n\r\nconst props = defineProps({\r\n    pageIds: {\r\n        type: Array,\r\n        required: true\r\n    }\r\n});\r\n</script>","import script from \"./MenuPageNavigationSpaceView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MenuPageNavigationSpaceView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import makePostReq from \"./makePostReq\"\r\n\r\nexport const getSpaces = function() {\r\n    return makePostReq(\"/api/v1/getSpaces\", {\r\n        userId: \"\"\r\n    })\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, unref as _unref, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { style: {\"height\":\"100%\"} }\nconst _hoisted_2 = { style: {\"width\":\"0\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"bottom\":\"0\",\"display\":\"flex\",\"flex-direction\":\"column\",\"overflow\":\"visible\",\"z-index\":\"9\"} }\nconst _hoisted_3 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\",\"overflow\":\"hidden\"} }\nconst _hoisted_4 = { class: \"initials ptr hvr-bg\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"font-weight\":\"500\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\",\"text-wrap\":\"nowrap\",\"color\":\"var(--focus-black-color)\"} }, \" Het Tarkhala's XDoc \", -1)\nconst _hoisted_6 = { style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"padding-bottom\":\"8px\"} }\nconst _hoisted_7 = [\"onClick\"]\nconst _hoisted_8 = { class: \"button-icon\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", null, \" Settings and members \", -1)\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"button-icon\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", null, \" New page \", -1)\nconst _hoisted_13 = {\n  class: \"xdoc-scroller vertical\",\n  style: {\"padding-top\":\"6px\",\"padding-bottom\":\"20px\",\"overflow\":\"hidden auto\"}\n}\nconst _hoisted_14 = { style: {\"margin\":\"0px\"} }\nconst _hoisted_15 = { style: {\"display\":\"flex\",\"align-items\":\"center\"} }\nconst _hoisted_16 = {\n  role: \"graphics-symbol\",\n  viewBox: \"0 0 14 14\",\n  class: \"plusThick\",\n  style: {\"width\":\"14px\",\"height\":\"14px\",\"display\":\"block\",\"fill\":\"rgba(55, 53, 47, 0.45)\",\"flex-shrink\":\"0\"}\n}\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z\" }, null, -1)\nconst _hoisted_18 = [\n  _hoisted_17\n]\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"margin-top\":\"auto\"} }, null, -1)\nconst _hoisted_20 = { style: {\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"height\":\"100%\",\"width\":\"8px\",\"cursor\":\"col-resize\"} }\n\nimport { ref, computed, onBeforeMount } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useMenuLeftStore } from \"../../stores/menuLeft\";\r\nimport MenuPageNavigationSpaceView from \"./MenuPageNavigationSpaceView.vue\";\r\nimport BaseButton from \"./BaseButton.vue\";\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport { getSpaces } from \"@/services/api/getSpaces\";\r\nimport { transformToStandardUUIDFormat } from \"../helpers/router/transformToStandardUUIDFormat\";\r\nimport uuid from \"@/helpers/globals/uuid\";\r\nimport { useGeneralStore } from \"@/stores/general\";\r\nimport { makeOperation } from \"@/services/transactions/factories/makeOperation\";\r\nimport { makeTransaction } from \"@/services/transactions/factories/makeTransaction\";\r\nimport { useTransactionsQueue } from \"@/stores/transactionsQueue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'MenuLeft',\n  props: {\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceViewId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n},\n  setup(__props) {\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nconst menuLeftStore = useMenuLeftStore();\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst props = __props\r\n\r\nlet favoritesPagesIds = ref([]), privatePagesIds = ref([]);\r\n\r\nconst getMenuMode = computed(function () {\r\n    return menuLeftStore.menuLeftMode;\r\n})\r\n\r\nasync function createNewPage() {\r\n\r\n    const rawId = uuid();\r\n    const id = transformToStandardUUIDFormat(rawId);\r\n\r\n    const pointer = {\r\n        id,\r\n        table: \"block\",\r\n        spaceId: props.spaceId\r\n    };\r\n\r\n    const operations = [\r\n        makeOperation(\r\n            \"set\",\r\n            {\r\n                id,\r\n                type: 'page',\r\n                space_id: props.spaceId\r\n            },\r\n            [],\r\n            pointer\r\n        ),\r\n        \r\n        makeOperation(\r\n            \"update\",\r\n            {\r\n                permissions: [{\r\n                    type: \"user_permission\",\r\n                    role: \"editor\",\r\n                    user_id: \"user_id\"  \r\n                }]\r\n            },\r\n            [],\r\n            pointer\r\n        ),\r\n\r\n        makeOperation(\r\n            \"update\",\r\n            {\r\n                parent_id: props.spaceId,\r\n                parent_table: \"space\",\r\n                alive: true\r\n            },\r\n            [],\r\n            pointer\r\n        ),\r\n\r\n        makeOperation(\r\n            \"listBefore\",\r\n            {\r\n                id\r\n            },\r\n            [\"private_pages\"],\r\n            {\r\n                id: props.spaceViewId,\r\n                table: \"space_view\",\r\n                spaceId: props.spaceId\r\n            }\r\n        ),\r\n\r\n        makeOperation(\r\n            \"update\",\r\n            {\r\n                created_by_id: \"user_id\",\r\n                created_by_table: \"xdoc_user\",\r\n                created_time: Date.now(),\r\n                last_edited_by_id: \"user_id\",\r\n                last_edited_by_table: \"xdoc_user\",\r\n                last_edited_time: Date.now()\r\n            },\r\n            [],\r\n            pointer\r\n        )\r\n    ]\r\n\r\n    useTransactionsQueue().enqueue(\r\n        makeTransaction({\r\n            debug: {\r\n                userAction: \"MenuLeft.createNewPage\"\r\n            },\r\n            spaceId: props.spaceId,\r\n            operations\r\n        })\r\n    );\r\n\r\n\r\n    if (route.name === \"render-page\") {\r\n        router.push({ query: { p: rawId, pm: 'c' } });\r\n    }\r\n    else {\r\n        router.push(`/${rawId}`);\r\n    }\r\n}\r\n\r\n//hides left menu\r\nfunction setMenuLeftMode() {\r\n    menuLeftStore.setMenuLeftMode(null);\r\n}\r\n\r\nconst generalStore = useGeneralStore();\r\n\r\nfunction openSettings() {\r\n    console.log('add logic to open settings');\r\n    generalStore.setCurrentComponentInDefaultOverlay(\r\n        \"space_settings\",\r\n        {}\r\n    )\r\n}\r\n\r\nonBeforeMount(async () => {\r\n  try{\r\n    const userSpaces = await getSpaces();\r\n\r\n    const spaceViews = userSpaces.data.space_view;\r\n  \r\n    for(const id in spaceViews) {\r\n      const { spaceId, value: { value } } = spaceViews[id];\r\n  \r\n      recordValuesStore.setRecordValue({\r\n        id,\r\n        table: \"space_view\",\r\n        record: value,\r\n        spaceId\r\n      });\r\n    }\r\n\r\n    const { bookmarked_pages, private_pages } = recordValuesStore.getRecordValue({\r\n        id: props.spaceViewId,\r\n        table: \"space_view\",\r\n        spaceId: props.spaceId\r\n    });\r\n\r\n    privatePagesIds.value = private_pages;\r\n    favoritesPagesIds.value = bookmarked_pages;\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"nav\", {\n    id: \"menu-left\",\n    class: _normalizeClass(getMenuMode.value !== 'full' ? 'translate-menu-left' : ''),\n    style: {\"z-index\":\"111\"}\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", {\n          id: \"menu-left-wrapper\",\n          class: _normalizeClass(getMenuMode.value !== 'full' ? 'translate-menu-left-wrapper' : '')\n        }, [\n          _createElementVNode(\"div\", {\n            style: _normalizeStyle([getMenuMode.value !== 'full' ? 'display: block;' : 'display: none;', {\"position\":\"absolute\",\"height\":\"100%\",\"inset\":\"0\"}])\n          }, null, 4),\n          _createElementVNode(\"div\", {\n            style: _normalizeStyle([getMenuMode.value !== 'full' ? 'display: block;' : 'display: none;', {\"position\":\"absolute\",\"height\":\"100%\",\"inset\":\"0\",\"background-color\":\"white\"}])\n          }, null, 4),\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createVNode(_component_font_awesome_icon, { icon: ['far', 'user'] }),\n              _hoisted_5,\n              _createVNode(_component_font_awesome_icon, {\n                icon: ['fas', 'angles-left'],\n                class: \"icon hvr-bg ptr\",\n                id: \"close-menu\",\n                onClick: _withModifiers(setMenuLeftMode, [\"prevent\",\"stop\"])\n              }, null, 8, [\"onClick\"])\n            ]),\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createElementVNode(\"div\", {\n                class: \"button-wrapper hvr-bg ptr\",\n                onClick: _withModifiers(openSettings, [\"prevent\",\"stop\"])\n              }, [\n                _createElementVNode(\"div\", _hoisted_8, [\n                  _createVNode(_component_font_awesome_icon, {\n                    icon: ['fas', 'gear'],\n                    class: \"icon\"\n                  })\n                ]),\n                _hoisted_9\n              ], 8, _hoisted_7),\n              _createElementVNode(\"div\", {\n                class: \"button-wrapper hvr-bg ptr\",\n                onClick: _withModifiers(createNewPage, [\"prevent\",\"stop\"])\n              }, [\n                _createElementVNode(\"div\", _hoisted_11, [\n                  _createVNode(_component_font_awesome_icon, {\n                    icon: ['fas', 'circle-plus'],\n                    class: \"icon\"\n                  })\n                ]),\n                _hoisted_12\n              ], 8, _hoisted_10)\n            ]),\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createElementVNode(\"div\", _hoisted_14, [\n                _createVNode(MenuPageNavigationSpaceView, { pageIds: _unref(favoritesPagesIds) }, {\n                  header: _withCtx(() => [\n                    _createTextVNode(\"Favorites\")\n                  ]),\n                  _: 1\n                }, 8, [\"pageIds\"]),\n                _createVNode(MenuPageNavigationSpaceView, { pageIds: _unref(privatePagesIds) }, {\n                  header: _withCtx(() => [\n                    _createTextVNode(\"Private\")\n                  ]),\n                  \"navigation-options\": _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_15, [\n                      _createVNode(BaseButton, {\n                        onClick: _withModifiers(createNewPage, [\"stop\"]),\n                        style: {\"height\":\"20px\",\"width\":\"20px\",\"display\":\"flex\",\"align-items\":\"center\",\"margin-left\":\"4px\"}\n                      }, {\n                        default: _withCtx(() => [\n                          (_openBlock(), _createElementBlock(\"svg\", _hoisted_16, _hoisted_18))\n                        ]),\n                        _: 1\n                      }, 8, [\"onClick\"])\n                    ])\n                  ]),\n                  _: 1\n                }, 8, [\"pageIds\"])\n              ])\n            ]),\n            _hoisted_19\n          ]),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_20, null, 512), [\n            [_vShow, getMenuMode.value === 'full']\n          ])\n        ], 2)\n      ])\n    ])\n  ], 2))\n}\n}\n\n})","<template>\r\n    <nav\r\n        id=\"menu-left\"\r\n        :class=\"getMenuMode !== 'full' ? 'translate-menu-left' : ''\"\r\n        style=\"z-index: 111;\"\r\n    >\r\n        <div style=\"height: 100%;\">    \r\n            <div style=\"width: 0; position: absolute; top: 0; left: 0; bottom: 0; display: flex; flex-direction: column; overflow: visible; z-index: 9;\">\r\n                <div \r\n                    id=\"menu-left-wrapper\" \r\n                    :class=\"getMenuMode !== 'full' ? 'translate-menu-left-wrapper' : ''\"\r\n                >\r\n                    <div :style=\"getMenuMode !== 'full' ? 'display: block;' : 'display: none;'\" style=\"position: absolute; height: 100%; inset: 0;\">\r\n\r\n                    </div>\r\n\r\n                    <div :style=\"getMenuMode !== 'full' ? 'display: block;' : 'display: none;'\" style=\"position: absolute; height: 100%; inset: 0; background-color: white;\"></div>\r\n\r\n                    <div style=\"display: flex; flex-direction: column; position: relative; height: 100%; overflow: hidden;\">\r\n                        <!-- space info -->\r\n                        <div \r\n                            class=\"initials ptr hvr-bg\"\r\n                        >\r\n                            <font-awesome-icon\r\n                                :icon=\"['far', 'user']\"\r\n                            />\r\n                            \r\n                            <span style=\"font-weight: 500; overflow: hidden; text-overflow: ellipsis; text-wrap: nowrap; color: var(--focus-black-color);\">\r\n                                Het Tarkhala's XDoc\r\n                            </span>\r\n            \r\n                            <font-awesome-icon\r\n                                :icon=\"['fas', 'angles-left']\"\r\n                                class=\"icon hvr-bg ptr\"\r\n                                id=\"close-menu\"\r\n                                @click.prevent.stop=\"setMenuLeftMode\"\r\n                            />\r\n                        </div>\r\n            \r\n                        <div style=\"display: flex; flex-direction: column; padding-bottom: 8px;\">\r\n                            <!-- settings -->\r\n                            <div\r\n                                class=\"button-wrapper hvr-bg ptr\"\r\n                                @click.prevent.stop=\"openSettings\"\r\n                            >\r\n                                <div\r\n                                    class=\"button-icon\"\r\n                                >\r\n                                    <font-awesome-icon\r\n                                        :icon=\"['fas', 'gear']\"\r\n                                        class=\"icon\"\r\n                                    />\r\n                                </div>\r\n            \r\n                                <span>\r\n                                    Settings and members\r\n                                </span>\r\n                            </div>\r\n            \r\n                            <!-- new page -->\r\n                            <div\r\n                                class=\"button-wrapper hvr-bg ptr\"\r\n                                @click.prevent.stop=\"createNewPage\"\r\n                            >\r\n                                <div\r\n                                    class=\"button-icon\"\r\n                                >\r\n                                    <font-awesome-icon\r\n                                        :icon=\"['fas', 'circle-plus']\"\r\n                                        class=\"icon\"\r\n                                    />\r\n                                </div>\r\n            \r\n                                <span>\r\n                                    New page\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n            \r\n                        <div class=\"xdoc-scroller vertical\"\r\n                            style=\"padding-top: 6px; padding-bottom: 20px; overflow: hidden auto;\"\r\n                        >\r\n                            <div style=\"margin: 0px;\">\r\n                                <menu-page-navigation-space-view\r\n                                    :pageIds=\"favoritesPagesIds\"\r\n                                >\r\n                                    <template #header>Favorites</template>\r\n                                </menu-page-navigation-space-view>\r\n\r\n                                <menu-page-navigation-space-view\r\n                                    :pageIds=\"privatePagesIds\"\r\n                                >\r\n                                    <template #header>Private</template>\r\n\r\n                                    <template #navigation-options>\r\n                                        <div style=\"display: flex; align-items: center;\">\r\n                                            <base-button \r\n                                                @click.stop=\"createNewPage\"\r\n                                                style=\"height: 20px; width: 20px; display: flex; align-items: center; margin-left: 4px;\"\r\n                                            >\r\n                                                <svg role=\"graphics-symbol\" viewBox=\"0 0 14 14\" class=\"plusThick\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><path d=\"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z\"></path></svg>\r\n                                            </base-button>\r\n                                        </div>\r\n                                    </template>\r\n                                </menu-page-navigation-space-view>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style=\"margin-top: auto;\">\r\n                        <!-- all important messages to be passed to user can be shown here -->\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div v-show=\"getMenuMode === 'full'\" style=\"position: absolute; right: 0; top: 0; height: 100%; width: 8px; cursor: col-resize;\"></div>\r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref, computed, defineProps, onBeforeMount } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { useMenuLeftStore } from \"../../stores/menuLeft\";\r\nimport MenuPageNavigationSpaceView from \"./MenuPageNavigationSpaceView.vue\";\r\nimport BaseButton from \"./BaseButton.vue\";\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport { getSpaces } from \"@/services/api/getSpaces\";\r\nimport { transformToStandardUUIDFormat } from \"../helpers/router/transformToStandardUUIDFormat\";\r\nimport uuid from \"@/helpers/globals/uuid\";\r\nimport { useGeneralStore } from \"@/stores/general\";\r\nimport { makeOperation } from \"@/services/transactions/factories/makeOperation\";\r\nimport { makeTransaction } from \"@/services/transactions/factories/makeTransaction\";\r\nimport { useTransactionsQueue } from \"@/stores/transactionsQueue\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\nconst menuLeftStore = useMenuLeftStore();\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst props = defineProps({\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceViewId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nlet favoritesPagesIds = ref([]), privatePagesIds = ref([]);\r\n\r\nconst getMenuMode = computed(function () {\r\n    return menuLeftStore.menuLeftMode;\r\n})\r\n\r\nasync function createNewPage() {\r\n\r\n    const rawId = uuid();\r\n    const id = transformToStandardUUIDFormat(rawId);\r\n\r\n    const pointer = {\r\n        id,\r\n        table: \"block\",\r\n        spaceId: props.spaceId\r\n    };\r\n\r\n    const operations = [\r\n        makeOperation(\r\n            \"set\",\r\n            {\r\n                id,\r\n                type: 'page',\r\n                space_id: props.spaceId\r\n            },\r\n            [],\r\n            pointer\r\n        ),\r\n        \r\n        makeOperation(\r\n            \"update\",\r\n            {\r\n                permissions: [{\r\n                    type: \"user_permission\",\r\n                    role: \"editor\",\r\n                    user_id: \"user_id\"  \r\n                }]\r\n            },\r\n            [],\r\n            pointer\r\n        ),\r\n\r\n        makeOperation(\r\n            \"update\",\r\n            {\r\n                parent_id: props.spaceId,\r\n                parent_table: \"space\",\r\n                alive: true\r\n            },\r\n            [],\r\n            pointer\r\n        ),\r\n\r\n        makeOperation(\r\n            \"listBefore\",\r\n            {\r\n                id\r\n            },\r\n            [\"private_pages\"],\r\n            {\r\n                id: props.spaceViewId,\r\n                table: \"space_view\",\r\n                spaceId: props.spaceId\r\n            }\r\n        ),\r\n\r\n        makeOperation(\r\n            \"update\",\r\n            {\r\n                created_by_id: \"user_id\",\r\n                created_by_table: \"xdoc_user\",\r\n                created_time: Date.now(),\r\n                last_edited_by_id: \"user_id\",\r\n                last_edited_by_table: \"xdoc_user\",\r\n                last_edited_time: Date.now()\r\n            },\r\n            [],\r\n            pointer\r\n        )\r\n    ]\r\n\r\n    useTransactionsQueue().enqueue(\r\n        makeTransaction({\r\n            debug: {\r\n                userAction: \"MenuLeft.createNewPage\"\r\n            },\r\n            spaceId: props.spaceId,\r\n            operations\r\n        })\r\n    );\r\n\r\n\r\n    if (route.name === \"render-page\") {\r\n        router.push({ query: { p: rawId, pm: 'c' } });\r\n    }\r\n    else {\r\n        router.push(`/${rawId}`);\r\n    }\r\n}\r\n\r\n//hides left menu\r\nfunction setMenuLeftMode() {\r\n    menuLeftStore.setMenuLeftMode(null);\r\n}\r\n\r\nconst generalStore = useGeneralStore();\r\n\r\nfunction openSettings() {\r\n    console.log('add logic to open settings');\r\n    generalStore.setCurrentComponentInDefaultOverlay(\r\n        \"space_settings\",\r\n        {}\r\n    )\r\n}\r\n\r\nonBeforeMount(async () => {\r\n  try{\r\n    const userSpaces = await getSpaces();\r\n\r\n    const spaceViews = userSpaces.data.space_view;\r\n  \r\n    for(const id in spaceViews) {\r\n      const { spaceId, value: { value } } = spaceViews[id];\r\n  \r\n      recordValuesStore.setRecordValue({\r\n        id,\r\n        table: \"space_view\",\r\n        record: value,\r\n        spaceId\r\n      });\r\n    }\r\n\r\n    const { bookmarked_pages, private_pages } = recordValuesStore.getRecordValue({\r\n        id: props.spaceViewId,\r\n        table: \"space_view\",\r\n        spaceId: props.spaceId\r\n    });\r\n\r\n    privatePagesIds.value = private_pages;\r\n    favoritesPagesIds.value = bookmarked_pages;\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n})\r\n</script>\r\n\r\n<style>\r\n#close-menu {\r\n    width: 32px !important;\r\n    position: relative;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: 2;\r\n    display: none;\r\n    height: 18px;\r\n}\r\n#menu-left:hover #close-menu {\r\n    display: block;\r\n}\r\n#menu-left.translate-menu-left #close-menu {\r\n    display: none;\r\n}\r\n.page-type {\r\n    font-size: 12px; \r\n    font-weight: 500; \r\n    padding: 1px 2px;\r\n    margin-left: 12px;\r\n    color: var(--tertary-color);\r\n    width: fit-content;\r\n}\r\n.initials {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 12px;\r\n    height: 45px;\r\n    padding: 0 15px;\r\n    user-select: none;\r\n}\r\n#menu-left {\r\n    width: 220px;\r\n    height: 100vh;\r\n    box-shadow: rgba(0, 0, 0, 0.024) -1px 0 0 0 inset;\r\n    background-color: rgb(251, 251, 250);\r\n    flex-grow: 0;\r\n    flex-shrink: 0;\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1;\r\n}\r\n#menu-left.translate-menu-left {\r\n    width: 0;\r\n}\r\n#menu-left-wrapper {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    visibility: visible;\r\n    width: 220px;\r\n    opacity: 1;\r\n    transition-property: width, opacity, transform;\r\n    transition-duration: 270ms;\r\n    transition-timing-function: ease;\r\n}\r\n#menu-left-wrapper.translate-menu-left-wrapper {\r\n    transform: translateY(60px) translateX(-200px);\r\n}\r\n#menu-left-wrapper.translate-menu-left-wrapper:hover {\r\n    transform: translateY(60px);\r\n}\r\n#menu-left.translate-menu-left {\r\n    width: 0;\r\n}\r\n.translate-menu-left-wrapper:hover > div:first-child {\r\n    box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 3px 6px, rgba(15, 15, 15, 0.2) 0px 9px 24px;\r\n}\r\n.translate-menu-left-wrapper:hover > div:nth-child(2) {\r\n    box-shadow: rgba(0, 0, 0, 0.024) -1px 0px 0px 0px inset;\r\n}\r\n\r\n.translate-menu-left-wrapper:hover > div {\r\n    border-radius: 3px;\r\n}\r\n#menu-left-wrapper.translate-menu-left-wrapper > div {\r\n    max-height: calc(100vh - 120px);\r\n}\r\n#menu-left .button-wrapper {\r\n    color: var(--secondary-black-color);\r\n    font-size: 12px;\r\n    display: flex;\r\n    gap: 9px;\r\n    align-items: center;\r\n    padding: 3px 12px;\r\n    user-select: none;\r\n}\r\n.button-wrapper .button-icon {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.button-wrapper span {\r\n    text-wrap: nowrap;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n}\r\n</style>@/services/transactions/types/Transaction","import script from \"./MenuLeft.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./MenuLeft.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./MenuLeft.vue?vue&type=style&index=0&id=7748cf7e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <header\r\n        style=\"max-width: 100vw; z-index: 100; background: white; user-select: none;\"\r\n    >\r\n        <div class=\"xdoc-topbar\"\r\n            style=\"width: 100%; max-width: 100vw; height: 45px; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s; position: relative;\"\r\n        >\r\n            <div style=\"display: flex; justify-content: space-between; align-items: center; overflow: hidden; height: 45px; padding-left: 12px; padding-right: 10px;\">\r\n                <div\r\n                    style=\"flex-shrink: 0; width: 48px; height: 48px; margin: -12px -6px -12px -12px; padding: 12px;\"\r\n                    v-show=\"getMenuMode !== 'full'\"\r\n                >\r\n                    <div\r\n                        style=\"position: relative;\"\r\n                    >\r\n                        <div \r\n                            style=\"position: absolute; top: 0; left: 0; will-change: opacity; transition-property: opacity; transition-duration: 270ms; transition-timing-function: ease;\" :style=\"`opacity: ${state.opacity};`\"\r\n                        >\r\n                            <div style=\"position: relative; display: flex; align-items: center; justify-content: center; width: 24px; height: 24px; border-radius: 3px;\">\r\n                                <font-awesome-icon\r\n                                    :icon=\"['fas', 'bars']\"\r\n                                    class=\"icon icon-2 ptr hvr-bg\"\r\n                                    id=\"bars-menu\"\r\n                                    style=\"width: 32px !important;\"\r\n                                    @click.prevent.stop=\"setMenuLeftMode(null)\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div \r\n                            @mouseover=\"state.opacity = 0\"\r\n                            @mouseleave=\"state.opacity = 1\"\r\n                            style=\"position: absolute; top: 0; left: 0; will-change: opacity; transition-property: opacity; transition-duration: 270ms; transition-timing-function: ease;\"\r\n                            :style=\"`opacity: ${1-state.opacity}`\"\r\n                        >\r\n                            <div\r\n                                style=\"position: relative; display: flex; align-items: center; justify-content: center; width: 24px; height: 24px; border-radius: 3px;\" \r\n                            >\r\n                                <font-awesome-icon\r\n                                    :icon=\"['fas', 'angles-right']\"\r\n                                    class=\"icon icon-2 ptr hvr-bg\"\r\n                                    id=\"open-menu\"\r\n                                    style=\"width: 32px !important;\"\r\n                                    @click.prevent.stop=\"setMenuLeftMode('full')\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                \r\n                <div style=\"display: flex; align-items: center; margin-right: 8px; height: 45px;\">\r\n                    Budget / FY-24 \r\n                </div>\r\n\r\n                <div style=\"flex-grow: 1; flex-shrink: 1; height: 45px;\"></div>\r\n\r\n                <div style=\"display: flex; align-items: center; justify-content: space-between; padding-right: 0px; padding-left: 12px; flex-grow: 0; flex-shrink: 0; height: 45px; z-index: 101; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s;\">\r\n                    <font-awesome-icon\r\n                        class=\"icon icon-2 ptr hvr-bg\"\r\n                        style=\"width: 32px !important;\"\r\n                        :icon=\"['far', 'star']\"\r\n                    />\r\n        \r\n                    <font-awesome-icon\r\n                        class=\"icon icon-2 ptr hvr-bg\"\r\n                        style=\"width: 32px !important;\"\r\n                        :icon=\"['fas', 'share']\"\r\n                    />\r\n            \r\n                    <div class=\"icon ptr hvr-bg\" style=\"width: 32px; height: 24px; display: flex; justify-content: center;\">\r\n                        <font-awesome-icon \r\n                            class=\"icon-2\"\r\n                            :icon=\"['far', 'bell']\" \r\n                            shake \r\n                        />\r\n                    </div>\r\n            \r\n                    <font-awesome-icon\r\n                        class=\"icon icon-2 ptr hvr-bg\"\r\n                        style=\"width: 32px !important;\"\r\n                        :icon=\"['fas', 'gear']\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    \r\n    </header>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, reactive } from \"vue\";\r\nimport { useMenuLeftStore } from \"@/stores/menuLeft\";\r\n\r\nconst menuLeftStore = useMenuLeftStore();\r\n\r\nconst state = reactive({\r\n    opacity: 1\r\n})\r\n\r\nconst getMenuMode = computed(function () {\r\n    return menuLeftStore.menuLeftMode;\r\n})\r\n\r\nfunction setMenuLeftMode(mode) {\r\n    menuLeftStore.setMenuLeftMode(mode);\r\n}\r\n</script>\r\n\r\n<style>\r\n/* #menu-top {\r\n    height: 45px;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    color: var(--primary-black-color);\r\n    padding: 0 12px;\r\n} */\r\n/* #left {\r\n    width: 266px;\r\n    padding: 0 6px 1px 0;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 6px;\r\n}\r\n#right {\r\n    padding: 6px;\r\n    display: flex;\r\n    gap: 3px;\r\n} */\r\n/* #open-menu {\r\n    opacity: 0;;\r\n}\r\n#left:hover #open-menu {\r\n    opacity: 1;\r\n}\r\n#left:hover #bars-menu {\r\n    opacity: 0;\r\n}\r\n#bars-menu, #open-menu {\r\n    transition: all 300ms;\r\n} */\r\n</style>","import script from \"./MenuTop.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MenuTop.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MenuTop.vue?vue&type=style&index=0&id=e2cdcd50&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div \r\n        role=\"menuitem\"\r\n        tabindex=\"-1\"\r\n        style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: calc(100% - 8px); margin-left: 4px; margin-right: 4px; border-radius: 4px;\"\r\n    >\r\n        <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 45px; font-size: 14px; padding-top: 4px; padding-bottom: 4px;\">\r\n            <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px; margin-top: 1px; align-self: flex-start;\"></div>\r\n\r\n            <div style=\"margin-left: 6px; margin-right: 12px; min-width: 0px; flex: 1 1 auto;\">\r\n                <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                    <div style=\"display: flex; align-items: center;\">\r\n                        <span style=\"margin-right: 6px;\">\r\n                            <slot></slot>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: rgb(120, 119, 116); margin-top: 2px; font-size: 12px;\">\r\n                    <slot name=\"description\"></slot>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\n</script>","import { render } from \"./BaseSlashMenuItem.vue?vue&type=template&id=05750e2e\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\test\\\\x\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineStore } from \"pinia\";\r\nimport { Ref, ref, computed } from \"vue\";\r\n\r\nconst keystrokesAllowedSeq: Record<string, string> = {\r\n    \"Slash\": \"OPEN_SLASH_MENU\",\r\n    \"Enter\": \"ADD_DEFAULT_BLOCK\",\r\n    \"Escape\": \"USER_ESC\"\r\n}\r\n\r\nexport const useKeyStrokeStore = defineStore(\"keyStrokes\", () => {\r\n    const commandString: Ref<string> = ref(\"\");\r\n    let anchorOffset: number = 0;\r\n    let focusOffset: number = 0;\r\n    const spaceEnountered: Ref<boolean> = ref(false);\r\n    const trackCommandString: Ref<boolean> = ref(false);\r\n    const pos: Ref<Record<string, number>> = ref({\r\n        x: 0,\r\n        y: 0\r\n    });\r\n\r\n    function handleKeyStroke(code: string, key: string, args: any): void {\r\n        if (trackCommandString.value === true) {\r\n            handleSlashMenuKeyStrokes(args.text);\r\n\r\n            if (code === \"Space\") {\r\n                if (spaceEnountered.value === true) {\r\n                    trackCommandString.value = false;\r\n                    commandString.value = \"\";\r\n                }\r\n\r\n                spaceEnountered.value = !spaceEnountered.value;\r\n            } else if (code === \"Escape\") {\r\n                commandString.value = \"\";\r\n                spaceEnountered.value = false;\r\n                trackCommandString.value = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleSlashMenuKeyStrokes(text: any): void {     \r\n        commandString.value = text.slice(anchorOffset, focusOffset+1);\r\n    }\r\n\r\n    function setTrackCommand(flag: boolean): void {\r\n        trackCommandString.value = flag;\r\n    }\r\n\r\n    function setCommandString(value: string): void {\r\n        commandString.value = value;\r\n    }\r\n\r\n    function setAnchorOffset(aOffset: number) {\r\n        anchorOffset = aOffset;\r\n    }\r\n\r\n    function setFocusOffset(fOffset: number) {\r\n        if (fOffset <= anchorOffset) {\r\n            setTrackCommand(false);\r\n            spaceEnountered.value = false;\r\n            setCommandString(\"\");\r\n        }\r\n        focusOffset = fOffset;\r\n    }\r\n\r\n    function setPositions(posX: number, posY: number) {\r\n        pos.value.x = posX;\r\n        pos.value.y = posY;\r\n    }\r\n\r\n    return {\r\n        showSlashMenu: computed(() => trackCommandString),\r\n        commandString: computed(() => commandString.value),\r\n        handleKeyStroke,\r\n        setTrackCommand,\r\n        setCommandString,\r\n        setAnchorOffset,\r\n        setFocusOffset,\r\n        setPositions,\r\n        getPositions: computed(() => pos.value)\r\n    }\r\n})","<script setup>\r\nimport BaseSlashMenuItem from './BaseSlashMenuItem.vue';\r\nimport { onMounted, onBeforeUnmount } from 'vue';\r\nimport { useKeyStrokeStore } from '@/stores/keyStrokes';\r\nimport { computed, defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    pos: Object\r\n})\r\n\r\nconst keystrokesStore = useKeyStrokeStore();\r\n\r\nfunction handleClickOutside(e) {\r\n    const menuNode = document.getElementsByClassName(\"xdoc-page-slash-menu\")[0];\r\n    const isClickOutside = !menuNode.contains(e.target);\r\n    if (isClickOutside === true) {\r\n        keystrokesStore.setTrackCommand(false);\r\n        keystrokesStore.setCommandString(\"\");\r\n    }\r\n}\r\n\r\nconst filteredBlocksOptions = computed(function () {\r\n    if (!keystrokesStore.commandString) {\r\n        return allBlocks;\r\n    }\r\n\r\n    return allBlocks.filter(block => block.label.toLowerCase().includes(keystrokesStore.commandString.slice(1)))\r\n});\r\n\r\nconst positions = computed(function() {\r\n    //adjustment for current line = 24px\r\n\r\n    if (window.innerHeight > props.pos.y + window.innerHeight * 0.4) {\r\n        return {\r\n            top: props.pos.y + \"px\",\r\n            left: props.pos.x + \"px\"\r\n        }\r\n    }\r\n\r\n    return {\r\n        bottom: -1 * (window.innerHeight - props.pos.y) + \"px\",\r\n        left: props.pos.x + \"px\"\r\n    }\r\n})\r\n\r\nconst allBlocks = [\r\n    { label: 'Paragraph', type: 'paragraph', id: 'paragraph', description: \"Just start writing with plain text.\" },\r\n    { label: 'Checkbox', type: 'checkbox', id: 'checkbox', description: \"to do list\" },\r\n    { label: 'List', type: 'list', id: 'list', description: \"make a list\" },\r\n]\r\n\r\nfunction handleBlockSelection(id, type) {\r\n    console.log(id, type)\r\n}\r\n\r\nonMounted(() => {\r\n    document.addEventListener(\"click\", handleClickOutside);\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n    document.removeEventListener(\"click\", handleClickOutside);\r\n})\r\n</script>\r\n\r\n<template>\r\n    <div data-overlay=\"true\"\r\n        style=\"pointer-events: auto; position: relative; z-index: 0;\"\r\n    >\r\n        <div>\r\n            <div\r\n                style=\"position: fixed; pointer-events: none;\"\r\n                :style=\"positions\"\r\n                class=\"xdoc-page-slash-menu\"\r\n            >\r\n                <div style=\"height: 22px; width: 0;\"></div>\r\n\r\n                <div\r\n                    style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-start;\"\r\n                >\r\n\r\n                    <div\r\n                        style=\"position: relative; pointer-events: auto; bottom: 100%;\"\r\n                    >\r\n\r\n                        <div style=\"display: flex; align-items: center; position: relative; flex-direction: column; transform-origin: 0% bottom; left: 0px; opacity: 1; bottom: 4px; transition-property: opacity, transform; transition-duration: 270ms; transition-timing-function: ease;\">\r\n                            <div \r\n                                role=\"dialog\" \r\n                                style=\"border-radius: 6px; background: white; backdrop-filter: none; position: relative; max-width: calc(100vw - 24px); box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 3px 6px, rgba(15, 15, 15, 0.2) 0px 9px 24px; overflow: hidden;\"\r\n                            >\r\n                                <div style=\"display: flex; flex-direction: column; width: 324px; min-width: 180px; max-width: calc(100vw - 24px); height: 100%; max-height: 40vh;\">\r\n                                    <div class=\"xdoc-scroller vertical\"\r\n                                        style=\"z-index: 1; flex-grow: 1; min-height: 0px; transform: translateZ(0px); overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n                                    >\r\n                                        <div tabindex=\"0\" role=\"menu\">\r\n                                            <div style=\"padding-top: 6px; padding-bottom: 6px;\">\r\n                                                <div style=\"display: flex; padding-left: 14px; padding-right: 14px; margin-top: 6px; margin-bottom: 8px; color: rgba(55, 53, 47, 0.65); fill: rgba(55, 53, 47, 0.45); font-size: 12px; font-weight: 500; line-height: 120%; user-select: none;\">\r\n                                                    <div style=\"align-self: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">Basic blocks</div>\r\n\r\n                                                    <div style=\"margin-left: auto;\"></div>\r\n                                                </div>\r\n\r\n                                                <base-slash-menu-item\r\n                                                    v-for=\"(block, i) in filteredBlocksOptions\"\r\n                                                    :key=\"block.id\"\r\n                                                    @click=\"handleBlockSelection(block.id, block.type)\"\r\n                                                    :style=\"focusedMenuItemIndex === i ? 'background: rgba(55, 53, 47, 0.08);' : ''\"\r\n                                                >\r\n                                                    {{ block.label }}\r\n\r\n                                                    <template #description>\r\n                                                        {{ block.description }}\r\n                                                    </template>\r\n                                                </base-slash-menu-item>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <footer style=\"flex-shrink: 0;\"></footer>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>","import script from \"./BaseSlashMenu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseSlashMenu.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div \r\n        class=\"xdoc-peek-renderer\"\r\n        role=\"region\"\r\n        aria-label=\"Side peek\"\r\n        :style=\"style + ' ' + state.style\"\r\n        v-if=\"props.blockId !== null && props.peekMode !== null\"\r\n    >\r\n        <div style=\"width: 100%; height: 100%;\"\r\n            @click.stop=\"closeSidePeek\" \r\n        ></div>\r\n        \r\n        \r\n        <div \r\n            v-if=\"props.blockId !== null\"\r\n            style=\"display: flex; flex-direction: column; position: absolute; background: white; margin-left: auto; box-shadow: rgba(15, 15, 15, 0.016) 0 0 0 1px, rgba(15, 15, 15, 0.03) 0 3px 6px, rgba(15, 15, 15, 0.06) 0 9px 24px;\"\r\n            :style=\"props.peekMode === 's' ? ' top: 0; right: 0; width: 100%; height: 100%; border-radius: 0;' : 'top: 72px; left: 72px; right: 72px; margin-right: auto; height: calc(100% - 144px); max-width: 970px; border-radius: 3px;'\"\r\n        >\r\n            <div v-if=\"props.peekMode === 's'\" style=\"position: absolute; top: 0; left: -1px; bottom: -1px; pointer-events: auto; flex-grow: 0; z-index: 109;\">\r\n                <div style=\"cursor: col-resize; height: 100%; width: 12px; margin-left: auto-6px;\"></div>\r\n            </div>\r\n\r\n            <div style=\"z-index: 110; background: white; border-top-left-radius: 5px; border-top-right-radius: 5px;\">\r\n                <div style=\"height: 44px; display: flex; justify-content: space-between; align-items: center; padding-left: 12px; padding-right: 12px;\">\r\n                    <div style=\"display: flex; align-items: center;\" class=\"hvr-bg\">\r\n                        <div \r\n                            role=\"button\"\r\n                            tabindex=\"0\"\r\n                            @click=\"closeSidePeek\"\r\n                            style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer;display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; border-radius: 3px; height: 24px; width: 24px; padding: 0;\"\r\n                        >\r\n                            <font-awesome-icon style=\"height: 16px; width: 16px;\" :icon=\"['fas', 'angles-right']\"></font-awesome-icon>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style=\"flex-grow: 1; flex-shrink: 1;\"></div>\r\n\r\n                    <div style=\"display: flex; align-items: stretch; flex-grow: 0; flex-shrink: 0; z-index: 1;\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <base-data-provider\r\n                :block-id=\"props.blockId\"\r\n                space-id=\"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n                table=\"block\"\r\n                v-slot=\"{ recordValueInStore }\"\r\n                :key=\"props.blockId\"\r\n            >\r\n            <!-- :peek-mode=\"props.peekMode\"\r\n            :style=\"props.peekMode === 'c' ? 'transform: translateZ(0);' : ''\" -->\r\n                <RenderPage v-if=\"recordValueInStore\"\r\n                    :block-id=\"props.blockId\"\r\n                />\r\n            </base-data-provider>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, reactive, defineProps } from \"vue\";\r\nimport RenderPage from \"@/ui/components/RenderPage.vue\";\r\nimport BaseDataProvider from \"./BaseDataProvider.vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\n\r\nconst state = reactive({\r\n    width: 522,\r\n    style: \"\"\r\n})\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        default: null\r\n    },\r\n    peekMode: {\r\n        type: String,\r\n        default: null\r\n    }\r\n})\r\n\r\nconst style = computed(function() {\r\n    let s = \"position: fixed; \";\r\n\r\n    if (props.peekMode !== \"c\") {\r\n        s += `top: 0px; right: 0px; bottom: 0px; width: 50%; z-index: 109; transition-property: transform; transition-duration: 270ms; transition-timing-function: ease;`;\r\n    }\r\n    else {\r\n        s += \"inset: 0; z-index: 99; background-color: rgba(15, 15, 15, 0.6);\"\r\n    }\r\n\r\n    if (props.blockId === null) {\r\n        s += \"transform: translateX(100%) translateZ(0);\"\r\n    }\r\n\r\n    return s;\r\n})\r\n\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nfunction closeSidePeek() {\r\n    state.style = \"transform: translateX(100%) translateZ(0);\";\r\n\r\n    setTimeout(function() {\r\n        router.push(route.path);\r\n        state.style = \"\";\r\n    }, 270)\r\n}\r\n</script>","import script from \"./PagePeekSide.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PagePeekSide.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div>\r\n        <div \r\n            @click.self=\"handleClickOutside\"\r\n            style=\"position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;\"\r\n        ></div>\r\n\r\n        <div style=\"position: fixed; pointer-events: none;\" \r\n            :style=\"{ top: `${pos.top}px`, left: `${pos.left}px`}\"\r\n        >\r\n            <div style=\"width: 272px; height: 0px;\"></div>\r\n\r\n            <div style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: flex-start; align-items: flex-end;\">\r\n                <div style=\"position: relative; top: 100%; pointer-events: auto;\">\r\n                    <div style=\"display: flex; align-items: center; position: relative; flex-direction: column-reverse; transform-origin: 100% top; opacity: 1; transition-property: opacity, transform; transition-duration: 270ms; transition-timing-function: ease;\">\r\n                        <div ref=\"dialog\" role=\"dialog\" style=\"width: 272px; border-radius: 6px; background: white; backdrop-filter: none; position: relative; max-width: calc(-24px + 100vw); box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 3px 6px, rgba(15, 15, 15, 0.2) 0px 9px 24px; overflow: hidden;\">\r\n                            \r\n                            <slot></slot>\r\n\r\n                            <footer style=\"flex-shrink: 0;\"></footer>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useGeneralStore } from '@/stores/general';\r\nimport { ref, onMounted, watch, defineProps } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    show: {\r\n        type: Boolean,\r\n        default: true\r\n    }\r\n})\r\n\r\nwatch(\r\n    () => props.show,\r\n    (value) => {\r\n        if(value === false) {\r\n            handleClickOutside();\r\n        }\r\n    }\r\n)\r\n\r\nconst generalStore = useGeneralStore();\r\n\r\nfunction handleClickOutside() {\r\n    generalStore.dialog = {};\r\n    generalStore.setCurrentComponentInDefaultOverlay(null, {});\r\n}\r\n\r\nconst pos = ref({});\r\nconst dialog = ref();\r\n\r\nonMounted(() => {\r\n    const { height: dialogHeight, width: dialogWidth } = dialog.value.getBoundingClientRect();\r\n\r\n    const adjustmentY = window.innerHeight - generalStore.dialog.top - dialogHeight - 36;\r\n    const adjustmentX = window.innerWidth - generalStore.dialog.left - dialogWidth - 36;\r\n\r\n    pos.value = {\r\n        top: adjustmentY < 0 ? generalStore.dialog.top + adjustmentY : generalStore.dialog.top,\r\n        left: adjustmentX < 0 ? generalStore.dialog.left + adjustmentX : generalStore.dialog.left\r\n    };\r\n})\r\n</script>","import script from \"./DialogView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div style=\"padding: 6px 9px; font-size: 14px; min-height: 34px; display: flex; height: 100%; flex-direction: column; justify-content: space-between; flex-grow: 1; font-weight: 500;\">\r\n        <div \r\n            ref=\"propertyValueDialog\"\r\n            class=\"notranslate\"\r\n            spellcheck=\"true\"\r\n            data-content-editable-leaf=\"true\"\r\n            contenteditable=\"true\"\r\n            style=\"width: 100%; height: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47);\"\r\n        >{{ propertyValue }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, defineEmits, ref, toRef } from 'vue';\r\nimport { usePropertyData } from \"@/ui/composables/usePropertyData\";\r\n\r\nconst emits = defineEmits([\r\n    \"value-change\"\r\n]);\r\n\r\nconst props = defineProps({\r\n    pageId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    propertyId: {\r\n        type: String,\r\n        default: \"title\"\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n});\r\n\r\nconst propertyValueDialog = ref(null);\r\n\r\nconst { propertyValue } = usePropertyData(\r\n    toRef(() => props),\r\n    () => emits(\"value-change\", {\r\n        value: [[propertyValueDialog.value.innerText]]\r\n    })\r\n);\r\n</script>","import script from \"./DialogPagePropertyTitle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogPagePropertyTitle.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div class=\"xdoc-scroller vertical\"\r\n        style=\"z-index: 1; flex-shrink: 0; max-height: 240px; box-shadow: rgba(55, 53, 47, 0.16) 0px -1px inset; overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n    >\r\n        <div style=\"display: flex; flex-direction: column; align-items: stretch; flex: 1 1 0%;\">\r\n            <div class=\"xdoc-scroller vertical horizontal\"\r\n                style=\"z-index: 1; display: flex; flex-wrap: wrap; align-items: flex-start; background: rgba(242, 241, 238, 0.6); cursor: text; overflow: auto; padding: 8px 9px 1px; width: 100%; min-height: 34px; font-size: 14px; margin-right: 0px; margin-bottom: 0px;\"\r\n            >\r\n                <page-property-tag-value\r\n                    style=\"padding-left: 6px; padding-right: 0px; margin: 0px 6px 6px 0px;\"\r\n                    v-for=\"option in propertyValueParsed\"\r\n                    :tag=option\r\n                    :key=\"option.value\"\r\n                >\r\n                    <base-button\r\n                        :hover-style=\"{ fill: 'rgb(55, 53, 47, 0.8)' }\"\r\n                        style=\"width: 20px; height: 20px; margin-left: 2px; margin-right: 2px;\"\r\n                    >\r\n                        <svg role=\"graphics-symbol\" viewBox=\"0 0 8 8\" class=\"closeThick\" style=\"width: 8px; height: 8px; display: block; fill: inherit; flex-shrink: 0; opacity: 0.5;\"><polygon points=\"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4\"></polygon></svg>\r\n                    </base-button>\r\n                </page-property-tag-value>\r\n\r\n                <div style=\"display: flex; flex-grow: 1; height: 20px; align-items: center; min-width: 0px; max-width: 100%; margin: 0px 6px 6px 0px;\">\r\n                    <input \r\n                        v-model.trim=\"filterOptionString\"\r\n                        type=\"text\" \r\n                        placeholder \r\n                        size=\"1\" \r\n                        autocomplete=\"off\" \r\n                        style=\"font-size: inherit; line-height: inherit; border: none; background: none; width: 100%; display: block; resize: none; padding: 0px; height: 18px;\"\r\n                    >\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"xdoc-scroller vertical\"\r\n        style=\"z-index: 1; flex-grow: 1; min-height: 0px; translate: translateZ(0px); overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n    >\r\n        <div role=\"menu\" tabindex=\"0\">\r\n            <div style=\"padding-top: 6px; padding-bottom: 6px;\">\r\n                <div style=\"display: flex; padding-right: 14px; padding-left: 14px; margin-top: 6px; margin-bottom: 8px; color: rgba(55, 53, 47, 0.65); fill: rgba(55, 53, 47, 0.45); font-size: 12px; font-weight: 500; line-height: 120%; user-select: none;\">\r\n                    Select an option or create one\r\n                </div>\r\n\r\n                <div style=\"margin: 0;\">\r\n                    <div style=\"display: flex; flex-direction: column;\">\r\n                        <div role=\"menuitem\" tabindex=\"-1\" style=\"user-select: none; margin-right: 4px; margin-left: 4px; width: calc(100% - 8px); cursor: pointer; border-radius: 4px; transition: background 20ms ease-in 0s;\">\r\n                            <div style=\"display: flex; align-items: center; user-select: none; font-size: 14px; min-height: 28px;\"\r\n                                v-for=\"option in filteredOptions\"\r\n                                @click.stop=\"handleOptionSelect(option.id)\"\r\n                                :key=\"option.id\"\r\n                            >\r\n                                <div style=\"display: flex; align-items: center; justify-content: center; width: 18px; height: 24px; flex-shrink: 0; cursor: -webkit-grab; margin-left: 8px; margin-right: -4px;\">\r\n                                    <svg role=\"graphics-symbol\" viewBox=\"0 0 10 10\" class=\"dragHandle\" style=\"width: 12px; height: 12px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><path d=\"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z\"></path></svg>\r\n                                </div>\r\n\r\n                                <page-property-tag-value\r\n                                    style=\"margin-left: 12px; padding-right: 6px; padding-left: 6px;\"\r\n                                    :tag=option\r\n                                >\r\n                                </page-property-tag-value>\r\n\r\n                                <div style=\"margin-left: auto; margin-right: 12px; min-width: 0px; flex-shrink: 0;\">\r\n                                    <base-button style=\"height: 24px; width: 24px; user-select: none; cursor: pointer; transition: background 20ms ease-in 0s; opacity: 1; display: inline-flex; align-items: center; justify-content: center; border-radius: 4px; margin-right: -6px;\">\r\n                                        <svg role=\"graphics-symbol\" viewBox=\"0 0 13 3\" class=\"dots\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><g><path d=\"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z\"></path><path d=\"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z\"></path><path d=\"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z\"></path></g></svg>\r\n                                    </base-button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <footer style=\"flex-shrink: 0;\"></footer>\r\n</template>\r\n\r\n<script setup>\r\nimport PagePropertyTagValue from './PagePropertyTagValue.vue';\r\nimport BaseButton from './BaseButton.vue';\r\nimport { computed, defineProps, ref, toRef, defineEmits } from 'vue';\r\nimport { usePropertyData } from '../composables/usePropertyData';\r\nimport { parseCommaSeparatedPropertyValues } from '@/helpers/globals/parseCommaSeparatedPropertyValues';\r\n\r\nconst emits = defineEmits([\r\n    \"value-change\"\r\n]);\r\n\r\nconst props = defineProps({\r\n    multiselect: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    propertyId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    pageId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst { property, propertyValue } = usePropertyData(\r\n    toRef(() => props),\r\n    () => {}\r\n);\r\n\r\nconst propertyValueParsed = ref([]);\r\n\r\nparseCommaSeparatedPropertyValues(\r\n    props.multiselect ? \"multiselect\" : \"select\",\r\n    propertyValueParsed,\r\n    property,\r\n    propertyValue\r\n);\r\n\r\nfunction getOptionById(_id) {\r\n    return property.options.find(({id}) => id === _id);\r\n}\r\n\r\nfunction handleOptionSelect(optionId) {\r\n    const option = getOptionById(optionId);\r\n    if(props.multiselect) {\r\n        propertyValueParsed.value.push(option);\r\n    }\r\n    else {\r\n        propertyValueParsed.value = [option]\r\n    }\r\n\r\n    const commaSeparatedValue = propertyValueParsed.value.map(({value}) => value).join(\",\");\r\n\r\n    emits(\"value-change\", {\r\n        value: [[commaSeparatedValue]],\r\n        dialogShow: props.multiselect\r\n    })\r\n}\r\n\r\nconst filterOptionString = ref(\"\");\r\nconst filteredOptions = computed(function() {\r\n    if (!filterOptionString.value) return [...property.options];\r\n    return [...property.options.filter(option => option.value.toLowerCase().indexOf(filterOptionString.value?.toLowerCase()) !== -1)];\r\n})\r\n</script>","import script from \"./DialogPagePropertyMultiselect.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogPagePropertyMultiselect.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div style=\"display: flex; flex-direction: column; min-width: 180px; max-width: calc(-24px + 100vw); height: 100%; max-height: 70vh;\">\r\n        <div style=\"flex-shrink: 0;\">\r\n            <div style=\"display: flex; width: 100%; position: relative; z-index: 2; padding: 6px 10px; font-size: 14px; background: rgba(242, 241, 238, 0.6); box-shadow: rgba(55, 53, 47, 0.16) 0px 1px;\">\r\n                <div style=\"display: flex; align-items: center; border: none; padding: 0px; background: transparent; font-size: inherit; line-height: inherit; flex-grow: 1;\">\r\n                    <input type=\"text\"\r\n                        placeholder=\"Link or create a page...\"\r\n                        autocomplete=\"on\"\r\n                        style=\"font-size: inherit; line-height: inherit; border: none; background: none; width: 100%; display: block; resize: none; padding: 0px;\"\r\n                    >\r\n                </div>\r\n    \r\n                <div style=\"margin-left: 10px; display: flex; align-items: center; flex-shrink: 1; overflow: hidden; text-overflow: ellipsis;\">\r\n                    In  {{ props.pageId }}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"xdoc-scroller vertical\"\r\n            style=\"z-index: 1; flex-grow: 1; min-height: 0px; transform: translateZ(0px); overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n        >\r\n            <div style=\"overflow: hidden; max-height: 70vh;\">\r\n                <div class=\"xdoc-scroller vertical\"\r\n                    style=\"z-index: 1; width: 100%; max-height: 300px; position: relative; overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n                >\r\n                    <div style=\"padding: 4px 0px;\"\r\n                        tabindex=\"0\"\r\n                        role=\"menu\"\r\n                    >\r\n                        <div style=\"padding-top: 0px; padding-bottom: 4px;\">\r\n                            <div style=\"display: flex; padding-left: 12px; padding-right: 9px; margin-top: 6px; margin-bottom: 6px; color: rgba(55, 53, 47, 0.65); fill: rgba(55, 53, 47, 0.45); font-size: 12px; font-weight: 500; line-height: 120%; user-select: none; height: 19px; align-items: center;\">\r\n                                <div style=\"display: flex; align-self: center;\">1 linked page</div>\r\n\r\n                                <div style=\"margin-left: auto;\">\r\n                                    <base-button\r\n                                        style=\"height: 24px; width: 24px;\"\r\n                                    >\r\n                                        <svg role=\"graphics-symbol\" viewBox=\"0 0 13 3\" class=\"dots\" style=\"width: 16px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0; color: rgba(55, 53, 47, 0.45);\"><g><path d=\"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z\"></path><path d=\"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z\"></path><path d=\"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z\"></path></g></svg>\r\n                                    </base-button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style=\"padding-top: 0px; padding-bottom: 4px;\">\r\n                            <div style=\"display: flex; padding-left: 12px; padding-right: 9px; margin-top: 6px; margin-bottom: 6px; color: rgba(55, 53, 47, 0.65); fill: rgba(55, 53, 47, 0.45); font-size: 12px; font-weight: 500; line-height: 120%; user-select: none; height: 19px; align-items: center;\">\r\n                                <div style=\"display: flex; align-self: center;\">Link a page</div>\r\n\r\n                                <div style=\"margin-left: auto;\">\r\n                                    <base-button\r\n                                        style=\"height: 24px; width: 24px;\"\r\n                                    >\r\n                                        <svg role=\"graphics-symbol\" viewBox=\"0 0 13 3\" class=\"dots\" style=\"width: 16px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0; color: rgba(55, 53, 47, 0.45);\"><g><path d=\"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z\"></path><path d=\"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z\"></path><path d=\"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z\"></path></g></svg>\r\n                                    </base-button>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div style=\"display: flex; align-items: center; width: calc(100% + 48px); padding-left: 48px; position: relative; left: -48px;\">\r\n                                <div style=\"display: flex; align-items: center; width: 100%;\">\r\n                                    <base-button style=\"position: relative; display: flex; justify-content: unset; margin: 0px 4px; padding: 2px 4px 2px 0px; height: 32px; width: 100%; border-radius: 4px; flex-shrink: 1;\">\r\n                                        <div style=\"display: flex; align-items: center; margin-right: 8px; max-height: 22px; text-overflow: ellipsis; white-space: nowrap;\">\r\n                                            <div style=\"display: flex; align-items: center; line-height: 1.2; height: 20px; font-size: 14px; font-weight: 500; min-width: 0px; margin: 0px; overflow: hidden; white-space: nowrap; padding-left: 6px;\">\r\n                                                <div class=\"xdoc-record-icon notranslate\"\r\n                                                    style=\"display: flex; align-items: center; justify-content: flex-start; height: 20px; width: 20px; border-radius: 0.25em; flex-shrink: 0; margin-right: 4px;\" \r\n                                                >\r\n                                                    <span role=\"img\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"pageEmpty\" style=\"width: 18px; height: 18px; display: block; fill: rgb(145, 145, 142); flex-shrink: 0;\"><path d=\"M4.35645 15.4678H11.6367C13.0996 15.4678 13.8584 14.6953 13.8584 13.2256V7.02539C13.8584 6.0752 13.7354 5.6377 13.1406 5.03613L9.55176 1.38574C8.97754 0.804688 8.50586 0.667969 7.65137 0.667969H4.35645C2.89355 0.667969 2.13477 1.44043 2.13477 2.91016V13.2256C2.13477 14.7021 2.89355 15.4678 4.35645 15.4678ZM4.46582 14.1279C3.80273 14.1279 3.47461 13.7793 3.47461 13.1436V2.99219C3.47461 2.36328 3.80273 2.00781 4.46582 2.00781H7.37793V5.75391C7.37793 6.73145 7.86328 7.20312 8.83398 7.20312H12.5186V13.1436C12.5186 13.7793 12.1836 14.1279 11.5205 14.1279H4.46582ZM8.95703 6.02734C8.67676 6.02734 8.56055 5.9043 8.56055 5.62402V2.19238L12.334 6.02734H8.95703Z\"></path></svg></span>\r\n                                                </div>\r\n                                                \r\n                                                <div class=\"notranslate\"\r\n                                                    style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px; max-width: 100%;\"\r\n                                                >\r\n                                                    Untitled\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                        <div style=\"position: absolute; gap: 1px; display: inline-flex; right: 6px; top: 4px; height: 24px; width: 24px; padding: 2px;  box-shadow: rgba(15, 15, 15, 0.1) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 2px 4px; border-radius: 4px;\">\r\n                                            <base-button\r\n                                                style=\"height: 20px; width: 20px;\"\r\n                                            >\r\n                                                <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"plus\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><path d=\"M7.977 14.963c.407 0 .747-.324.747-.723V8.72h5.362c.399 0 .74-.34.74-.747a.746.746 0 00-.74-.738H8.724V1.706c0-.398-.34-.722-.747-.722a.732.732 0 00-.739.722v5.529h-5.37a.746.746 0 00-.74.738c0 .407.341.747.74.747h5.37v5.52c0 .399.332.723.739.723z\"></path></svg>\r\n                                                <!-- <svg role=\"graphics-symbol\" viewBox=\"0 0 14 14\" class=\"checkPartial\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><rect x=\"1.75\" y=\"6.125\" width=\"10.5\" height=\"1.75\"></rect></svg> -->\r\n                                            </base-button>\r\n                                        </div>\r\n                                    </base-button>\r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <footer style=\"flex-shrink: 0;\"></footer>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport BaseButton from './BaseButton.vue';\r\nimport { defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    pageId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    propertyId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n</script>","import script from \"./DialogPagePropertyRelation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogPagePropertyRelation.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div role=\"menuitem\"\r\n        style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: calc(100% - 8px); margin-left: 4px; margin-right: 4px; border-radius: 4px;\"\r\n        tabindex=\"-1\"\r\n        class=\"notranslate\"\r\n        :style=\"state.style\"\r\n        @mouseover=\"state.style = props.hoverStyle\"\r\n        @mouseleave=\"state.style = props.defaultStyle\"\r\n    >\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    hoverStyle: {\r\n        type: Object,\r\n        default: () => ({background: 'rgba(55, 53, 47, 0.08)'})\r\n    },\r\n    defaultStyle: {\r\n        type: Object,\r\n        default: () => ({})\r\n    }\r\n})\r\n\r\n\r\nconst state = reactive({\r\n    style: props.defaultStyle\r\n})\r\n</script>","import script from \"./BaseMenuItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseMenuItem.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div style=\"display: flex; flex-direction: column; min-width: 180px; max-width: calc(100vw -24px); height: 100%; max-height: 70vh;\">\r\n        <div class=\"xdoc-scroller vertical\"\r\n            style=\"z-index: 1; flex-shrink: 0; max-height: 240px; box-shadow: rgba(55, 53, 47, 0.16) 0px -1px inset; overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n        >\r\n            <div style=\"display: flex; flex-direction: column; align-items: stretch; flex: 1 1 0%;\">\r\n                <div class=\"xdoc-scroller vertical horizontal\"\r\n                    style=\"z-index: 1; display: flex; align-items: flex-start; cursor: text; flex-wrap: wrap; padding: 8px 9px 1px; overflow: auto; background: rgba(242, 241, 238, 0.6); width: 100%; min-height: 34px; font-size: 14px; margin-right: 0px; margin-bottom: 0px;\"\r\n                >\r\n                    <page-property-status-value\r\n                        :key=\"propertyValueParsed[0].id\"\r\n                        :status=\"propertyValueParsed[0]\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"xdoc-scroller vertical\"\r\n            style=\"z-index: 1; flex-grow: 1; min-height: 0px; transform: translateZ(0px); overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\"\r\n        >\r\n            <div id=\":r11:\" role=\"menu\" tabindex=\"0\">\r\n                <div \r\n                    style=\"padding-top: 6px; padding-bottom: 6px;\"\r\n                    v-for=\"(group, index) in property.groups\"\r\n                    :key=\"group.id\"\r\n                    :style=\"index !== 0 ? { boxShadow: 'rgba(55, 53, 47, 0.09) 0 -1px 0', marginTop: '1px' } : {}\"\r\n                >\r\n                    <div style=\"display: flex; margin-top: 6px; margin-bottom: 8px; padding-right: 14px; padding-left: 14px; color: rgba(55, 53, 47, 0.65); font-size: 12px; font-weight: 500; line-height: 120%; user-select: none;\"\r\n                    >{{ group.name }}</div>\r\n                    \r\n                    <base-menu-item v-for=\"(optionId) in group.optionIds\"\r\n                        @click.stop=\"handleStatusSelect(optionId)\"\r\n                        :key=\"optionId\"\r\n                    >\r\n                        <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 28px; font-size: 14px;\">\r\n                            <div style=\"margin-left: 12px; margin-right: 12px; min-width: 0px; flex: 1 1 auto;\">     \r\n                                <div style=\"display: flex;\">\r\n                                    <page-property-status-value\r\n                                        :status=\"getOptionById(optionId)\"\r\n                                        :group-color=\"group.color\"\r\n                                        style=\"margin: unset;\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </base-menu-item>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport BaseMenuItem from './BaseMenuItem.vue';\r\nimport PagePropertyStatusValue from './PagePropertyStatusValue.vue';\r\nimport { defineProps, defineEmits, toRef, ref } from 'vue';\r\nimport { usePropertyData } from \"@/ui/composables/usePropertyData\";\r\nimport { parseCommaSeparatedPropertyValues } from \"@/helpers/globals/parseCommaSeparatedPropertyValues\";\r\n\r\nconst emits = defineEmits([\r\n    \"value-change\"\r\n]);\r\n\r\nconst props = defineProps({\r\n    pageId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    propertyId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst { propertyValue = \"\", property } = usePropertyData(\r\n    toRef(() => props),\r\n    () => {}\r\n);\r\n\r\nconst propertyValueParsed = ref([]);\r\n\r\nparseCommaSeparatedPropertyValues(\r\n    \"status\",\r\n    propertyValueParsed,\r\n    property,\r\n    propertyValue\r\n);\r\n\r\nfunction getOptionById(_id) {\r\n    return property.options.find(({id}) => id === _id);\r\n}\r\n\r\nfunction handleStatusSelect(optionId) {\r\n    emits(\"value-change\", {\r\n        value: [[getOptionById(optionId).value]],\r\n        dialogShow: false\r\n    });\r\n}\r\n</script>","import script from \"./DialogPagePropertyStatus.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogPagePropertyStatus.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./DialogPagePropertyPerson.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogPagePropertyPerson.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <dialog-view :show=\"showDialogView\">\r\n        <div style=\"display: flex; flex-direction: column; overflow-y: auto; flex-grow: 1; height: 100%;\">\r\n            <dialog-page-property-multiselect \r\n                v-if=\"propertyType === 'multi_select' || propertyType === 'select'\"\r\n                @value-change=\"handlePropertyValueChange\"\r\n                :multiselect=\"propertyType === 'multi_select' ? true : false\"\r\n                :page-id=\"props.pageId\"\r\n                :property-id=\"props.propertyId\"\r\n                :collection-id=\"props.collectionId\"\r\n                :space-id=\"props.spaceId\"\r\n            />\r\n\r\n            <dialog-page-property-relation\r\n                v-else-if=\"propertyType === 'relation'\"\r\n                :page-id=\"props.pageId\"\r\n                :property-id=\"props.propertyId\"\r\n                :collection-id=\"props.collectionId\"\r\n            />\r\n\r\n            <dialog-page-property-status\r\n                v-else-if=\"propertyType === 'status'\"\r\n                @value-change=\"handlePropertyValueChange\"\r\n                :page-id=\"props.pageId\"\r\n                :property-id=\"props.propertyId\"\r\n                :collection-id=\"props.collectionId\"\r\n                :space-id=\"props.spaceId\"\r\n            />\r\n\r\n            <dialog-page-property-person\r\n                v-else-if=\"propertyType === 'person'\"\r\n                :page-id=\"props.pageId\"\r\n                :property-id=\"props.propertyId\"\r\n                :collection-id=\"props.collectionId\"\r\n            />\r\n\r\n            <dialog-page-property-title \r\n                v-else-if=\"propertyType === 'title'\"\r\n                @value-change=\"handlePropertyValueChange\"\r\n                :page-id=\"props.pageId\"\r\n                :collection-id=\"props.collectionId\"\r\n                :space-id=\"props.spaceId\"\r\n            />\r\n        </div>\r\n    </dialog-view>\r\n</template>\r\n\r\n<script setup>\r\nimport { Collection } from '@/entities/Collection';\r\nimport DialogView from './DialogView.vue';\r\nimport DialogPagePropertyTitle from \"./DialogPagePropertyTitle.vue\";\r\nimport DialogPagePropertyMultiselect from './DialogPagePropertyMultiselect.vue';\r\nimport DialogPagePropertyRelation from './DialogPagePropertyRelation.vue';\r\nimport DialogPagePropertyStatus from './DialogPagePropertyStatus.vue';\r\nimport DialogPagePropertyPerson from './DialogPagePropertyPerson.vue';\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { defineProps, ref } from 'vue';\r\nimport { useGeneralStore } from '@/stores/general';\r\nimport { useTransactionsQueue } from '@/stores/transactionsQueue';\r\nimport { makeTransaction } from '@/services/transactions/factories/makeTransaction';\r\nimport { makeOperation } from '@/services/transactions/factories/makeOperation';\r\n\r\nconst props = defineProps({\r\n    propertyId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    pageId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        default: \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst propertyType = Collection.prototype.getPropertyById.call(\r\n    recordValuesStore.getRecordValue({\r\n        id: props.collectionId,\r\n        table: \"collection\",\r\n        spaceId: props.spaceId\r\n    }),\r\n    ...[props.propertyId]\r\n).type;\r\n\r\nconst showDialogView = ref(true);\r\nfunction handlePropertyValueChange({value, dialogShow=true}) {\r\n    const operations = [\r\n        makeOperation(\r\n            \"set\",\r\n            value,\r\n            [\"properties\", props.propertyId],\r\n            {\r\n                table: \"block\",\r\n                id: props.pageId,\r\n                spaceId: props.spaceId\r\n            }\r\n        )\r\n    ];\r\n    \r\n    useTransactionsQueue().enqueue(\r\n        makeTransaction({\r\n            spaceId: props.spaceId,\r\n            debug: {\r\n                userAction: \"DialogPageProperty=>handlePropertyValueChange\"\r\n            },\r\n            operations\r\n        })\r\n    );\r\n\r\n    useGeneralStore().propertyValueDialog = {\r\n        pageId: props.pageId,\r\n        propertyId: props.propertyId\r\n    };\r\n\r\n    showDialogView.value = dialogShow;\r\n}\r\n</script>","import script from \"./DialogPageProperty.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DialogPageProperty.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div style=\"border-bottom: 1px solid rgba(55, 53, 47, 0.09); margin-bottom: 16px; margin-top: 0; padding-bottom: 12px; font-size: 16px; font-weight: 500; width: auto; color: rgb(55, 53, 47);\">\r\n        <slot></slot>\r\n    </div>\r\n</template>","import { render } from \"./SpaceSettingsContentHeading.vue?vue&type=template&id=0ee56aea\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\test\\\\x\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div style=\"display: flex; align-items: center; justify-content: space-between; cursor: default;\">\r\n        <div style=\"display: flex; flex-direction: column; margin-right: 10px;\">\r\n            <div style=\"border-bottom: 0px; margin-bottom: 2px; margin-top: 0px; font-size: 14px; font-weight: 400; width: auto; color: rgb(55, 53, 47);\">\r\n                <div style=\"display: flex; flex-direction: row;\">\r\n                    <slot name=\"title\"></slot>\r\n                </div>\r\n            </div>\r\n\r\n            <div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.65);\">\r\n                <slot name=\"description\"></slot>\r\n            </div>\r\n        </div>\r\n\r\n        <slot name=\"button\"></slot>\r\n    </div>\r\n</template>","import { render } from \"./SpaceSettingsContentItem2.vue?vue&type=template&id=1b81149e\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\test\\\\x\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function update(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })  \r\n    \r\n    if (!targetNode) targetNode = {};\r\n\r\n    for(const targetNodeProperty in args) {\r\n        const targetNodePropertyValue = targetNode[targetNodeProperty];\r\n\r\n        if(!targetNodePropertyValue) {\r\n            targetNode[targetNodeProperty] = args[targetNodeProperty];\r\n        }\r\n\r\n        for (const key in targetNodePropertyValue) {\r\n            if (args[targetNodeProperty][key]) {\r\n                targetNodePropertyValue[key] = args[targetNodeProperty][key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * \r\n * property type update\r\n */\r\n// {\r\n//     \"pointer\": {\r\n//       \"id\": \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\",\r\n//       \"table\": \"collection\",\r\n//       \"spaceId\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     },\r\n//     \"path\": [\r\n//       \"schema\"\r\n//     ],\r\n//     \"command\": \"update\",\r\n//     \"args\": {\r\n//       \"i^J[\": {\r\n//         \"name\": \"Date\",\r\n//         \"type\": \"number\",\r\n//       }\r\n//     }\r\n//}\r\n\r\n/**\r\n * property delete\r\n*/\r\n// {\r\n//     \"pointer\": {\r\n//       \"id\": \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\",\r\n//       \"table\": \"collection\",\r\n//       \"spaceId\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     },\r\n//     \"path\": [],\r\n//     \"command\": \"update\",\r\n//     \"args\": {\r\n//       \"schema\": {\r\n//         \"Lvw;\": {\r\n//           \"name\": \"Number\",\r\n//           \"type\": \"number\"\r\n//         },\r\n//         \"a=~e\": {\r\n//           \"name\": \"Status\",\r\n//           \"type\": \"status\",\r\n//           \"groups\": [\r\n//             {\r\n//               \"id\": \"25e5fcf2-fb24-4e5c-88aa-c0d7a1acaf43\",\r\n//               \"name\": \"To-do\",\r\n//               \"color\": \"gray\",\r\n//               \"optionIds\": [\r\n//                 \"0ca3665d-d708-430f-a024-95f0d7f907e8\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"360a2d24-f37a-43e2-a4ae-f1f19e5ba5ef\",\r\n//               \"name\": \"In progress\",\r\n//               \"color\": \"blue\",\r\n//               \"optionIds\": [\r\n//                 \"25621df1-d131-4b63-bd98-7cea84b4fb06\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"8abf40d9-7c7e-4502-bd3d-f3995a4f3e0d\",\r\n//               \"name\": \"Complete\",\r\n//               \"color\": \"green\",\r\n//               \"optionIds\": [\r\n//                 \"99126e59-59f5-40d4-b703-1271b73ab663\"\r\n//               ]\r\n//             }\r\n//           ],\r\n//           \"options\": [\r\n//             {\r\n//               \"id\": \"0ca3665d-d708-430f-a024-95f0d7f907e8\",\r\n//               \"value\": \"Not started\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"25621df1-d131-4b63-bd98-7cea84b4fb06\",\r\n//               \"color\": \"blue\",\r\n//               \"value\": \"In progress\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"99126e59-59f5-40d4-b703-1271b73ab663\",\r\n//               \"color\": \"green\",\r\n//               \"value\": \"Done\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             }\r\n//           ],\r\n//           \"defaultOption\": \"Not started\"\r\n//         },\r\n//         \"e_rz\": {\r\n//           \"name\": \"Tags new\",\r\n//           \"type\": \"multi_select\",\r\n//           \"options\": [\r\n//             {\r\n//               \"id\": \"o:Nl\",\r\n//               \"value\": \"two\",\r\n//               \"color\": \"gray\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"oU~O\",\r\n//               \"value\": \"one\",\r\n//               \"color\": \"blue\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"n=^n\",\r\n//               \"color\": \"green\",\r\n//               \"value\": \"random\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             }\r\n//           ]\r\n//         },\r\n//         \"qnO^\": {\r\n//           \"name\": \"Select\",\r\n//           \"type\": \"select\",\r\n//           \"options\": [\r\n//             {\r\n//               \"id\": \"}Y^Q\",\r\n//               \"color\": \"default\",\r\n//               \"value\": \"2\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"pSOZ\",\r\n//               \"color\": \"pink\",\r\n//               \"value\": \"1\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             }\r\n//           ],\r\n//           \"auto_sort_options\": \"manual\"\r\n//         },\r\n//         \"title\": {\r\n//           \"name\": \"Name\",\r\n//           \"type\": \"title\"\r\n//         }\r\n//       },\r\n//       \"deleted_schema\": {\r\n//         \":|qO\": {\r\n//           \"name\": \"Date 5\",\r\n//           \"type\": \"date\"\r\n//         },\r\n//         \"CUH@\": {\r\n//           \"name\": \"Date 1\",\r\n//           \"type\": \"date\"\r\n//         },\r\n//         \"EOPD\": {\r\n//           \"name\": \"Number 1\",\r\n//           \"type\": \"number\",\r\n//           \"number_format\": \"rupee\"\r\n//         },\r\n//         \"EpBu\": {\r\n//           \"name\": \"Text 1\",\r\n//           \"type\": \"text\"\r\n//         },\r\n//         \"HsVQ\": {\r\n//           \"name\": \"Date 4\",\r\n//           \"type\": \"date\"\r\n//         },\r\n//         \"QF\\\\s\": {\r\n//           \"name\": \"Date 2\",\r\n//           \"type\": \"date\"\r\n//         },\r\n//         \"\\\\Vw}\": {\r\n//           \"name\": \"Date 3\",\r\n//           \"type\": \"date\"\r\n//         },\r\n//         \"\\\\h_E\": {\r\n//           \"name\": \"Text\",\r\n//           \"type\": \"text\"\r\n//         },\r\n//         \"\\\\v;>\": {\r\n//           \"name\": \"Multi-select\",\r\n//           \"type\": \"multi_select\",\r\n//           \"options\": [\r\n//             {\r\n//               \"id\": \"\\\\KUr\",\r\n//               \"color\": \"orange\",\r\n//               \"value\": \"some\"\r\n//             }\r\n//           ]\r\n//         },\r\n//         \"q[js\": {\r\n//           \"name\": \"Text 1 1\",\r\n//           \"type\": \"text\"\r\n//         },\r\n//         \"ucM{\": {\r\n//           \"name\": \"Date 2\",\r\n//           \"type\": \"date\"\r\n//         },\r\n//         \"{Bpb\": {\r\n//           \"name\": \"Date 1 1\",\r\n//           \"type\": \"text\",\r\n//           \"description\": \"\"\r\n//         },\r\n//         \"RLaJ\": {\r\n//           \"name\": \"Checkbox\",\r\n//           \"type\": \"checkbox\"\r\n//         },\r\n//         \"i^J[\": {\r\n//           \"name\": \"Date\",\r\n//           \"type\": \"number\",\r\n//           \"options\": [\r\n//             {\r\n//               \"id\": \"w}Rb\",\r\n//               \"color\": \"red\",\r\n//               \"value\": \"tag\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"NdG^\",\r\n//               \"color\": \"purple\",\r\n//               \"value\": \"random\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             },\r\n//             {\r\n//               \"id\": \"MtkE\",\r\n//               \"color\": \"gray\",\r\n//               \"value\": \"some\",\r\n//               \"collectionIds\": [\r\n//                 \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//               ]\r\n//             }\r\n//           ],\r\n//           \"date_format\": \"DD/MM/YYYY\",\r\n//           \"time_format\": \"LT\"\r\n//         }\r\n//       }\r\n//     }\r\n//   }\r\n\r\n/**\r\n * property create\r\n */ \r\n// {\r\n//     \"pointer\": {\r\n//       \"table\": \"collection_view\",\r\n//       \"id\": \"f3498306-3d20-489d-9fa4-1c1693528939\",\r\n//       \"spaceId\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     },\r\n//     \"path\": [\r\n//       \"format\"\r\n//     ],\r\n//     \"command\": \"update\",\r\n//     \"args\": {\r\n//       \"table_properties\": [\r\n//         {\r\n//           \"wrap\": true,\r\n//           \"width\": 276,\r\n//           \"visible\": true,\r\n//           \"property\": \"title\"\r\n//         },\r\n//         {\r\n//           \"wrap\": true,\r\n//           \"width\": 250,\r\n//           \"visible\": true,\r\n//           \"property\": \"i^J[\"\r\n//         },\r\n//         {\r\n//           \"wrap\": true,\r\n//           \"width\": 200,\r\n//           \"visible\": true,\r\n//           \"property\": \"e_rz\"\r\n//         },\r\n//         {\r\n//           \"wrap\": true,\r\n//           \"width\": 200,\r\n//           \"visible\": false,\r\n//           \"property\": \"Lvw;\"\r\n//         },\r\n//         {\r\n//           \"wrap\": true,\r\n//           \"width\": 200,\r\n//           \"visible\": true,\r\n//           \"property\": \"\\\\h_E\"\r\n//         },\r\n//         {\r\n//           \"visible\": true,\r\n//           \"property\": \"EpBu\"\r\n//         },\r\n//         {\r\n//           \"visible\": true,\r\n//           \"property\": \"q[js\"\r\n//         },\r\n//         {\r\n//           \"visible\": true,\r\n//           \"property\": \"EOPD\"\r\n//         },\r\n//         {\r\n//           \"visible\": true,\r\n//           \"property\": \"qnO^\"\r\n//         },\r\n//         {\r\n//           \"visible\": true,\r\n//           \"property\": \"RLaJ\"\r\n//         },\r\n//         {\r\n//           \"visible\": true,\r\n//           \"property\": \"a=~e\",\r\n//           \"statusShowAs\": \"select\"\r\n//         },\r\n//         {\r\n//           \"property\": \"Nwvy\",\r\n//           \"visible\": true\r\n//         }\r\n//       ]\r\n//     }\r\n//   }\r\n// {\r\n//     \"pointer\": {\r\n//       \"id\": \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\",\r\n//       \"table\": \"collection\",\r\n//       \"spaceId\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     },\r\n//     \"path\": [\r\n//       \"schema\"\r\n//     ],\r\n//     \"command\": \"update\",\r\n//     \"args\": {\r\n//       \"Nwvy\": {\r\n//         \"name\": \"test\",\r\n//         \"type\": \"text\"\r\n//       }\r\n//     }\r\n//   }","<template>\r\n    <space-settings-content-header>My profile</space-settings-content-header>\r\n\r\n    <div style=\"display: flex; flex-direction: column;\">\r\n        <div style=\"display: flex; flex-direction: row; align-items: center;\">\r\n            <base-button style=\"width: 60px; height: 60px; position: relative;\"\r\n                :hover-style=\"{}\"\r\n                @mouseover=\"state.showRemoveProfilePicBtn = true;\"\r\n                @mouseleave=\"state.showRemoveProfilePicBtn = false;\"\r\n            >\r\n                <img style=\"border-radius: 100%; height: 60px; width: 60px;\" \r\n                    @click.stop=\"handleProfilePicUpload\"\r\n                />\r\n                \r\n                <base-button style=\"height: 16px; width: 16px; border-radius: 50%; border: solid 1px rgba(15, 15, 15, 0.1); position: absolute; top: -2px; right: -2px;\"\r\n                    v-if=\"state.showRemoveProfilePicBtn\"\r\n                >                    \r\n                    <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"closeSmall\" style=\"width: 10px; height: 10px; display: block; fill: rgb(145, 145, 142); flex-shrink: 0;\"><path d=\"M3.732 11.052c-.303.308-.32.877.011 1.202.33.33.894.32 1.203.011L8 9.21l3.05 3.05c.32.325.872.32 1.197-.011a.857.857 0 00.01-1.197L9.21 8.002l3.05-3.056a.857.857 0 00-.01-1.197.857.857 0 00-1.198-.01L8 6.788 4.946 3.732c-.31-.303-.878-.32-1.203.01-.325.331-.314.895-.01 1.203l3.055 3.056-3.056 3.05z\"></path></svg>\r\n                </base-button>\r\n\r\n                <input type=\"file\" accept=\"image/*\" ref=\"spaceSettingContentMyAccountProfilePic\" style=\"display: none\" />\r\n            </base-button>\r\n\r\n            <div style=\"margin-left: 20px; width: 250px;\">\r\n                <label style=\"display: block; margin-bottom: 4px; font-size: 12px; color: rgba(55, 53, 47, 0.65);\">Name</label>\r\n            \r\n                <div class=\"xdoc-focusable-within\" style=\"display: flex; align-items: center; width: 100%; font-size: 14px; line-height: 20px; position: relative; border-radius: 4px; box-shadow: rgba(15, 15, 15, 0.1) 0 0 0 1px inset; background: rgba(242, 241, 238, 0.6); cursor: text; padding: 4px 10px;\">\r\n                    <input type=\"text\" \r\n                        style=\"font-size: inherit; line-height: inherit; border: none; background: none; width: 100%; display: block; resize: none; padding: 0;\"\r\n                        @input=\"handleProfileNameEdit\"\r\n                    >\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div style=\"height: 48px;\"></div>\r\n\r\n    <space-settings-content-header>Account security</space-settings-content-header>\r\n\r\n    <space-settings-content-item-2>\r\n        <template #title>Email</template>\r\n\r\n        <template #description>hettarkhala068@gmail.com</template>\r\n\r\n        <template #button>\r\n            <base-button style=\"border-radius: 4px; height: 32px; padding: 0 12px; border: solid 1px rgba(55, 53, 47, 0.16)\">Change email</base-button>\r\n        </template>\r\n    </space-settings-content-item-2>\r\n</template>\r\n\r\n<script setup>\r\nimport spaceSettingsContentHeader from \"@/ui/components/SpaceSettingsContentHeading.vue\";\r\nimport BaseButton from \"./BaseButton.vue\";\r\nimport SpaceSettingsContentItem2 from \"@/ui/components/SpaceSettingsContentItem2.vue\";\r\nimport { reactive, ref } from \"vue\";\r\nimport { useTransactionsQueue } from \"@/stores/transactionsQueue\";\r\nimport { update } from \"@/usecases/update\";\r\n\r\nconst spaceSettingContentMyAccountProfilePic = ref('');\r\n\r\nconst state = reactive({\r\n    showRemoveProfilePicBtn: false,\r\n})\r\n\r\nconst transactionStore = useTransactionsQueue();\r\n\r\nfunction handleProfileNameEdit(e) {\r\n    transactionStore.setDelay(0);\r\n\r\n    const op = { \r\n        args: {\r\n            name: e.target.value\r\n        },\r\n        pointer: {\r\n            table: \"xdoc_user\",\r\n            id: \"ca5f99c6-879b-4562-bd41-6651fc8d2099\"\r\n        },\r\n        path: [],\r\n        command: \"update\"\r\n    }\r\n\r\n    update(op.args, op.path, op.pointer);\r\n\r\n    transactionStore.enqueue(op);\r\n\r\n    transactionStore.setDelayDefault();\r\n}\r\n\r\nfunction handleProfilePicUpload() {\r\n    spaceSettingContentMyAccountProfilePic.value.click();\r\n}\r\n</script>","import script from \"./SpaceSettingsContentMyAccount.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SpaceSettingsContentMyAccount.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <base-button style=\"display: flex; justify-content: space-between;\"\r\n        :style=\"props.active ? { fontWeight: 600, background: 'rgba(55, 53, 47, 0.08)' } : {}\"\r\n    >\r\n        <div style=\"display: flex; align-items: center;\">\r\n            <div style=\"width: 20px; height: 20px; margin-right: 8px; color: rgba(55, 53, 47, 0.85); fill: rgba(55, 53, 47, 0.85);\">\r\n                <slot name=\"graphic\"></slot>\r\n            </div>\r\n            \r\n            <div style=\"font-size: 14px; line-height: 20px; color: rgb(55, 53, 47);\"\r\n            ><slot name=\"text\"></slot></div>\r\n        </div>\r\n    </base-button>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from 'vue';\r\nimport BaseButton from './BaseButton.vue';\r\n\r\nconst props = defineProps({\r\n    active: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n})\r\n</script>","import script from \"./SpaceSettingsMenuButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SpaceSettingsMenuButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./SpaceSettingsTableHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SpaceSettingsTableHeader.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./SpaceSettingsTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SpaceSettingsTable.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./SpaceSettingsContentPeople.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SpaceSettingsContentPeople.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div class=\"xdoc-space-settings\"\r\n        style=\"height: 100vh; width: 100vw; position: fixed; top: 0; left: 0; display: flex; align-items: center; justify-content: center; pointer-events: auto; opacity: 1; transition-property: opacity; transition-duration: 270ms; transition-timing-function: ease;\" \r\n    >\r\n        <div style=\"position: absolute; inset: 0; background: rgba(15, 15, 15, 0.6);\"\r\n            @click.stop=\"closeSpaceSettings\"\r\n        ></div>\r\n\r\n        <div style=\"box-shadow: rgba(15, 15, 15, 0.05) 0 0 0 1px, rgba(15, 15, 15, 0.1) 0 5px 10px, rgba(15, 15, 15, 0.2) 0 15px 40px; background: white; position: relative; z-index: 1; border-radius: 12px; width: 1150px; height: calc(100vh - 100px); max-height: 715px; max-width: calc(100vw - 100px);\">\r\n            <div style=\"height: 100%; display: flex; flex-direction: row;\">\r\n                <!-- menu -->\r\n                <div style=\"width: 240px; overflow: hidden auto; flex-shrink: 0;\">\r\n                    <div style=\"height: 100%; display: flex; flex-direction: column; justify-content: space-between; padding-top: 10px; padding-left: 4px; padding-right: 4px;\">\r\n                        <div style=\"padding-bottom: 12px; overflow-y: scroll; height: 100%;\">\r\n                            <div>\r\n                                <template v-for=\"(item, i) in menuItems\" :key=\"i\">\r\n                                    <div style=\"height: 24px; color: rgba(55, 53, 47, 0.65); font-weight: 600; line-height: 1; font-size: 12px; padding-left: 12px; padding-right: 11px; text-overflow: ellipsis; overflow: hidden; display: flex; align-items: center;\"\r\n                                        v-if=\"item.type === 'heading'\"\r\n                                    >{{ item.value }}</div>\r\n                                    \r\n                                    <space-settings-menu-button style=\"padding-left: 12px; padding-right: 12px; height: 27px; margin-top: 1px; margin-bottom: 1px;\"\r\n                                        @click.stop=\"state.contentComponent = item.id\"\r\n                                        :active=\"item.id === state.contentComponent\"\r\n                                        v-if=\"item.type === 'button'\"\r\n                                    >\r\n                                        <template #graphic>\r\n                                            <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"typesCreatedBy\" style=\"width: 20px; height: 20px; display: block; fill: inherit; flex-shrink: 0;\"><path d=\"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 10.4229C6.05176 10.4229 4.54785 11.1133 3.83008 11.9131C2.90039 10.9082 2.33301 9.55469 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 9.55469 13.1064 10.9082 12.1699 11.9131C11.4521 11.1133 9.94824 10.4229 8 10.4229ZM8 9.30176C9.32617 9.30859 10.3516 8.18066 10.3516 6.71094C10.3516 5.33008 9.31934 4.18164 8 4.18164C6.6875 4.18164 5.6416 5.33008 5.64844 6.71094C5.65527 8.18066 6.68066 9.28809 8 9.30176Z\"></path></svg>\r\n                                        </template>\r\n    \r\n                                        <template #text>{{ item.value }}</template>\r\n                                    </space-settings-menu-button>\r\n    \r\n                                    <div style=\"height: 18px;\"\r\n                                        v-if=\"item.type === 'separator'\"\r\n                                    ></div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <!-- content -->\r\n                <div style=\"flex-grow: 1; position: relative; z-index: 1; height: 100%;\">\r\n                    <div style=\"display: flex; flex-direction: column; width: 100%; height: 100%;\">\r\n                        <div class=\"xdoc-scroller vertical horizontal\" \r\n                            style=\"overflow: auto; padding: 36px 60px; margin: 0; z-index: 1;\"\r\n                        >\r\n                            <component\r\n                                :is=\"components[state['contentComponent']]\"\r\n                            />\r\n                        </div>    \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive } from \"vue\";\r\nimport { useGeneralStore } from '@/stores/general';\r\nimport SpaceSettingsContentMyAccount from \"@/ui/components/SpaceSettingsContentMyAccount.vue\";\r\nimport SpaceSettingsMenuButton from \"@/ui/components/SpaceSettingsMenuButton.vue\";\r\nimport SpaceSettingsContentPeople from \"@/ui/components/SpaceSettingsContentPeople.vue\";\r\n\r\nconst components = {\r\n    SpaceSettingsContentMyAccount,\r\n    SpaceSettingsContentPeople\r\n}\r\n\r\nconst state = reactive({\r\n    contentComponent: \"SpaceSettingsContentMyAccount\"\r\n});\r\n\r\nfunction closeSpaceSettings() {\r\n    const generalStore = useGeneralStore();\r\n    generalStore.setCurrentComponentInDefaultOverlay(null, null);\r\n}\r\n\r\nconst menuItems = [\r\n    { type: \"heading\", value: \"Account\" },\r\n    { type: \"button\", value: \"My account\", id: \"SpaceSettingsContentMyAccount\" },\r\n    { type: \"separator\" },\r\n\r\n    { type: \"heading\", value: \"Workspace\" },\r\n    { type: \"button\", value: \"Members\", id: \"members\" },\r\n    { type: \"button\", value: \"People\", id: \"SpaceSettingsContentPeople\" },\r\n    { type: \"separator\" },\r\n];\r\n</script>","import script from \"./SpaceSettings.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SpaceSettings.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","export const captializeFirstCharacter = function(str: string): string {\r\n    return str[0].toUpperCase() + str.slice(1);\r\n}","<template>\r\n    <dialog-view>\r\n        <div style=\"display: flex; flex-direction: column; min-width: 180px; max-width: calc(-24px + 100vw); height: 100%; max-height: 70vh;\">\r\n            <div class=\"xdoc-scroller vertical\" style=\"z-index: 1; flex-grow: 1; min-height: 0px; transform: translateZ(0px); overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\">\r\n                <div style=\"padding-top: 6px; padding-bottom: 6px; margin-top: 8px;\">\r\n                    <div style=\"padding-top: 6px; padding-bottom: 6px\">\r\n                        <base-menu-item\r\n                            @click.stop=\"handleOptionDelete\"\r\n                        >\r\n                            <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 28px; font-size: 14px; padding-top: 4px; padding-bottom: 4px;\">\r\n                                <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px;\">\r\n                                    <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"trash\" style=\"width: 16px; height: 16px; display: block; fill: rgba(55, 53, 47, 0.85); flex-shrink: 0;\"><path d=\"M4.8623 15.4287H11.1445C12.1904 15.4287 12.8672 14.793 12.915 13.7402L13.3799 3.88965H14.1318C14.4736 3.88965 14.7402 3.62988 14.7402 3.28809C14.7402 2.95312 14.4736 2.69336 14.1318 2.69336H11.0898V1.66797C11.0898 0.62207 10.4268 0 9.29199 0H6.69434C5.56641 0 4.89648 0.62207 4.89648 1.66797V2.69336H1.86133C1.5332 2.69336 1.25977 2.95312 1.25977 3.28809C1.25977 3.62988 1.5332 3.88965 1.86133 3.88965H2.62012L3.08496 13.7471C3.13281 14.7998 3.80273 15.4287 4.8623 15.4287ZM6.1543 1.72949C6.1543 1.37402 6.40039 1.14844 6.7832 1.14844H9.20312C9.58594 1.14844 9.83203 1.37402 9.83203 1.72949V2.69336H6.1543V1.72949ZM4.99219 14.2188C4.61621 14.2188 4.34277 13.9453 4.32227 13.542L3.86426 3.88965H12.1152L11.6709 13.542C11.6572 13.9453 11.3838 14.2188 10.9941 14.2188H4.99219ZM5.9834 13.1182C6.27051 13.1182 6.45508 12.9336 6.44824 12.667L6.24316 5.50293C6.23633 5.22949 6.04492 5.05176 5.77148 5.05176C5.48438 5.05176 5.2998 5.23633 5.30664 5.50293L5.51172 12.667C5.51855 12.9404 5.70996 13.1182 5.9834 13.1182ZM8 13.1182C8.28711 13.1182 8.47852 12.9336 8.47852 12.667V5.50293C8.47852 5.23633 8.28711 5.05176 8 5.05176C7.71289 5.05176 7.52148 5.23633 7.52148 5.50293V12.667C7.52148 12.9336 7.71289 13.1182 8 13.1182ZM10.0166 13.1182C10.29 13.1182 10.4746 12.9404 10.4814 12.667L10.6934 5.50293C10.7002 5.23633 10.5088 5.05176 10.2285 5.05176C9.95508 5.05176 9.76367 5.22949 9.75684 5.50293L9.54492 12.667C9.53809 12.9336 9.72949 13.1182 10.0166 13.1182Z\"></path></svg>\r\n                                </div>\r\n            \r\n                                <div style=\"margin-left: 6px; margin-right: 12px; min-width: 0; flex: 1 1 auto;\">Delete</div>\r\n                            </div>\r\n                        </base-menu-item>\r\n                    </div>\r\n            \r\n                    <div style=\"padding-top: 6px; padding-bottom: 6px; box-shadow: rgba(55, 53, 47, 0.09) 0px -1px 0px\">\r\n                        <div style=\"display: flex; padding-left: 14px; padding-right: 14px; margin-top: 6px; margin-bottom: 8px; color: rgba(55. 53, 47, 0.65); fill: rgba(55, 53, 47, 0.45); font-size: 12px; font-weight: 500; line-height: 120%; user-select: none;\">\r\n                            <div style=\"align-self: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">Colors</div>\r\n            \r\n                            <div style=\"margin-left: auto;\">\r\n                            <!-- processing image -->\r\n                            </div>\r\n                        </div>\r\n            \r\n                        <base-menu-item\r\n                            @click.stop=\"handleStyleSelect(color.name)\"  \r\n                            v-for=\"color of colors\"             \r\n                            :key=\"color.name\"                         \r\n                        >\r\n                            <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 28px; font-size: 14px; padding-top: 4px; padding-bottom: 4px;\">\r\n                                <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px;\">\r\n                                    <div style=\"height: 18px; width: 18px; border-radius: 4px; box-shadow: rgba(15, 15, 15, 0.1) 0 0 0 1px inset;\"\r\n                                        :style=\"{ background: color['background'] }\"\r\n                                    ></div>\r\n                                </div>\r\n            \r\n                                <div style=\"margin-right: 12px; margin-left: 6px; min-width: 0px; flex: 1 1 auto;\">\r\n                                    <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">{{ captializeFirstCharacter(color[\"name\"]) }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </base-menu-item>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </dialog-view>\r\n</template>\r\n\r\n<script setup>\r\nimport DialogView from '../components/DialogView.vue';\r\nimport BaseMenuItem from '../components/BaseMenuItem.vue';\r\nimport { captializeFirstCharacter } from '@/helpers/globals/captitalizeFirstCharacter';\r\nimport colors from \"@/assets/colors.json\";\r\nimport { defineProps } from 'vue';\r\nimport { useGeneralStore } from '@/stores/general';\r\nimport { useTransactionsQueue } from '@/stores/transactionsQueue';\r\nimport { makeTransaction } from '@/services/transactions/factories/makeTransaction';\r\nimport { makeOperation } from '@/services/transactions/factories/makeOperation';\r\n\r\nconst props = defineProps({\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    propertyId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    optionId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst generalStore = useGeneralStore();\r\n\r\nfunction handleOptionDelete() {\r\n    useTransactionsQueue().enqueue(\r\n        makeTransaction({\r\n            spaceId: \"\",\r\n            debug: {\r\n                userAction: \"OptionEditView->handleOptionDelete\"\r\n            },\r\n            operations: [\r\n                makeOperation(\r\n                    \"keyedObjectListRemove\",\r\n                    {\r\n                        remove: {\r\n                            id: props.optionId\r\n                        }\r\n                    },\r\n                    ['schema', props.propertyId, 'options'],\r\n                    {\r\n                        id: props.collectionId,\r\n                        table: \"collection\",\r\n                        spaceId: props.spaceId\r\n                    }\r\n                )\r\n            ]\r\n        })\r\n    );\r\n\r\n    generalStore.setCurrentComponentInDefaultOverlay(null, {});\r\n}\r\n\r\nfunction handleStyleSelect(color) {\r\n    useTransactionsQueue().enqueue(\r\n        makeTransaction({\r\n            spaceId: \"\",\r\n            debug: {\r\n                userAction: \"OptionEditView->handleStyleSelect\"\r\n            },\r\n            operations: [\r\n                makeOperation(\r\n                    \"keyedObjectListUpdate\",\r\n                    {\r\n                        id: props.optionId,\r\n                        color\r\n                    },\r\n                    ['schema', props.propertyId, 'options'],\r\n                    {\r\n                        table: \"collection\",\r\n                        id: props.collectionId,\r\n                        spaceId: props.spaceId\r\n                    }\r\n                )\r\n            ]\r\n        })\r\n    );\r\n}\r\n</script>","import script from \"./OptionEditView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OptionEditView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function set(args, path, pointer) {\r\n    if(path.length === 0) {\r\n        useRecordValuesStore().setRecordValue(\r\n            pointer.id, \r\n            pointer.table, \r\n            args, \r\n            pointer.spaceId\r\n        );\r\n\r\n        return;\r\n    }\r\n\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    if(!path.length) {\r\n        targetNode = args;\r\n        return;\r\n    }\r\n    \r\n    let i = 0;\r\n    for(i = 0; i!==path.length - 1; i++) {\r\n        targetNode = targetNode[path[i]];\r\n    }\r\n\r\n    targetNode[path[i]] = args;\r\n}\r\n\r\n/**\r\n * property name change\r\n */\r\n// {\r\n//     \"pointer\": {\r\n//       \"id\": \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\",\r\n//       \"table\": \"collection\",\r\n//       \"spaceId\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     },\r\n//     \"path\": [\r\n//       \"schema\",\r\n//       \"e_rz\",\r\n//       \"name\"\r\n//     ],\r\n//     \"command\": \"set\",\r\n//     \"args\": \"Tags new\"\r\n//   }","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function setParent(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    targetNode.parent_id = args.parentId;\r\n    targetNode.parent_table = args.parentTable;\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function listBefore(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })\r\n\r\n    if(!args.before) {\r\n        targetNode.unshift(args.id);\r\n        return;\r\n    }\r\n\r\n    const indexToPush = targetNode.findIndex((id) => id === args.before);\r\n\r\n    const targetNodeCopy = [...targetNode];\r\n\r\n    targetNode.splice(0, indexToPush);\r\n    targetNode.unshift(args.id);\r\n    targetNode.unshift(...targetNodeCopy.slice(0, indexToPush));\r\n}","<template>\r\n    <dialog-view>\r\n        <div style=\"display: flex; flex-direction: column; min-width: 180px; max-width: calc(-24px + 100vw); height: 100%; max-height: 70vh;\">\r\n            <div style=\"flex-shrink: 0;\">\r\n                <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 28px; font-size: 14px; margin-top: 6px;\">\r\n                    <div style=\"margin-left: 12px; margin-right: 6px; min-width: 0px; flex: 1 1 auto;\">\r\n                        <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                            <div style=\"position: relative; width: 100%;\">\r\n                                <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; position: relative; inset: 0px;\">Templates for<span style=\"margin-left: 4px; font-weight: 600;\">Paid tasks</span></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"xdoc-scroller vertical\" style=\"z-index: 1; flex-grow: 1; min-height: 0px; transform: translateZ(0px); overflow: hidden auto; margin-right: 0px; margin-bottom: 0px;\">\r\n                <div id=\":r10:\" tabindex=\"0\" role=\"menu\">\r\n                    <div style=\"padding-top: 6px; padding-bottom: 6px;\">\r\n                        <div style=\"margin: 0px;\">\r\n                            <div style=\"display: flex; flex-direction: column; cursor: grab;\">\r\n                                <base-data-provider\r\n                                    v-for=\"template in templates\"\r\n                                    :key=\"template.id\"\r\n                                    :pointer=\"{\r\n                                        id: template.id,\r\n                                        table: 'block',\r\n                                        spaceId: props.spaceId\r\n                                    }\"\r\n                                    v-slot=\"{ recordValueInStore}\"\r\n                                >\r\n                                    <base-button \r\n                                        @click.stop=\"handleTemplateSelect(template.id)\"\r\n                                        style=\"margin-right: 4px; margin-left: 4px;\"\r\n                                        v-if=\"recordValueInStore\"\r\n                                    >\r\n                                        <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 28px; font-size: 14px;\">\r\n                                            <div style=\"display: flex; align-items: center; justify-content: center; width: 18px; height: 24px; flex-shrink: 0; cursor: -webkit-grab; margin-left: 8px; margin-right: -4px;\">\r\n                                                <svg role=\"graphics-symbol\" viewBox=\"0 0 10 10\" class=\"dragHandle\" style=\"width: 12px; height: 12px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\">\r\n                                                    <path d=\"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z\"></path>\r\n                                                </svg>\r\n                                            </div>\r\n                                            \r\n                                            <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px;\">\r\n                                                <div class=\"xdoc-record-icon notranslate\" style=\"display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 0.25em; flex-shrink: 0;\">\r\n                                                    <span role=\"img\">\r\n                                                        <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"page\" style=\"width: 18px; height: 18px; display: block; fill: rgb(145, 145, 142); flex-shrink: 0;\">\r\n                                                            <path d=\"M4.35645 15.4678H11.6367C13.0996 15.4678 13.8584 14.6953 13.8584 13.2256V7.02539C13.8584 6.0752 13.7354 5.6377 13.1406 5.03613L9.55176 1.38574C8.97754 0.804688 8.50586 0.667969 7.65137 0.667969H4.35645C2.89355 0.667969 2.13477 1.44043 2.13477 2.91016V13.2256C2.13477 14.7021 2.89355 15.4678 4.35645 15.4678ZM4.46582 14.1279C3.80273 14.1279 3.47461 13.7793 3.47461 13.1436V2.99219C3.47461 2.36328 3.80273 2.00781 4.46582 2.00781H7.37793V5.75391C7.37793 6.73145 7.86328 7.20312 8.83398 7.20312H12.5186V13.1436C12.5186 13.7793 12.1836 14.1279 11.5205 14.1279H4.46582ZM8.95703 6.02734C8.67676 6.02734 8.56055 5.9043 8.56055 5.62402V2.19238L12.334 6.02734H8.95703ZM10.4336 9.00098H5.42969C5.16992 9.00098 4.98535 9.19238 4.98535 9.43164C4.98535 9.67773 5.16992 9.86914 5.42969 9.86914H10.4336C10.6797 9.86914 10.8643 9.67773 10.8643 9.43164C10.8643 9.19238 10.6797 9.00098 10.4336 9.00098ZM10.4336 11.2979H5.42969C5.16992 11.2979 4.98535 11.4893 4.98535 11.7354C4.98535 11.9746 5.16992 12.1592 5.42969 12.1592H10.4336C10.6797 12.1592 10.8643 11.9746 10.8643 11.7354C10.8643 11.4893 10.6797 11.2979 10.4336 11.2979Z\"></path>\r\n                                                        </svg>\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            \r\n                                            <div style=\"margin-left: 6px; margin-right: 6px; min-width: 0px; flex: 1 1 auto;\">\r\n                                                <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                                    <div style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n                                                        <div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                                            {{ getTemplatePageTitle(template.id) }}\r\n                                                        </div>\r\n                                                        \r\n                                                        <span style=\"display: flex; justify-content: space-between; align-items: center;\"></span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            \r\n                                            <div style=\"margin-left: auto; margin-right: 12px; min-width: 0px; flex-shrink: 0;\">\r\n                                                <base-button class=\"xdoc-template-picker-item-action-menu xdoc-fadein\" style=\"border-radius: 4px; width: 24px; height: 24px; margin-right: -6px; padding: 4px;\">\r\n                                                    <svg role=\"graphics-symbol\" viewBox=\"0 0 13 3\" class=\"dots\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><g><path d=\"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z\"></path><path d=\"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z\"></path><path d=\"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z\"></path></g></svg>\r\n                                                </base-button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </base-button>\r\n                                </base-data-provider>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <base-button \r\n                            @click.stop=\"handleTemplateSelect(null)\"\r\n                            style=\"width: calc(100% - 8px); margin-right: 4px; margin-left: 4px;\"\r\n                        >\r\n                            <div style=\"display: flex; align-items: center; line-height: 120%; width: 100%; user-select: none; min-height: 28px; font-size: 14px;\">\r\n                                <div style=\"display: flex; align-items: center; justify-content: center; width: 18px; height: 24px; flex-shrink: 0; cursor: -webkit-grab; margin-left: 8px; margin-right: -4px;\"></div>\r\n                                \r\n                                <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px;\">\r\n                                    <div style=\"display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 0.25em; flex-shrink: 0;\">\r\n                                        <span role=\"img\">\r\n                                            <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"page\" style=\"width: 18px; height: 18px; display: block; fill: rgb(145, 145, 142); flex-shrink: 0;\">\r\n                                                <path d=\"M4.35645 15.4678H11.6367C13.0996 15.4678 13.8584 14.6953 13.8584 13.2256V7.02539C13.8584 6.0752 13.7354 5.6377 13.1406 5.03613L9.55176 1.38574C8.97754 0.804688 8.50586 0.667969 7.65137 0.667969H4.35645C2.89355 0.667969 2.13477 1.44043 2.13477 2.91016V13.2256C2.13477 14.7021 2.89355 15.4678 4.35645 15.4678ZM4.46582 14.1279C3.80273 14.1279 3.47461 13.7793 3.47461 13.1436V2.99219C3.47461 2.36328 3.80273 2.00781 4.46582 2.00781H7.37793V5.75391C7.37793 6.73145 7.86328 7.20312 8.83398 7.20312H12.5186V13.1436C12.5186 13.7793 12.1836 14.1279 11.5205 14.1279H4.46582ZM8.95703 6.02734C8.67676 6.02734 8.56055 5.9043 8.56055 5.62402V2.19238L12.334 6.02734H8.95703ZM10.4336 9.00098H5.42969C5.16992 9.00098 4.98535 9.19238 4.98535 9.43164C4.98535 9.67773 5.16992 9.86914 5.42969 9.86914H10.4336C10.6797 9.86914 10.8643 9.67773 10.8643 9.43164C10.8643 9.19238 10.6797 9.00098 10.4336 9.00098ZM10.4336 11.2979H5.42969C5.16992 11.2979 4.98535 11.4893 4.98535 11.7354C4.98535 11.9746 5.16992 12.1592 5.42969 12.1592H10.4336C10.6797 12.1592 10.8643 11.9746 10.8643 11.7354C10.8643 11.4893 10.6797 11.2979 10.4336 11.2979Z\"></path>\r\n                                            </svg>\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div style=\"margin-left: 6px; margin-right: 6px; min-width: 0px; flex: 1 1 auto;\">\r\n                                    <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n                                            <div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                                Empty\r\n                                            </div>\r\n                                            \r\n                                            <span style=\"display: flex; justify-content: space-between; align-items: center;\">\r\n                                                <span style=\"font-size: 12px; font-weight: 500; color: rgba(55, 53, 47, 0.65);\">DEFAULT</span>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div style=\"margin-left: auto; margin-right: 12px; min-width: 0px; flex-shrink: 0;\">\r\n                                    <base-button class=\"xdoc-template-picker-item-action-menu xdoc-fadein\" style=\"border-radius: 4px; width: 24px; height: 24px; margin-right: -6px; padding: 4px;\">\r\n                                        <svg role=\"graphics-symbol\" viewBox=\"0 0 13 3\" class=\"dots\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><g><path d=\"M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z\"></path><path d=\"M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z\"></path><path d=\"M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z\"></path></g></svg>\r\n                                    </base-button>\r\n                                </div>\r\n                            </div>\r\n                        </base-button>\r\n                    </div>\r\n\r\n                    <div style=\"padding-top: 6px; padding-bottom: 6px; box-shadow: rgba(55, 53, 47, 0.09) 0px -1px 0px; margin-top: 1px;\">\r\n                        <base-menu-item>\r\n                            <div style=\"display: flex; line-height: 120%; align-items: center; width: 100%; user-select: none; min-height: 28px; font-size: 14px;\">\r\n                                <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px;\">\r\n                                    <div style=\"width: 16px;\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"plus\" style=\"width: 100%; height: 100%; display: block; fill: rgb(35, 131, 226); flex-shrink: 0;\"><path d=\"M7.977 14.963c.407 0 .747-.324.747-.723V8.72h5.362c.399 0 .74-.34.74-.747a.746.746 0 00-.74-.738H8.724V1.706c0-.398-.34-.722-.747-.722a.732.732 0 00-.739.722v5.529h-5.37a.746.746 0 00-.74.738c0 .407.341.747.74.747h5.37v5.52c0 .399.332.723.739.723z\"></path></svg></div>\r\n                                </div>\r\n\r\n                                <div style=\"margin-right: 12px; margin-left: 6px; min-width: 0px; flex: 1 1 auto;\">\r\n                                    <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                        <div style=\"color: rgb(35, 131, 226); fill: rgb(35, 131, 226);\">New template</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </base-menu-item>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </dialog-view>\r\n</template>\r\n\r\n<script setup>\r\nimport BaseButton from './BaseButton.vue';\r\nimport BaseMenuItem from './BaseMenuItem.vue';\r\nimport DialogView from './DialogView.vue';\r\nimport BaseDataProvider from './BaseDataProvider.vue';\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { useGeneralStore } from '@/stores/general';\r\nimport { useTransactionsQueue } from '@/stores/transactionsQueue';\r\nimport { defineProps, onMounted } from 'vue';\r\nimport { transformToStandardUUIDFormat } from '../helpers/router/transformToStandardUUIDFormat';\r\nimport uuid from '@/helpers/globals/uuid';\r\nimport { set as setUsecase } from \"@/usecases/set\";\r\nimport { setParent as setParentUsecase } from \"@/usecases/setParent\";\r\nimport { listBefore as listBeforeUsecase } from \"@/usecases/listBefore\";\r\nimport { update as updateUsecase } from \"@/usecases/update\";\r\nimport { useRouter } from 'vue-router';\r\nimport { ref } from \"vue\";\r\n\r\nconst router = useRouter();\r\n\r\nconst props = defineProps({\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    collectionViewId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst templates = ref([]);\r\n\r\nonMounted(async function() {\r\n    const searchResults = await useTransactionsQueue().performSearch({\r\n        type: \"BlocksInCollection\"\r\n    })\r\n\r\n    templates.value = searchResults.results;\r\n})\r\n\r\nconst recordValueStore = useRecordValuesStore();\r\n\r\nfunction getTemplatePageById(templatePageId) {\r\n    return recordValueStore.getRecordValue({\r\n        id: templatePageId,\r\n        table: 'block',\r\n        spceId: props.spaceId\r\n    })\r\n}\r\n\r\nfunction getTemplatePageTitle(templatePageId) {\r\n    return getTemplatePageById(templatePageId)?.properties?.title?.[0]?.[0];\r\n}\r\n\r\nfunction handleTemplateSelect(templatePageId) {\r\n    if (templatePageId === null) {\r\n        console.log(\"empty template\")\r\n    }\r\n    else {\r\n        const blockId = transformToStandardUUIDFormat(uuid());\r\n\r\n        recordValueStore.setRecordValue(\r\n            blockId,\r\n            \"block\",\r\n            { id: blockId },\r\n            props.spaceId\r\n        );\r\n        \r\n        const blockPointer = {\r\n            table: \"block\",\r\n            id: blockId,\r\n            spaceId: props.spaceId\r\n        };\r\n\r\n        setUsecase(\r\n            {\r\n                type: \"page\",\r\n                space_id: props.spaceId,\r\n                id: blockId,\r\n                // version: 1\r\n            },\r\n            [],\r\n            blockPointer\r\n        );\r\n        \r\n        setParentUsecase(\r\n            {\r\n                parentId: props.collectionId,\r\n                parentTable: \"collection\"\r\n            },\r\n            [],\r\n            blockPointer\r\n        );\r\n\r\n        const collectionViewRecordValueInStore = recordValueStore.getRecordValue({\r\n            id: props.collectionViewId,\r\n            table: \"collection_view\",\r\n            spaceId: props.spaceId\r\n        });\r\n\r\n        listBeforeUsecase(\r\n            {\r\n                id: blockId,\r\n                before: collectionViewRecordValueInStore.page_sort[0]\r\n            },\r\n            [\"page_sort\"],\r\n            {\r\n                id: props.collectionViewId,\r\n                table: \"collection_view\",\r\n                spaceId: props.spaceId\r\n            }\r\n        );\r\n\r\n        setUsecase(\r\n            getTemplatePageTitle(templatePageId),\r\n            [],\r\n            blockPointer\r\n        );\r\n\r\n        updateUsecase(\r\n            {\r\n                copied_from: templatePageId\r\n            },\r\n            [],\r\n            blockPointer\r\n        );\r\n\r\n        updateUsecase(\r\n            {\r\n                copied_from_pointer: {\r\n                    id: templatePageId,\r\n                    table: \"block\"\r\n                }\r\n            },\r\n            [\"format\"],\r\n            blockPointer\r\n        );\r\n\r\n        updateUsecase(\r\n            {\r\n                is_template: null\r\n            },\r\n            [],\r\n            blockPointer\r\n        );\r\n\r\n        const currentTime = Date.now();\r\n\r\n        updateUsecase(\r\n            {\r\n                created_by_id: \"\",\r\n                created_by_table: \"xdoc_user\",\r\n                created_time: currentTime,\r\n                last_edited_time: currentTime,\r\n                last_edited_by_id: \"\",\r\n                last_edited_by_table: \"xdoc_user\"\r\n            },\r\n            [],\r\n            blockPointer\r\n        );\r\n\r\n        router.push({ query: { p: blockId.replaceAll('-', ''), pm: 's' } });\r\n        \r\n        handleCloseTemplatesList();\r\n    }\r\n}\r\n\r\nconst generalStore = useGeneralStore();\r\n\r\nfunction handleCloseTemplatesList() {\r\n    generalStore.setCurrentComponentInDefaultOverlay(null, null);\r\n}\r\n</script>","import script from \"./CollectionTemplatesList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CollectionTemplatesList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div id=\"xdoc-app\">\r\n    <div class=\"xdoc-app-inner xdoc-light-theme\"\r\n      style=\"color: rgb(55, 53, 47); fill: currentColor; line-height: 1.5; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; -webkit-font-smoothing:\r\n      auto; background-color: white;\"\r\n    >\r\n      <div style=\"height: 100%;\">\r\n        <div \r\n          @input=\"inputHandler\"\r\n          class=\"xdoc-cursor-listener\"\r\n          style=\"width: 100vw; height: 100%; position: relative; display: flex; flex: 1 1 0%; background: white; cursor: text;\"\r\n        >\r\n          <menu-left \r\n            :space-id=\"spaceId\"\r\n            :space-view-id=\"spaceViewId\"\r\n          />\r\n    \r\n          <div style=\"display: flex; flex-direction: column; width: 100%; overflow: hidden;\">\r\n            <menu-top />\r\n            \r\n            <!-- set width of main element -->\r\n            <main \r\n              class=\"xdoc-frame\" \r\n              style=\"flex-grow: 0; flex-shrink: 1; display: flex; flex-direction: column; background: white; z-index: 1; height: calc(100% - 45px); max-height: 100%; position: relative; transition-property: width; transition-duration: 270ms; transition-timing-function: ease;\"\r\n              :style=\"`width: ${getMenuState === 'full' ? state.documentInnerWidth - 220 : state.documentInnerWidth}px`\"\r\n            >\r\n              <router-view name=\"default\"/>\r\n            </main>\r\n          </div>\r\n    \r\n          <page-peek-side \r\n            v-if=\"state.peekBlockId !== null && state.peekMode === 's'\"\r\n            :block-id=\"state.peekBlockId ? transformToStandardUUIDFormat(state.peekBlockId) : null\"\r\n            peek-mode=\"s\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- default overlay -->\r\n      <div class=\"xdoc-overlay-container xdoc-default-overlay-container\"\r\n        style=\"position: fixed; inset: 0px; z-index: 999; pointer-events: none; overflow: hidden;\"\r\n      >\r\n        <div style=\"position: relative; z-index: 0;\"></div>\r\n\r\n        <div data-overlay=\"true\" style=\"position: relative; z-index: 0; pointer-events: auto;\">\r\n          <page-peek-side \r\n            v-if=\"state.peekBlockId !== null && state.peekMode === 'c'\"\r\n            :block-id=\"transformToStandardUUIDFormat(state.peekBlockId)\"\r\n            peek-mode=\"c\"\r\n          />\r\n\r\n          <dialog-page-property\r\n            v-if=\"currentComponent === 'page_property_value_edit'\"\r\n            :property-id=\"currentComponentProps.propertyId\"\r\n            :page-id=\"currentComponentProps.pageId\"\r\n            :collection-id=\"currentComponentProps.collectionId\"\r\n          />\r\n\r\n          <option-edit-view \r\n            v-if=\"currentComponent === 'page_property_option_edit'\"\r\n            :option-id=\"currentComponentProps.optionId\"\r\n            :collection-id=\"currentComponentProps.collectionId\"\r\n            :property-id=\"currentComponentProps.propertyId\"\r\n            :space-id=\"currentComponentProps.spaceId\"\r\n          />\r\n\r\n          <collection-templates-list \r\n            v-if=\"currentComponent === 'collection_templates_list'\"\r\n            :collection-id=\"currentComponentProps.collectionId\"\r\n            :collection-view-id=\"currentComponentProps.collectionViewId\"\r\n            :space-id=\"currentComponentProps.spaceId\"\r\n          />\r\n\r\n          <space-settings \r\n            v-if=\"currentComponent === 'space_settings'\"\r\n          />\r\n        </div>\r\n      \r\n        <base-slash-menu :pos=slashMenuPosition v-if=\"showSlashMenu === true\"></base-slash-menu>\r\n      </div>\r\n    \r\n      <!-- overlay -->\r\n      <div class=\"xdoc-overlay-container\"\r\n        style=\"position: fixed; inset: 0px; z-index: 1001; pointer-events: none; overflow: hidden;\"\r\n      >\r\n        <div style=\"position: relative; z-index: 0;\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  {{ routeQuery }}\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { reactive, computed, onMounted, onUnmounted, watch } from 'vue';\r\nimport MenuLeft from './components/MenuLeft.vue';\r\nimport MenuTop from './components/MenuTop.vue';\r\nimport BaseSlashMenu from './components/BaseSlashMenu.vue';\r\nimport PagePeekSide from './components/PagePeekSide.vue';\r\nimport DialogPageProperty from './components/DialogPageProperty.vue';\r\nimport SpaceSettings from \"./components/SpaceSettings.vue\";\r\nimport { useMenuLeftStore } from '../stores/menuLeft';\r\nimport { useTransactionsQueue } from '@/stores/transactionsQueue';\r\nimport { useKeyStrokeStore } from '@/stores/keyStrokes';\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { useRoute } from 'vue-router';\r\nimport { transformToStandardUUIDFormat } from './helpers/router/transformToStandardUUIDFormat';\r\nimport { useGeneralStore } from '@/stores/general';\r\nimport OptionEditView from './views/OptionEditView.vue';\r\nimport CollectionTemplatesList from './components/CollectionTemplatesList.vue';\r\n\r\nconst spaceId = \"f2cf1fd1-8789-4ddd-9190-49f41966c446\";\r\nconst spaceViewId = \"dbf9ee2d-ded5-4b35-b63d-de778f9dc19a\";\r\n\r\nconst route = useRoute();\r\n\r\nwatch(\r\n  () => route?.query?.pm,\r\n  (newVal, oldVal) => {\r\n    if (newVal && newVal !== oldVal) {\r\n      state.peekMode = newVal;\r\n    }\r\n    else {\r\n      state.peekMode = null;\r\n    }\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => route?.query?.p,\r\n  (newVal, oldVal) => {\r\n    if (newVal !== null && newVal !== oldVal) {\r\n      state.peekBlockId = newVal;\r\n    }\r\n    else {\r\n      state.peekBlockId = null;\r\n    }\r\n  }\r\n)\r\n\r\nconst routeQuery = computed(() => route.query);\r\n\r\nconst state = reactive({\r\n  documentInnerWidth: window.innerWidth,\r\n  peekMode: \"s\",\r\n  peekBlockId: \"\"\r\n})\r\n\r\nconst keystrokesStore = useKeyStrokeStore();\r\n\r\nconst showSlashMenu = keystrokesStore.showSlashMenu;\r\nconst slashMenuPosition = keystrokesStore.getPositions;\r\n\r\nconst menuLeftStore = useMenuLeftStore();\r\n\r\nconst getMenuState = computed(function () {\r\n  return menuLeftStore.menuLeftState;\r\n})\r\n\r\nfunction updateDocumentInnerWidth() {\r\n  setTimeout(\r\n    function() {\r\n      state.documentInnerWidth = window.innerWidth\r\n    }\r\n  , 200)\r\n}\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\nconst transactionsQueue = useTransactionsQueue();\r\n\r\nfunction inputHandler(e) {\r\n    const target = e.target;\r\n    const dataBlock = target.closest(\"[data-block-id]\");\r\n\r\n    console.log(target);\r\n    \r\n    if (!dataBlock) return;\r\n\r\n    const dataBlockId = dataBlock.getAttribute(\"data-block-id\");\r\n    // const blockCSSClasses = dataBlock.getAttribute(\"class\")?.split(\" \");\r\n\r\n    const blockData = recordValuesStore.getRecordValue(\r\n      dataBlockId,\r\n      \"block\",\r\n      \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )\r\n    \r\n    if (e.inputType === \"insertText\") {\r\n      if (blockData.type === \"text\") {\r\n        transactionsQueue.setDelay(5*1000);\r\n        transactionsQueue.enqueue(\r\n          blockData.updateTitle(e.data)\r\n        )\r\n      }\r\n    }\r\n}\r\n\r\n/** collection-record-porperty-value-overlay */\r\nconst generalStore = useGeneralStore();\r\nconst currentComponent = computed(() => generalStore.getCurrentComponentAndProps().component.value);\r\nconst currentComponentProps = computed(() => generalStore.getCurrentComponentAndProps()?.props.value);\r\n\r\nonMounted(\r\n  async () => {\r\n    window.addEventListener('resize', updateDocumentInnerWidth);\r\n  }\r\n)\r\n\r\nonUnmounted(\r\n  () => window.removeEventListener('resize', updateDocumentInnerWidth)\r\n)\r\n</script>\r\n\r\n<style>\r\n@import '../assets/index.css';\r\n\r\n#xdoc-app {\r\n  display: flex;\r\n  position: relative;\r\n  top: 0;\r\n}\r\n\r\n.xdoc-focusable-within:focus-within {\r\n  box-shadow: inset 0 0 0 1px rgba(35, 131, 226, 0.57), 0px 0px 0px 2px rgba(35, 131, 226, 0.35) !important;\r\n}\r\n\r\ninput {\r\n  font: inherit;\r\n  color: inherit;\r\n  margin: 0;\r\n}\r\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6385580e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","export default function(e: any, context: any, meta: any) {\r\n    context.menu.visibility = true\r\n    context.menu.posX = e.pageX\r\n    context.menu.posY = e.clientY\r\n    context.menu.meta = meta\r\n}","export default function(context: any, meta: any) {\r\n    context.menu.visibility = false\r\n    context.menu.posX = ''\r\n    context.menu.posY = ''\r\n    if (meta) context.menu.meta = meta\r\n}","import { createApp } from 'vue'\r\n\r\nimport App from './ui/App.vue'\r\nimport router from './ui/router'\r\n\r\nimport './assets/index.css'\r\n\r\n// global methods\r\nimport openMenu from './helpers/globals/BaseMenuOpen'\r\nimport closeMenu from './helpers/globals/BaseMenuClose'\r\n// \r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { faBell, faStar, faUser } from '@fortawesome/free-regular-svg-icons';\r\nimport { faBars, faCirclePlus, faGear, faShare, faAnglesRight, faAnglesLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport { createPinia } from 'pinia'\r\nimport { createAuth0 } from '@auth0/auth0-vue'\r\n\r\nlibrary.add(\r\n    faBell,\r\n    faUser,\r\n    faBars,\r\n    faCirclePlus,\r\n    faGear,\r\n    faStar,\r\n    faShare,\r\n    faAnglesRight,\r\n    faAnglesLeft\r\n);\r\n\r\nconst pinia = createPinia();\r\n\r\nconst app = createApp(App);\r\n\r\napp.config.globalProperties.openMenu = openMenu;\r\napp.config.globalProperties.closeMenu = closeMenu;\r\nconsole.log(process.env);\r\n\r\napp.use(\r\n    createAuth0({\r\n        domain: process.env.VUE_APP_AUTH0_DOMAIN,\r\n        clientId: process.env.VUE_APP_AUTH0_CLIENT_ID,\r\n        authorizationParams: {\r\n            redirect_uri: process.env.VUE_APP_AUTH0_CALLBACK_URL\r\n        }\r\n    })\r\n);\r\napp.use(pinia);\r\napp.use(router);\r\napp.component(\"font-awesome-icon\", FontAwesomeIcon);\r\napp.mount('#app');\r\n","import { Axios } from \"axios\";\r\n\r\nexport const axios = new Axios({\r\n    baseURL: process.env.NODE_ENV === 'development' \r\n        ? '/' \r\n        : 'https://somewhere.com/.'\r\n})","import { axios } from \".\";\r\n\r\nexport default function makePostReq (url: string, args: any) {\r\n    return axios.post(url, args, {\r\n        withCredentials: true,\r\n    })\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function listBefore(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })\r\n\r\n    if(!args.before) {\r\n        targetNode.unshift(args.id);\r\n        return;\r\n    }\r\n\r\n    const indexToPush = targetNode.findIndex((id) => id === args.before);\r\n\r\n    const targetNodeCopy = [...targetNode];\r\n\r\n    targetNode.splice(0, indexToPush);\r\n    targetNode.unshift(args.id);\r\n    targetNode.unshift(...targetNodeCopy.slice(0, indexToPush));\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function set(args, path, pointer) {\r\n    if(path.length === 0) {\r\n        useRecordValuesStore().setRecordValue({\r\n            id: pointer.id, \r\n            table: pointer.table, \r\n            record: args, \r\n            spaceId: pointer.spaceId\r\n        });\r\n\r\n        return;\r\n    }\r\n\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n    \r\n    let i = 0;\r\n    for(i = 0; i!==path.length - 1; i++) {\r\n        if(!targetNode[path[i]]) targetNode[path[i]] = {};\r\n        targetNode = targetNode[path[i]];\r\n    }\r\n\r\n    if (!targetNode) targetNode = {};\r\n\r\n    targetNode[path[i]] = (\r\n        typeof args === 'object' \r\n        ? Object.assign({}, args) \r\n        : args\r\n    );\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function update(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    path.forEach(node => {\r\n        if (!targetNode) targetNode = {};\r\n        targetNode = targetNode[node];\r\n    })  \r\n    \r\n    if (!targetNode) targetNode = {};\r\n\r\n    for(const targetNodeProperty in args) {\r\n        targetNode[targetNodeProperty] = args[targetNodeProperty];\r\n    }\r\n}\r\n\r\n","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function listAfter(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n    \r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })\r\n    \r\n    const indexToPush = targetNode.findIndex((id) => id === args.after) + 1;\r\n    \r\n    const targetNodeCopy = [...targetNode];\r\n\r\n    targetNode.splice(indexToPush);\r\n    targetNode.push(args.id);\r\n    targetNode.push(...targetNodeCopy.slice(indexToPush));\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function setParent(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    targetNode.parent_id = args.parentId;\r\n    targetNode.parent_table = args.parentTable;\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function keyedObjectListBefore(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    console.log(targetNode);\r\n    \r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })\r\n\r\n    targetNode.unshift(args.value);\r\n}\r\n\r\n/**\r\n * option add\r\n */\r\n// {\r\n//     \"pointer\": {\r\n//       \"id\": \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\",\r\n//       \"table\": \"collection\",\r\n//       \"spaceId\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     },\r\n//     \"command\": \"keyedObjectListBefore\",\r\n//     \"path\": [\r\n//       \"schema\",\r\n//       \"e_rz\",\r\n//       \"options\"\r\n//     ],\r\n//     \"args\": {\r\n//       \"value\": {\r\n//         \"id\": \"o:Nl\",\r\n//         \"value\": \"two\",\r\n//         \"color\": \"gray\",\r\n//         \"collectionIds\": [\r\n//           \"2db466a0-b0d9-4dec-809b-a90e3fbaf120\"\r\n//         ]\r\n//       }\r\n//     }\r\n//   }","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function keyedObjectListRemove(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })\r\n\r\n    for(const removeKey in args.remove) {\r\n\r\n        for(let i = 0; i!==targetNode.length; i++) {\r\n            const candidate = targetNode[i];\r\n\r\n            if (candidate[removeKey] === args.remove[removeKey]) {\r\n                targetNode.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}","import { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nexport function keyedObjectListUpdate(args, path, pointer) {\r\n    const recordInStore = useRecordValuesStore().getRecordValue({\r\n        id: pointer.id,\r\n        table: pointer.table,\r\n        spaceId: pointer.spaceId\r\n    });\r\n\r\n    let targetNode = recordInStore;\r\n\r\n    path.forEach(node => {\r\n        targetNode = targetNode[node];\r\n    })\r\n\r\n    for(let candidate of targetNode) {\r\n        if (candidate.id === args.id) {\r\n            for(let key in args) {\r\n                candidate[key] = args[key];\r\n            }\r\n            break;\r\n        }\r\n    }\r\n}","import { Pointer } from \"../types/Pointer\";\r\nimport { Operation } from \"../types/Operation\";\r\nimport { listBefore } from \"../ui-usecases/listBefore\";\r\nimport { set } from \"../ui-usecases/set\";\r\nimport { update } from \"../ui-usecases/update\";\r\nimport { listAfter } from \"../ui-usecases/listAfter\";\r\nimport { setParent } from \"../ui-usecases/setParent\";\r\nimport { keyedObjectListBefore } from \"../ui-usecases/keyedObjectListBefore\";\r\nimport { keyedObjectListRemove } from \"../ui-usecases/keyedObjectListRemove\";\r\nimport { keyedObjectListUpdate } from \"../ui-usecases/keyedObjectListUpdate\";\r\n\r\nexport function makeOperation(\r\n    command: \r\n        \"set\" \r\n        | \"update\" \r\n        | \"listBefore\" \r\n        | \"listAfter\" \r\n        | \"setParent\" \r\n        | \"keyedObjectListBefore\"\r\n        | \"keyedObjectListAfter\"\r\n        | \"keyedObjectListRemove\"\r\n        | \"keyedObjectListUpdate\",\r\n    args: any,\r\n    path: string[],\r\n    pointer: Pointer\r\n): Operation {\r\n    switch(command) {\r\n        case \"update\": \r\n            update(args, path, pointer);\r\n            break;\r\n        case \"set\": \r\n            set(args, path, pointer);\r\n            break;\r\n        case \"setParent\":\r\n            setParent(args, path, pointer);\r\n            break;\r\n        case \"listBefore\":\r\n            listBefore(args, path, pointer);\r\n            break;\r\n        case \"listAfter\":\r\n            listAfter(args, path, pointer);\r\n            break;\r\n        case \"keyedObjectListBefore\": \r\n            keyedObjectListBefore(args, path, pointer);\r\n            break;\r\n        case \"keyedObjectListUpdate\":\r\n            keyedObjectListUpdate(args, path, pointer);\r\n            break;\r\n        case \"keyedObjectListRemove\":\r\n            keyedObjectListRemove(args, path, pointer);\r\n            break;\r\n    }\r\n\r\n    return {\r\n        command,\r\n        args,\r\n        pointer,\r\n        path\r\n    };\r\n}","import uuid from \"@/helpers/globals/uuid\";\r\nimport { Transaction, TransactionProps } from \"../types/Transaction\";\r\n\r\nexport function makeTransaction({\r\n    spaceId,\r\n    debug,\r\n    operations\r\n}: TransactionProps): Transaction {\r\n    return {\r\n        spaceId,\r\n        debug,\r\n        operations,\r\n        id: uuid()\r\n    }\r\n}","import { defineStore } from \"pinia\";\r\nimport { Ref, ref } from \"vue\";\r\n\r\nexport const useGeneralStore = defineStore(\"generalStore\", () => {\r\n    const dialog: Ref<{}> = ref({\r\n        width: 276,\r\n        top: 300,\r\n        left: 500\r\n    })\r\n\r\n    const component = ref(\"\");\r\n    const props = ref(Object());\r\n\r\n    const propertyValueDialog = ref({\r\n        pageId: null,\r\n        propertyId: null\r\n    });\r\n\r\n    function setCurrentComponentInDefaultOverlay(\r\n        _component: string, \r\n        _props: object\r\n    ): void {\r\n        component.value = _component;\r\n        props.value = _props; \r\n    }\r\n\r\n    function getCurrentComponentAndProps() {\r\n        return {\r\n            component,\r\n            props\r\n        }\r\n    }\r\n\r\n    return {\r\n        component,\r\n        props,\r\n        setCurrentComponentInDefaultOverlay,\r\n        getCurrentComponentAndProps,\r\n        dialog,\r\n        propertyValueDialog\r\n    }\r\n})","import { ref, Ref } from \"vue\";\r\nimport { defineStore } from \"pinia\";\r\n\r\nexport const useRecordValuesStore = defineStore('recordValues', () => {\r\n    const recordValues: Ref<Record<string, any>> = ref({});\r\n    const spaces: Ref<Set<string>> = ref(new Set([]));\r\n    const currentSpaceId: Ref<string> = ref(\"\");\r\n\r\n    function getCurrentSpaceId(): string {\r\n        return currentSpaceId.value;\r\n    }\r\n\r\n    function setCurrentSpaceId(spaceId: string): void {\r\n        currentSpaceId.value = spaceId;\r\n    }\r\n\r\n    function getSpacesIds(): string[] {\r\n        return Array.from(spaces.value);\r\n    }\r\n    \r\n    function getRecordValue(pointer: {id: string, table: string, spaceId: string}) {\r\n        return recordValues.value?.[pointer.spaceId]?.[pointer.id];\r\n    }\r\n\r\n    function checkSpacePresenceById(id: string): boolean {\r\n        return spaces.value.has(id) && recordValues.value?.[id] !== undefined;\r\n    }\r\n    \r\n    function addSpaceIfNotPresent(id: string): void {\r\n        if(checkSpacePresenceById(id)) return;\r\n\r\n        setSpace(id);\r\n\r\n    }\r\n\r\n    function setSpace(id: string) {\r\n        spaces.value.add(id);\r\n        recordValues.value[id] = {};\r\n    }\r\n\r\n    function setRecordValue({id, table, record, spaceId = currentSpaceId.value}: {\r\n        id: string,\r\n        table: string,\r\n        record: any,\r\n        spaceId?: string\r\n    }) {   \r\n        addSpaceIfNotPresent(spaceId);\r\n        recordValues.value[spaceId][id] = Object.assign({}, record);\r\n    }\r\n\r\n    function setNewChild(parentBlockId: string, property: string, childBlockId: string, spaceId: string = currentSpaceId.value) {\r\n        recordValues.value[spaceId][parentBlockId][property]?.push(childBlockId);\r\n    }\r\n\r\n    return {\r\n        getSpacesIds,\r\n        getRecordValue,\r\n        checkSpacePresenceById,\r\n        setSpace,\r\n        setRecordValue,\r\n        setNewChild,\r\n        getCurrentSpaceId,\r\n        setCurrentSpaceId\r\n    }\r\n})","import makePostReq from \"./makePostReq\"\r\n\r\nexport const queryCollection = async function(\r\n    collectionView: {\r\n        id: String,\r\n        spaceId: String\r\n    },\r\n    loader: {\r\n        reducers: Object,\r\n        searchQuery: String,\r\n        sort: Array<any>,\r\n        userId: String,\r\n        userTimeZone: String,\r\n    },\r\n    source: {\r\n        type: String,\r\n        id: String,\r\n        spaceId: String\r\n    }\r\n) {\r\n    try {\r\n        return makePostReq(\"/api/v1/queryCollection\", {\r\n            collectionView,\r\n            loader,\r\n            source\r\n        });\r\n    }\r\n    catch (error: any) {\r\n        throw new Error(error);\r\n    }\r\n}","import uuid from \"@/helpers/globals/uuid\";\r\nimport makePostReq from \"./makePostReq\";\r\nimport { transformToStandardUUIDFormat } from \"@/ui/helpers/router/transformToStandardUUIDFormat\";\r\nimport { Transaction } from \"../transactions/types/Transaction\";\r\n\r\nexport const TransactionApi = {\r\n    execute: async function (\r\n        transactions: Transaction[]\r\n    ) {\r\n        try {\r\n            const res = await makePostReq('/api/v1/saveTransactions', {\r\n                requestId: transformToStandardUUIDFormat(uuid()),\r\n                transactions\r\n            });\r\n            return res;\r\n        } catch (error: any) {\r\n            throw new Error(error);\r\n        }\r\n    }\r\n}","import makePostReq from \"./makePostReq\";\r\nimport { SyncRecordValue } from \"../transactions/types/SyncRecordValue\";\r\n\r\nexport const SyncrecordValuesApi = {\r\n    execute: async function (\r\n        syncRecordValuesRequests: SyncRecordValue[]\r\n    ) {\r\n        try {\r\n            return await makePostReq('/api/v1/syncRecordValues', {\r\n                requests: syncRecordValuesRequests\r\n            });\r\n        }\r\n        catch (error: any) {\r\n            throw new Error(error);\r\n        }\r\n    }\r\n}","import { SearchProps } from \"@/stores/interfaces/SearchProps\";\r\nimport makePostReq from \"./makePostReq\";\r\n\r\nexport const search = async function(args: SearchProps) {\r\n    try {\r\n        return await makePostReq(\"/api/v1/search\", args);\r\n    }\r\n    catch(error: any) {\r\n        throw new Error(error);\r\n    }\r\n}","import { defineStore } from \"pinia\";\r\nimport { Ref, ref } from \"vue\";\r\nimport { queryCollection as queryCollectionRequest } from '@/services/api/queryCollection';\r\nimport { TransactionApi } from \"@/services/api/TransactionsApi\";\r\nimport { SyncrecordValuesApi } from \"@/services/api/SyncRecordValuesApi\";\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport { AxiosResponse } from \"axios\";\r\nimport { search } from \"@/services/api/search\";\r\nimport { SearchProps } from \"./interfaces/SearchProps\";\r\nimport { Transaction } from \"@/services/transactions/types/Transaction\";\r\nimport { SyncRecordValue } from \"@/services/transactions/types/SyncRecordValue\";\r\n\r\ntype SyncRecordResponse = AxiosResponse<{\r\n    recordMap: Record<string, object>;\r\n}>;\r\ntype TransactionResponse = AxiosResponse<{\r\n    recordMap?: Record<string, object>;\r\n    error?: string\r\n}>;\r\n\r\nconst DELAY_DEFAULT: number = 3 * 1000;\r\nconst BATCH_SIZE_DEFAULT: number = 10;\r\nconst MAX_WORKERS: number = 3;\r\n\r\nexport const useTransactionsQueue = defineStore('q', () => {\r\n    const DELAY: Ref<number> = ref(DELAY_DEFAULT);\r\n    const BATCH_SIZE: Ref<number> = ref(BATCH_SIZE_DEFAULT);\r\n    const CURRENT_SET_TIMEOUTS: Ref<number> = ref(0);\r\n    const REQUEST_TIME_OUT_MS: Ref<number> = ref(0);\r\n    \r\n    const transactionsQueue: Array<Transaction | SyncRecordValue> = [];\r\n\r\n    function setDelay(tms: number): void {\r\n        DELAY.value = tms;\r\n    }\r\n        \r\n    function enqueue(transaction: Transaction | SyncRecordValue): void {\r\n        transactionsQueue.push(transaction);\r\n        dequeueAfterTimeout();\r\n    }\r\n\r\n    function setRecordValuesFromRecordMap(recordMap: Record<string, any>) {\r\n        for(const table in recordMap) {\r\n            const tableRecordValues = recordMap[table];\r\n\r\n            for(const pointerId in tableRecordValues) {\r\n                const record = tableRecordValues[pointerId];\r\n                const { value, spaceId } = record;\r\n                setRecordValue(pointerId, table, value.value, spaceId);\r\n            }\r\n        }\r\n    }\r\n\r\n    function setRecordValue(pointerId: string, table: string, recordValue: any, spaceId: string) {\r\n        const recordValueStore = useRecordValuesStore();\r\n        \r\n        if (spaceId) {\r\n            recordValueStore.setRecordValue({\r\n                id: pointerId, \r\n                table, \r\n                record: recordValue, \r\n                spaceId\r\n            })\r\n        }\r\n        else {\r\n            recordValueStore.setRecordValue({\r\n                id: pointerId, \r\n                table, \r\n                record: recordValue\r\n            })\r\n        }\r\n    }\r\n\r\n    function dequeueAfterTimeout() {\r\n        if (CURRENT_SET_TIMEOUTS.value < MAX_WORKERS) {\r\n            CURRENT_SET_TIMEOUTS.value++;\r\n            setTimeout(() => {\r\n                dequeue()\r\n                .then(() => CURRENT_SET_TIMEOUTS.value--)\r\n            }, DELAY.value);\r\n        }\r\n    }\r\n\r\n    async function dequeue() {\r\n        try {\r\n            if (REQUEST_TIME_OUT_MS.value) {\r\n                console.log(\"timeout\")\r\n            }\r\n            else {\r\n                const batch = transactionsQueue.splice(\r\n                    0, \r\n                    Math.min(BATCH_SIZE.value, transactionsQueue.length)\r\n                );\r\n\r\n                const transactions: Transaction[] = [];\r\n                const syncRecordValues: SyncRecordValue[] = [];\r\n\r\n                batch.forEach((t) => {\r\n                    if((t as SyncRecordValue).pointer !== undefined) {\r\n                        syncRecordValues.push(t as SyncRecordValue);\r\n                    }\r\n                    else {\r\n                        transactions.push(t as Transaction);\r\n                    }\r\n                })\r\n\r\n                if (transactions.length) {\r\n                    const res: TransactionResponse = await TransactionApi.execute(transactions);\r\n                    \r\n                }\r\n                if (syncRecordValues.length) {\r\n                    const recordValuesResponse: SyncRecordResponse = await SyncrecordValuesApi.execute(syncRecordValues);\r\n                    setRecordValuesFromRecordMap(recordValuesResponse.data.recordMap);\r\n                }\r\n            }\r\n        } \r\n        catch (error: any) {\r\n            console.log(error);\r\n        }\r\n        finally {            \r\n            transactionsQueue.length >= BATCH_SIZE.value \r\n            ? await dequeue() \r\n            : dequeueAfterTimeout();\r\n        }\r\n    }\r\n\r\n    async function performQueryCollection(collectionViewId: string) {\r\n        const queryCollectionResults: AxiosResponse = await queryCollectionRequest(\r\n            {\r\n                id: collectionViewId,\r\n                spaceId: \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n            },\r\n            {\r\n                reducers: {\r\n                    collection_group_results: {\r\n                        type: \"results\",\r\n                        limit: 50\r\n                    }\r\n                },\r\n                searchQuery: \"\",\r\n                sort: [],\r\n                userId: \"\",\r\n                userTimeZone: \"\"\r\n            },\r\n            {\r\n                id: collectionViewId,\r\n                type: \"collection_view\",\r\n                spaceId: \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n            }\r\n        );\r\n\r\n        if(queryCollectionResults.data?.error) {\r\n            console.log(queryCollectionResults.data.error);\r\n        }\r\n\r\n        setRecordValuesFromRecordMap(queryCollectionResults.data.recordMap);\r\n\r\n        return queryCollectionResults.data;\r\n    }\r\n\r\n    async function performSearch(args: SearchProps) {\r\n        const searchResults: AxiosResponse = await search(args);\r\n\r\n        const {\r\n            recordMap,\r\n            total,\r\n            results\r\n        } = searchResults.data;\r\n\r\n        setRecordValuesFromRecordMap(recordMap);\r\n\r\n        return {\r\n            total,\r\n            results\r\n        }\r\n    }\r\n\r\n    function setDelayDefault(): void {\r\n        setDelay(DELAY_DEFAULT);\r\n    }\r\n\r\n    return {\r\n        setDelay,\r\n        setDelayDefault,\r\n        enqueue,\r\n        performQueryCollection,\r\n        performSearch\r\n    }\r\n})","export const transformToStandardUUIDFormat = function (plainUUID: string): string {\r\n\r\n    if (plainUUID.length !== 32) throw Error(`malformed uuid ${plainUUID}`);\r\n    \r\n    return `${plainUUID.slice(0, 8)}-${plainUUID.slice(8, 12)}-${plainUUID.slice(12, 16)}-${plainUUID.slice(16, 20)}-${plainUUID.slice(20)}`;\r\n}","import { createRouter, createWebHistory } from 'vue-router'\r\nimport { transformToStandardUUIDFormat } from \"@/ui/helpers/router/transformToStandardUUIDFormat\";\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      component: () => import('../components/HomeC.vue')\r\n    },\r\n    {\r\n      path: '/main',\r\n      name: 'main',\r\n      component: () => import('../components/LogIn.vue')\r\n    },\r\n    {\r\n      path: '/:blockId',\r\n      name: 'render-page',\r\n      components: {\r\n        default: () => import('../components/RenderMain.vue'),\r\n      },\r\n      props: {\r\n        default: (route) => {\r\n          const blockId: string | null = transformToStandardUUIDFormat(route.params.blockId as string);\r\n\r\n          return {\r\n            blockId\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ]\r\n})\r\nexport default router","<template>\r\n    <div\r\n        role=\"button\"\r\n        tabindex=\"0\"\r\n        style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; flex-shrink: 0; border-radius: 3px; padding: 0px;\"\r\n        :style=\"state.style\"\r\n        @mouseover=\"state.style = props.hoverStyle\"\r\n        @mouseleave=\"state.style = props.defaultStyle\"\r\n    >\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, defineProps } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    hoverStyle: {\r\n        type: Object,\r\n        default: () => ({background: 'rgba(55, 53, 47, 0.08)'})\r\n    },\r\n    defaultStyle: {\r\n        type: Object,\r\n        default: () => ({})\r\n    }\r\n})\r\n\r\n\r\nconst state = reactive({\r\n    style: props.defaultStyle\r\n})\r\n</script>","import script from \"./BaseButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <slot \r\n        :recordValueDeferInStore=\"recordValueInStore !== undefined\" \r\n        :recordValueInStore=\"recordValueInStore\"\r\n    ></slot>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { useTransactionsQueue } from '@/stores/transactionsQueue';\r\nimport { computed, defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    pointer: {\r\n        type: Object,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst recordValueInStore = computed(() => recordValuesStore.getRecordValue(props.pointer));\r\n\r\nif (!recordValueInStore.value !== undefined) {\r\n    useTransactionsQueue().enqueue({\r\n        pointer: props.pointer\r\n    })\r\n}\r\n</script>","import script from \"./BaseDataProvider.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseDataProvider.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div style=\"display: flex; align-items: center; justify-content: center; margin-left: 10px; margin-right: 4px;\">\r\n        \r\n    </div>\r\n\r\n    <div style=\"margin-left: 6px; margin-right: 12px; min-width: 0px; flex: 1 1 auto;\">\r\n        <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">Het Tarkhala</div>\r\n    </div>\r\n</template>","import { render } from \"./PagePropertyPersonValue.vue?vue&type=template&id=69988660\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\test\\\\x\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const darkBackgroundColorStringToRgba = function(colorStr: string): string {\r\n    switch(colorStr) {\r\n        case \"ligh gray\": {\r\n            return \"rgb(145, 145, 142)\";\r\n        }\r\n        case \"gray\": {\r\n            return \"rgb(145, 145, 142)\";\r\n        }\r\n        case \"brown\": {\r\n            return \"rgb(187, 132, 108)\";\r\n        }\r\n        case \"orange\": {\r\n            return \"rgb(215, 129, 58)\";\r\n        }\r\n        case \"yellow\": {\r\n            return \"rgb(203, 148, 51)\";\r\n        }\r\n        case \"green\": {\r\n            return \"rgb(108, 155, 125)\";\r\n        }\r\n        case \"blue\": {\r\n            return \"rgb(91, 151, 189)\";\r\n        }\r\n        case \"purple\": {\r\n            return \"rgb(167, 130, 195)\";\r\n        }\r\n        case \"pink\": {\r\n            return \"rgb(205, 116, 159)\";\r\n        }\r\n        case \"red\": {\r\n            return \"rgb(225, 111, 100)\";\r\n        }\r\n    }\r\n    return \"rgb(145, 145, 142)\";\r\n}","<template>\r\n    <div style=\"display: inline-flex; align-items: center; flex-shrink: 1; min-width: 0px; max-width: 100%; height: 20px; border-radius: 10px; padding-left: 7px; padding-right: 9px; font-size: 14px; line-height: 1.2; color: rgb(50, 48, 44); margin: 0px 6px 6px 0px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\"\r\n        :style=\"{ ...tagColorStringToRgba(color) }\"\r\n    >\r\n        <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-flex; align-items: center; height: 20px; line-height: 20px;\">\r\n            <div style=\"display: flex; align-items: center;\">\r\n                <div style=\"margin-right: 5px; border-radius: 99px; height: 8px; width: 8px; display: inline-flex; flex-shrink: 0;\"\r\n                    :style=\"{ background: darkBackgroundColorStringToRgba(color)}\"\r\n                ></div>\r\n            </div>\r\n\r\n            <span style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                {{ props.status.value }}\r\n            </span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { darkBackgroundColorStringToRgba } from \"@/helpers/globals/darkBackgroundColorStringToRgba\";\r\nimport { tagColorStringToRgba } from \"@/helpers/globals/tagColorStringToRgba\";\r\nimport { defineProps } from \"vue\";\r\n\r\nconst props = defineProps({\r\n    status: {\r\n        type: Object,\r\n        required: true\r\n    },\r\n    groupColor: {\r\n        type: String,\r\n        default: \"\"\r\n    }\r\n})\r\n\r\nconst color = props.status.color ? props.status.color : props.groupColor;\r\n</script>","import script from \"./PagePropertyStatusValue.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PagePropertyStatusValue.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div\r\n        style=\"display: flex; align-items: center; flex-shrink: 1; min-width: 0px; max-width: 100%; height: 20px; border-radius: 3px; font-size: 14px; line-height: 120%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\"\r\n        :style=\"{ ...tagColorStringToRgba(props.tag.color) }\"\r\n    >\r\n        <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-flex; align-items: center; height: 20px; line-height: 20px;\">\r\n            <span style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                {{ props.tag.value }}\r\n            </span>\r\n        </div>\r\n\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from \"vue\";\r\nimport { tagColorStringToRgba } from \"../../helpers/globals/tagColorStringToRgba\";\r\n\r\nconst props = defineProps({\r\n    tag: {\r\n        type: Object,\r\n        required: true\r\n    }\r\n});\r\n</script>","import script from \"./PagePropertyTagValue.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PagePropertyTagValue.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div style=\"width: 100%; font-size: 14px;\">\r\n        <div style=\"width: 100%; max-width: 100%; padding: 8px 0px; margin: 0px auto;\">\r\n            <div style=\"width: 100%; max-width: 100%; padding-top: 8px; margin: 0px auto;\">\r\n                <div style=\"padding-bottom: 8px;\">\r\n                    <div role=\"table\"\r\n                        aria-label=\"Page properties\"\r\n                        style=\"margin: 0px;\"\r\n                    >\r\n                        <div style=\"display: flex; flex-direction: column;\">\r\n                            <div v-for=\"(value, propertyId) in pageCollectionRecordValueInStore.schema\"\r\n                                :key=\"propertyId\" \r\n                                role=\"row\" aria-labelledby=\"aria-labelledby\"\r\n                                style=\"display: flex; width: 100%; padding-bottom: 4px;\"\r\n                            >\r\n                                <div style=\"width: 160px; height: 34px; display: flex; align-items: center; flex: 0 0 auto; color: rgba(55, 53, 47, 065);\">          \r\n                                    <div style=\"width: 22px; margin-left: -22px; opacity: 0.5;\">\r\n                                        <div \r\n                                            role=\"cell\" \r\n                                            tabindex=\"-1\" \r\n                                            aria-label=\"Drag\"\r\n                                            style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: grab; display: flex; align-items: center; justify-content: center; width: 18px; height: 24px; border-radius: 4px; fill: rgba(55, 53, 47, 0.35);\"    \r\n                                        >\r\n                                            <svg role=\"graphics-symbol\" viewBox=\"0 0 10 10\" class=\"dragHandle\" style=\"width: 14px; height: 14px; display: block; fill: inherit; flex-shrink: 0;\"><path d=\"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z\"></path></svg>\r\n                                        </div>\r\n                                    </div>\r\n    \r\n                                    <div role=\"cell\"\r\n                                        tabindex=\"0\"\r\n                                        id=\"aria-labelledby\"\r\n                                        style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; height: 100%; width: 100%; border-radius: 4px; padding: 0px 6px;\"\r\n                                    >\r\n                                        <div style=\"display: flex; align-items: center; line-height: 120%; min-width: 0px; font-size: 14px;\">\r\n                                            <div style=\"margin-right: 6px;\"></div>\r\n                                            <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n                                                {{ propertyNameFromId(propertyId) }}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div\r\n                                    @click.stop=\"handlePropertyEdit($event, propertyId)\" \r\n                                    role=\"cell\"\r\n                                    style=\"display: flex; margin-left: 4px; height: 100%; flex: 1 1 auto; flex-direction: column; min-width: 0px;\"\r\n                                >\r\n                                    <div style=\"display: flex; align-items: center; margin-left: 4px; height: 100%; flex: 1 1 auto; min-width: 0px;\">\r\n                                        <div role=\"button\" tabindex=\"0\" data-testid=\"property-value\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; position: relative; font-size: 14px; overflow: hidden; display: inline-block; border-radius: 3px; width: 100%; min-height: 34px; padding: 7px 8px;\">\r\n                                            <div style=\"display: flex; flex-wrap: wrap; gap: 6px 8px;\">\r\n                                                {{ pagePropertiesRecordValueInStore[propertyId] }}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style=\"display: flex;\">\r\n                        <div role=\"button\"\r\n                            tabindex=\"0\"\r\n                            style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; color: rgba(55, 53, 47, 0.5); border-radius: 3px; padding-left: 6px; padding-right: 6px; height: 34px; width: auto;\"\r\n                            class=\"hvr\"\r\n                        >\r\n                            <svg \r\n                                role=\"graphics-symbol\" \r\n                                viewBox=\"0 0 16 16\" \r\n                                class=\"plus\" \r\n                                style=\"width: 16px; height: 16px; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; margin-right: 9px; margin-top: 1px;\"\r\n                            >\r\n                                <path d=\"M7.977 14.963c.407 0 .747-.324.747-.723V8.72h5.362c.399 0 .74-.34.74-.747a.746.746 0 00-.74-.738H8.724V1.706c0-.398-.34-.722-.747-.722a.732.732 0 00-.739.722v5.529h-5.37a.746.746 0 00-.74.738c0 .407.341.747.74.747h5.37v5.52c0 .399.332.723.739.723z\">\r\n                                </path>\r\n                            </svg>    \r\n\r\n                            <div style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-width: 0px; line-height: 16px;\">Add a property</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Collection } from '@/entities/Collection';\r\nimport { handlePropertyValueOverlay } from '@/helpers/globals/handlePropertyValueOverlay';\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { computed, defineProps } from 'vue';\r\n\r\nconst props = defineProps({\r\n    pageId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    collectionId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst pagePropertiesRecordValueInStore = computed(function() { \r\n    return recordValuesStore.getRecordValue(\r\n        props.pageId,\r\n        \"block\",\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    ).properties\r\n});\r\n\r\nconst pageCollectionRecordValueInStore = recordValuesStore.getRecordValue(\r\n    props.collectionId,\r\n    \"collection\",\r\n    \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n)\r\n\r\nfunction propertyNameFromId(id) {\r\n    return Collection.prototype.getPropertyById.call(pageCollectionRecordValueInStore, ...[id]).name;\r\n}\r\n\r\nfunction handlePropertyEdit(e, propertyId) {    \r\n    const cellElement = e.target.closest(\"[role='cell']\");\r\n    const measures = cellElement.getBoundingClientRect();\r\n\r\n    handlePropertyValueOverlay(\r\n        props.pageId, \r\n        props.collectionId, \r\n        propertyId, \r\n        measures, \r\n    );\r\n}\r\n</script>","import script from \"./PageProperties.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PageProperties.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { Block } from \"./Block\";\r\n\r\nObject.setPrototypeOf(Comment, Block);\r\n\r\nexport function Comment(props) {\r\n    Block.call(this, props);\r\n\r\n    this.text = props.text;\r\n}","<template>\r\n    <div \r\n        @mouseover=\"hovered = true\"\r\n        @mouseleave=\"hovered = false\"\r\n        style=\"display: flex; align-items: flex-start; position: relative; font-size: 14px;\"\r\n    >\r\n        <div style=\"flex-grow: 1; min-width: 0;\">\r\n            <div style=\"align-items: center; position: relative; display: flex; padding: 6px 16px 0px 18px; user-select: none;\">\r\n                <div style=\"margin-right: 10px; margin-top: 2px; user-select: none;\">\r\n                    <div style=\"height: 20px; width: 20px;\"></div>\r\n                </div>\r\n\r\n                <div style=\"overflow: hidden;\">\r\n                    <span style=\"font-weight: 600; white-space: normal;\">\r\n                        Het Tarkhala\r\n                    </span>\r\n\r\n                    <div style=\"font-size: 12px; line-height: 16px; color: rgba(55, 53, 47, 0.5); margin: 0px 6px; white-space: normal; display: inline;\">\r\n                        <div style=\"display: inline;\">\r\n                            1 hour ago\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n       \r\n            <div style=\"padding-left: 47px; padding-right: 16px;\">\r\n                <div style=\"cursor: text;\"></div>\r\n            </div>\r\n    \r\n            <div style=\"padding: 0px 16px 3px;\">\r\n                <div style=\"position: relative;\">\r\n                    <div style=\"display: -webkit-box; -webkit-box-orient: vertical;\">\r\n                        <div>\r\n                            <div \r\n                                spellcheck=\"true\"\r\n                                data-content-editable-leaf=\"true\"\r\n                                contenteditable=\"false\"\r\n                                style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); cursor: text; padding-left: 32px;\"\r\n                            >{{ commentInRecordValuesStore.text[0][0] }}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div \r\n            v-show=\"hovered === true\" \r\n            style=\"position: absolute; z-index: 1; top: 0; right: 16px; padding: 2px; margin-right: 8px; margin-top: 0; border-radius: 4px; display: flex; gap: 1px; box-shadow: rgba(15, 15, 15, 0.1) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 2px 4px 0px\"\r\n        >\r\n            <base-button \r\n                @click.stop=\"updateResolveStatus\"\r\n                style=\"height: 22px; width: 22px;\"\r\n            >\r\n                <svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"resolve\" style=\"width: 14px; height: 14px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"><path d=\"M6.6123 14.2646C7.07715 14.2646 7.43945 14.0869 7.68555 13.7109L14.0566 3.96973C14.2344 3.69629 14.3096 3.44336 14.3096 3.2041C14.3096 2.56152 13.8311 2.09668 13.1748 2.09668C12.7236 2.09668 12.4434 2.26074 12.1699 2.69141L6.57812 11.5098L3.74121 7.98926C3.48828 7.68848 3.21484 7.55176 2.83203 7.55176C2.16895 7.55176 1.69043 8.02344 1.69043 8.66602C1.69043 8.95312 1.7793 9.20605 2.02539 9.48633L5.55273 13.7588C5.84668 14.1074 6.1748 14.2646 6.6123 14.2646Z\"></path></svg>\r\n            </base-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { defineProps, ref, defineEmits } from 'vue';\r\nimport BaseButton from './BaseButton.vue';\r\n\r\nconst props = defineProps({\r\n    commentId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n});\r\n\r\nconst emits = defineEmits(['update_status']);\r\n\r\nconst hovered = ref(false);\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst commentInRecordValuesStore = recordValuesStore.getRecordValue(\r\n    props.commentId,\r\n    \"comment\",\r\n    \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n)\r\n\r\nfunction updateResolveStatus() {\r\n    emits('update_status', { \r\n        resolved: true\r\n    });\r\n}\r\n</script>","import script from \"./PageDiscussionComment.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PageDiscussionComment.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div class=\"xdoc-page-view-discussion\"\r\n        style=\"width: 100%; margin: 0px auto;\"\r\n    >\r\n        <div \r\n            :data-block-id=\"props.discussionId\" \r\n            class=\"xdoc-selectable xdoc-page-block\"\r\n        >\r\n            <div style=\"margin: 14px -14px;\">\r\n                <div style=\"position: relative;\">\r\n                    <div>\r\n\r\n                        <base-data-provider\r\n                            v-for=\"commentId in discussionRecordValueInStore?.comments\"\r\n                            :block-id=\"commentId\"\r\n                            :key=\"commentId\"\r\n                            space-id=\"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n                            table=\"comment\"\r\n                            v-slot=\"{ recordValueDeferInStore }\"\r\n                        >    \r\n                            <page-discussion-comment \r\n                                v-if=\"recordValueDeferInStore === 1\"\r\n                                @update_status=\"updateResolvedStatus\"\r\n                                :comment-id=\"commentId\"\r\n                                :key=\"commentId\"\r\n                            />\r\n                        </base-data-provider>\r\n\r\n                        <div style=\"padding: 4px 16px 0px 13px; position: relative;\">\r\n                            <div class=\"xdoc-discussion-input\"\r\n                                style=\"display: flex; flex-direction: column; cursor: pointer; width: 100%; padding-left: 5px; padding-right: 2px;\"\r\n                            >\r\n                                <div style=\"display: flex; align-items: center; flex-grow: 1;\">\r\n                                    <div style=\"flex-shrink: 0; flex-grow: 0; margin-right: 6px; margin-top: 6px;\">\r\n                                        <div style=\"width: 20px; height: 20px;\"></div>\r\n                                    </div>\r\n\r\n                                    <div tabindex=\"-1\" style=\"display: flex; flex-direction: column; min-height: 32px; width: 100%; font-size: 14px; padding-top: 4px; padding-bottom: 4px; border-radius: 4px; transition-delay: 0s; background: inherit; cursor: pointer; align-self: center; position: relative;\">\r\n                                        <div style=\"display: flex; flex-grow: 1;\">\r\n                                            <div\r\n                                                ref=\"newCommentDiv\"\r\n                                                @input.stop=\"newCommentUpdated\"\r\n                                                class=\"notranslate\"\r\n                                                spellcheck=\"true\"\r\n                                                placeholder=\"Add a comment...\"\r\n                                                data-content-editable-leaf=\"true\"\r\n                                                contenteditable=\"true\"\r\n                                                style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); font-size: 14px; margin-top: 3px; margin-bottom: 2px; padding-left: 4px; padding-right: 10px; max-height: 70vh; overflow: hidden auto; user-select: auto; min-height: 1em;\"\r\n                                                :style=\"newCommentContentLength === 0 ? { '-webkit-text-fill-color': 'rgba(55, 53, 47, 0.5)' } : { color: 'rgb(55, 53, 47)' }\"\r\n                                                autocomplete=\"on\"\r\n                                            >\r\n                                            </div>\r\n\r\n                                            <div \r\n                                                style=\"display: flex; align-items: end; margin-right: 8px; opacity: 1;\"\r\n                                            >\r\n                                                <div style=\"display: flex; align-items: center;\">\r\n                                                    <base-button\r\n                                                        @click.stop=\"handleNewComment\"\r\n                                                        :hover-style=\"{}\"\r\n                                                    >\r\n                                                        <svg\r\n                                                            role=\"graphics-symbol\" viewBox=\"0 0 20 20\" class=\"sendArrow\" style=\"width: 24px; height: 24px; display: block; fill: rgba(55, 53, 47, 0.45); flex-shrink: 0;\"\r\n                                                            :style=\"newCommentContentLength === 0 ? {} : { fill: 'rgb(35, 121, 226) !important' }\"\r\n                                                            ><path d=\"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z\"></path></svg>\r\n                                                    </base-button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport { defineProps, ref } from 'vue';\r\nimport BaseDataProvider from './BaseDataProvider.vue';\r\nimport BaseButton from './BaseButton.vue';\r\nimport uuid from '@/helpers/globals/uuid';\r\nimport { Comment } from '@/entities/Comment';\r\nimport { transformToStandardUUIDFormat } from '../helpers/router/transformToStandardUUIDFormat';\r\nimport PageDiscussionComment from \"@/ui/components/PageDiscussionComment.vue\";\r\n\r\nconst props = defineProps({\r\n    discussionId: {\r\n        type: String,\r\n        required: false\r\n    },\r\n    pageId: {\r\n        type: String,\r\n        required: false\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst discussionRecordValueInStore = recordValuesStore.getRecordValue(\r\n    props.discussionId,\r\n    \"discussion\",\r\n    \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n);\r\n\r\nconst newCommentContentLength = ref(0);\r\n\r\nfunction newCommentUpdated(e) {\r\n    newCommentContentLength.value = e.target.innerText.length;\r\n}\r\n\r\nconst newCommentDiv = ref(\"\");\r\n\r\nfunction createNewDiscussion() {\r\n    const id = transformToStandardUUIDFormat(uuid());\r\n\r\n    recordValuesStore.getRecordValue(\r\n        props.blockId,\r\n        \"block\",\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    ).discussions = [id];\r\n\r\n    return id;\r\n}\r\n\r\nfunction handleNewComment() {\r\n    const id = transformToStandardUUIDFormat(uuid());\r\n\r\n    if(!props.discussionId) {\r\n        const discussionId = createNewDiscussion();\r\n        console.log(discussionId)\r\n    }\r\n    else {\r\n        discussionRecordValueInStore.addNewComment(id);\r\n    }\r\n\r\n    const comment = new Comment({\r\n        id,\r\n        text: [[newCommentDiv.value.innerText]],\r\n    });\r\n\r\n    recordValuesStore.setRecordValue(\r\n        id,\r\n        \"comment\",\r\n        { ...comment, defer: 1 },\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    );\r\n\r\n    newCommentDiv.value.innerText = \"\";\r\n}\r\n\r\nfunction updateResolvedStatus({ resolved }) {\r\n    discussionRecordValueInStore.updateResolvedStatus(\r\n        resolved\r\n    );\r\n}\r\n</script>","import script from \"./PageDiscussion.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PageDiscussion.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","export const styleColorsStringToRgba = function(colorStr: string): string {\r\n    switch(colorStr) {  \r\n        case \"purple\": \r\n            return \"rgba(144, 101, 176, 1)\";\r\n        case \"brown\":\r\n            return \"rgba(159, 107, 83, 1)\";\r\n        default:\r\n            return \"inherit\";\r\n    }\r\n} ","<template>\r\n    <div style=\"color: inherit; fill: inherit;\">\r\n        <div style=\"display: flex;\">\r\n            <div class=\"notranslate\" \r\n                spellcheck=\"true\"\r\n                placeholder=\"press '/' for commands...'\"\r\n                data-content-editable-leaf=\"true\"\r\n                contenteditable=\"true\"\r\n                style=\"max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47);\"\r\n            >\r\n                <span \r\n                    v-for=\"(richTextObj, index) in blockRichTextRecordValueInStore\" \r\n                    :key=\"index\"\r\n                >\r\n                    <template\r\n                        style=\"display: inline;\"\r\n                        :style=\"computeStyle(richTextObj?.[1])\"\r\n                    >\r\n                        {{ richTextObj?.[0] }}\r\n                    </template>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- when content is empty  -webkit-text-fill-color: rgba(55, 53, 47, 0.5); -->\r\n    <!-- @keyup=\"handleKeyUpEvent\" -->\r\n</template>\r\n\r\n<script setup>\r\nimport { styleColorsStringToRgba } from \"@/helpers/globals/StyleColorsStringToRgba\";\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport { defineProps } from \"vue\"\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst blockRichTextRecordValueInStore = \r\n    recordValuesStore.getRecordValue(\r\n        props.blockId,\r\n        \"block\",\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    ).getTitle();\r\n\r\nfunction computeStyle(styleArray) {\r\n    let styleComputed = {};\r\n \r\n    if (!styleArray?.length) return {};\r\n\r\n    styleArray.forEach((style) => {\r\n        switch(style[0]) {\r\n            case \"b\": \r\n                styleComputed[\"fontWeight\"] = \"600\";\r\n                break;\r\n            case \"i\":\r\n                styleComputed[\"fontStyle\"] = \"italic\";\r\n                break;\r\n            case \"h\": {  \r\n                const color = styleColorsStringToRgba(style[1]);\r\n                styleComputed[\"color\"] = color;\r\n                styleComputed[\"fill\"] = color;\r\n                break;\r\n            }\r\n        }\r\n    })\r\n\r\n    return styleComputed\r\n}\r\n</script>","import script from \"./BlockRenderRichText.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BlockRenderRichText.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div\r\n        :data-block-id=\"props.blockId\"      \r\n        contenteditable=\"true\"\r\n        class=\"xdoc-paragraph xdoc-selectable\"\r\n        placeholder='Press \"/\" for commands'\r\n    >\r\n        <div style=\"display: flex; flex-direction: column; min-height: 1em;\">\r\n            <BlockRenderRichText\r\n                :blockId=\"props.blockId\"\r\n                data-contenteditable-leaf=\"true\"\r\n            ></BlockRenderRichText>\r\n        </div>\r\n\r\n        <template v-if=\"blockChildrenRecordValueInStore?.length\">\r\n            <BlockRender v-for=\"childBlockId in blockChildrenRecordValueInStore\"\r\n                :blockId=\"childBlockId\"\r\n                style=\"margin-left: 12px;\"\r\n                :key=\"childBlockId\"\r\n            ></BlockRender>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from 'vue'\r\nimport BlockRenderRichText from './BlockRenderRichText.vue'\r\nimport BlockRender from './BlockRender.vue'\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst blockChildrenRecordValueInStore = recordValuesStore.getRecordValue(\r\n    props.blockId,\r\n    \"block\",\r\n    \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n)?.content\r\n</script>","import script from \"./BlockRenderParagraph.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BlockRenderParagraph.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <div :data-block-id=\"props.blockId\"\r\n        class=\"xdoc-selectable xdoc-page-block\"\r\n        style=\"width: 100%; margin-top: 2px; margin-bottom: 0px;\"\r\n    >\r\n        <div contenteditable=\"false\"\r\n            class=\"pseudoSelection\"\r\n            data-content-editable-void=\"true\"\r\n            style=\"user-select: none; --pseudoSelection--background: transparent;\"\r\n        >\r\n            <a @click.stop=\"handleClickOnPageLink\"\r\n                rel=\"noopener noreferrer\"\r\n                style=\"display: block; color: inherit; text-decoration: none; user-select: none; background: 20ms ease-in 0s; cursor: pointer; border-radius: 4px; fill: inherit;\"\r\n            >\r\n                <div style=\"display: flex; align-items: center; width: 100%;\">\r\n                    <div style=\"flex: 1 1 0px; min-width: 1px; padding-top: 3px; padding-bottom: 3px; padding-left: 2px;\">\r\n                        <div style=\"display: flex; align-items: center;\">\r\n                            <div style=\"position: relative; width: 24px; height: 24px; margin-right: 4px;\"><div role=\"button\" tabindex=\"0\" class=\"xdoc-record-icon notranslate\" style=\"user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; border-radius: 0.25em; flex-shrink: 0;\"><span role=\"img\"><svg role=\"graphics-symbol\" viewBox=\"0 0 16 16\" class=\"pageEmpty\" style=\"width: 19.8px; height: 19.8px; display: block; fill: rgb(145, 145, 142); flex-shrink: 0;\"><path d=\"M4.35645 15.4678H11.6367C13.0996 15.4678 13.8584 14.6953 13.8584 13.2256V7.02539C13.8584 6.0752 13.7354 5.6377 13.1406 5.03613L9.55176 1.38574C8.97754 0.804688 8.50586 0.667969 7.65137 0.667969H4.35645C2.89355 0.667969 2.13477 1.44043 2.13477 2.91016V13.2256C2.13477 14.7021 2.89355 15.4678 4.35645 15.4678ZM4.46582 14.1279C3.80273 14.1279 3.47461 13.7793 3.47461 13.1436V2.99219C3.47461 2.36328 3.80273 2.00781 4.46582 2.00781H7.37793V5.75391C7.37793 6.73145 7.86328 7.20312 8.83398 7.20312H12.5186V13.1436C12.5186 13.7793 12.1836 14.1279 11.5205 14.1279H4.46582ZM8.95703 6.02734C8.67676 6.02734 8.56055 5.9043 8.56055 5.62402V2.19238L12.334 6.02734H8.95703Z\"></path></svg></span></div></div>\r\n                            <div class=\"notranslate\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: 500; line-height: 1.3; border-bottom: 1px solid rgba(55, 53, 47, 0.16);\">\r\n                                {{ props.blockId }}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport router from '../router';\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst route = useRoute();\r\n\r\nfunction handleClickOnPageLink(e) {\r\n    const blockId = e.target.closest(\"[data-block-id]\").getAttribute(\"data-block-id\");\r\n    const parsedBlockId = blockId.replaceAll(\"-\", \"\");\r\n\r\n    const { pm, p } = route.query;\r\n   \r\n    if (p) router.push({query: {p: parsedBlockId, pm }});\r\n    else router.push(`/${parsedBlockId}`)\r\n}\r\n</script>","import script from \"./BlockRenderPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BlockRenderPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <base-data-provider\r\n        :block-id=\"props.blockId\"\r\n        :space-id=\"props.spaceId\"\r\n        table=\"block\"\r\n        v-slot=\"{ recordValueDeferInStore }\"\r\n    >\r\n        <block-render-paragraph\r\n            v-if=\"recordValueDeferInStore && blockTypeRecordValueInStore === 'text'\"\r\n            :block-id=\"props.blockId\"\r\n        />\r\n\r\n        <block-render-page \r\n            v-else-if=\"recordValueDeferInStore && blockTypeRecordValueInStore === 'page'\"\r\n            :block-id=\"props.blockId\"\r\n        />\r\n    </base-data-provider>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, defineProps } from 'vue';\r\nimport { useRecordValuesStore } from '@/stores/recordValues';\r\nimport BlockRenderParagraph from './BlockRenderParagraph.vue';\r\nimport BaseDataProvider from './BaseDataProvider.vue';\r\nimport BlockRenderPage from './BlockRenderPage.vue';\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst blockTypeRecordValueInStore = computed(function() {\r\n    return recordValuesStore.getRecordValue(\r\n        props.blockId,\r\n        \"block\",\r\n        props.spaceId\r\n    )?.type\r\n})\r\n</script>","import script from \"./BlockRender.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BlockRender.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"xdoc-page-content\",\n  style: {\"flex-shrink\":\"0\",\"flex-grow\":\"1\",\"max-width\":\"100%\",\"display\":\"flex\",\"align-items\":\"flex-start\",\"flex-direction\":\"column\",\"font-size\":\"16px\",\"line-height\":\"1.5\",\"width\":\"100%\",\"z-index\":\"1\",\"padding-bottom\":\"15vh\",\"padding-left\":\"0px\",\"padding-right\":\"0px\",\"min-height\":\"240px\"}\n}\nconst _hoisted_2 = [\"data-block-id\"]\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"color\":\"rgba(55, 53, 47, 0.5)\",\"padding\":\"5px 2px 24px\"} }, \" Press Enter to continue with an empty page, or pick a template \", -1)\nconst _hoisted_4 = [\n  _hoisted_3\n]\n\nimport BlockRender from \"./BlockRender.vue\";\r\nimport { computed } from \"vue\";\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport uuid from \"@/helpers/globals/uuid\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PageContent',\n  props: {\r\n    blockId: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst pageContentInStore = computed(function() {\r\n    return recordValuesStore.getRecordValue(\r\n        props.blockId,\r\n        \"block\",\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )?.content\r\n})\r\n\r\nfunction appendNewChildToPage() {\r\n    const blockId = uuid();\r\n    \r\n    recordValuesStore.setNewChild(\r\n        props.blockId,\r\n        \"content\",\r\n        blockId,\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )\r\n\r\n}\r\n\r\n// const keystrokesStore = useKeyStrokeStore();\r\n\r\n// function handleKeyUpEvent(e: Event): void {\r\n//     const selection = window.getSelection();\r\n//     const range = selection?.getRangeAt(0);\r\n//     const rect = range?.getBoundingClientRect();\r\n\r\n//     if (e.code === \"Slash\") {\r\n//         keystrokesStore.setTrackCommand(true);\r\n//         keystrokesStore.setAnchorOffset(selection?.anchorOffset as number - 1);\r\n//         keystrokesStore.setPositions(rect?.x || 0, rect?.y || 0);\r\n//     }\r\n\r\n//     keystrokesStore.setFocusOffset(selection?.focusOffset as number);\r\n\r\n//     keystrokesStore.handleKeyStroke(e.code, e.key, {\r\n//         text: selection?.focusNode?.textContent\r\n//     });\r\n// }\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!pageContentInStore.value?.length)\n      ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n          _createElementVNode(\"div\", {\n            \"data-block-id\": props.blockId,\n            class: \"xdoc-selectable xdoc-page-block\"\n          }, null, 8, _hoisted_2),\n          _createElementVNode(\"div\", { style: {\"width\":\"100%\",\"display\":\"flex\",\"flex-direction\":\"column\",\"margin-bottom\":\"14vh\"} }, [\n            _createElementVNode(\"div\", {\n              onClick: appendNewChildToPage,\n              style: {\"width\":\"100%\"}\n            }, _hoisted_4)\n          ])\n        ], 64))\n      : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(pageContentInStore.value, (blockId) => {\n          return (_openBlock(), _createBlock(BlockRender, {\n            key: blockId,\n            \"block-id\": blockId,\n            \"space-id\": props.spaceId\n          }, null, 8, [\"block-id\", \"space-id\"]))\n        }), 128))\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"xdoc-page-content\"\r\n        style=\"flex-shrink: 0; flex-grow: 1; max-width: 100%; display: flex; align-items: flex-start; flex-direction: column; font-size: 16px; line-height: 1.5; width: 100%; z-index: 1; padding-bottom: 15vh; padding-left: 0px; padding-right: 0px; min-height: 240px;\"\r\n    >\r\n        <template v-if=\"!pageContentInStore?.length\">\r\n            <div\r\n                :data-block-id=\"props.blockId\"\r\n                class=\"xdoc-selectable xdoc-page-block\"\r\n            ></div>\r\n        \r\n            <div style=\"width: 100%; display: flex; flex-direction: column; margin-bottom: 14vh;\"> \r\n                <div\r\n                    @click=\"appendNewChildToPage\"\r\n                    style=\"width: 100%;\"\r\n                >\r\n                    <div \r\n                        style=\"color: rgba(55, 53, 47, 0.5); padding: 5px 2px 24px;\"\r\n                    >\r\n                        Press Enter to continue with an empty page, or pick a template \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n\r\n        <block-render v-else\r\n            v-for=\"blockId in pageContentInStore\"\r\n            :key=\"blockId\"\r\n            :block-id=\"blockId\"\r\n            :space-id=\"props.spaceId\"\r\n        >\r\n        </block-render>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BlockRender from \"./BlockRender.vue\";\r\nimport { computed, defineProps } from \"vue\";\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport uuid from \"@/helpers/globals/uuid\";\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        required: true,\r\n    },\r\n    spaceId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst pageContentInStore = computed(function() {\r\n    return recordValuesStore.getRecordValue(\r\n        props.blockId,\r\n        \"block\",\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )?.content\r\n})\r\n\r\nfunction appendNewChildToPage() {\r\n    const blockId = uuid();\r\n    \r\n    recordValuesStore.setNewChild(\r\n        props.blockId,\r\n        \"content\",\r\n        blockId,\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )\r\n\r\n}\r\n\r\n// const keystrokesStore = useKeyStrokeStore();\r\n\r\n// function handleKeyUpEvent(e: Event): void {\r\n//     const selection = window.getSelection();\r\n//     const range = selection?.getRangeAt(0);\r\n//     const rect = range?.getBoundingClientRect();\r\n\r\n//     if (e.code === \"Slash\") {\r\n//         keystrokesStore.setTrackCommand(true);\r\n//         keystrokesStore.setAnchorOffset(selection?.anchorOffset as number - 1);\r\n//         keystrokesStore.setPositions(rect?.x || 0, rect?.y || 0);\r\n//     }\r\n\r\n//     keystrokesStore.setFocusOffset(selection?.focusOffset as number);\r\n\r\n//     keystrokesStore.handleKeyStroke(e.code, e.key, {\r\n//         text: selection?.focusNode?.textContent\r\n//     });\r\n// }\r\n</script>","import script from \"./PageContent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PageContent.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useTransactionsQueue } from \"@/stores/transactionsQueue\"\r\n\r\nexport const syncRecordValueFromApi = function(table: string, id: string, spaceId: string) {\r\n    const transactionStore = useTransactionsQueue();\r\n\r\n    transactionStore.enqueue({\r\n        pointer: {\r\n            table,\r\n            id,\r\n            spaceId\r\n        }\r\n    })\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, withCtx as _withCtx, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-089b11ca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"xdoc-scroller vertical\",\n  style: {\"z-index\":\"1\",\"display\":\"flex\",\"flex-direction\":\"column\",\"flex-grow\":\"1\",\"position\":\"relative\",\"margin-right\":\"0\",\"margin-bottom\":\"0\",\"overflow\":\"hidden auto\"}\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\"} }, [\n  /*#__PURE__*/_createElementVNode(\"div\")\n], -1))\nconst _hoisted_3 = [\"onInput\"]\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"height\":\"1px\",\"width\":\"1px\",\"caret-color\":\"transparent\"} }, null, -1))\nconst _hoisted_5 = {\n  class: \"layout\",\n  style: {\"padding-bottom\":\"30vh\"}\n}\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"layout-full\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", {\n    contenteditable: \"false\",\n    class: \"pseudoSelection\",\n    \"data-content-editable-void\": \"true\",\n    style: {\"user-select\":\"none\",\"--pseudoSelection--background\":\"transparent\",\"width\":\"100%\",\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"flex-shrink\":\"0\",\"flex-grow\":\"0\",\"z-index\":\"2\"}\n  })\n], -1))\nconst _hoisted_7 = { class: \"layout-content\" }\nconst _hoisted_8 = { style: {\"width\":\"100%\",\"display\":\"flex\",\"flex-direction\":\"column\",\"align-items\":\"center\",\"flex-shrink\":\"0\",\"flex-grow\":\"0\"} }\nconst _hoisted_9 = { style: {\"max-width\":\"100%\",\"padding-left\":\"calc(0px + env(safe-area-inset-left))\",\"width\":\"100%\"} }\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  contenteditable: \"false\",\n  class: \"pseudoSelection\",\n  \"data-content-editable-void\": \"true\",\n  style: {\"user-select\":\"none\",\"--pseudoSelection--background\":\"transparent\",\"pointer-events\":\"none\"}\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"xdoc-page-controls\" })\n], -1))\nconst _hoisted_11 = { style: {\"padding-right\":\"calc(0 + env(safe-area-inset-right))\"} }\nconst _hoisted_12 = [\"data-block-id\"]\nconst _hoisted_13 = {\n  class: \"notranslate\",\n  spellcheck: \"true\",\n  placeholder: \"Untitled\",\n  \"data-content-editable-leaf\": \"true\",\n  contenteditable: \"true\",\n  style: {\"max-width\":\"100%\",\"width\":\"100%\",\"white-space\":\"pre-wrap\",\"word-break\":\"break-word\",\"caret-color\":\"rgb(55, 53, 47)\",\"padding\":\"3px 2px\",\"font-size\":\"1em\",\"font-weight\":\"inherit\",\"margin\":\"0px\"}\n}\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"margin-left\":\"4px\"} }, null, -1))\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"margin-left\":\"4px\"} }, null, -1))\nconst _hoisted_16 = {\n  key: 0,\n  class: \"layout-content layout-content-with-divider\"\n}\nconst _hoisted_17 = {\n  contenteditable: \"false\",\n  \"data-content-editable-void\": \"true\"\n}\nconst _hoisted_18 = {\n  key: 1,\n  class: \"layout-content layout-content-with-divider\"\n}\nconst _hoisted_19 = {\n  contenteditable: \"false\",\n  \"data-content-editable-void\": \"true\"\n}\nconst _hoisted_20 = {\n  class: \"layout-content layout-editor\",\n  style: {\"min-height\":\"170px\"}\n}\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"height\":\"1px\",\"width\":\"1px\",\"caret-color\":\"transparent\"} }, null, -1))\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"xdoc-presence-container\",\n  style: {\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"z-index\":\"89\"}\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\")\n], -1))\n\nimport PageProperties from \"@/ui/components/PageProperties.vue\";\r\nimport PageDiscussion from \"@/ui/components/PageDiscussion.vue\";\r\nimport PageContent from \"@/ui/components/PageContent.vue\";\r\nimport { computed } from 'vue';\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport { syncRecordValueFromApi } from \"@/helpers/globals/SyncRecordValueFromApi\";\r\nimport BaseDataProvider from \"./BaseDataProvider.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RenderPage',\n  props: {\r\n    blockId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst pageRecordValue = recordValuesStore.getRecordValue(\r\n    props.blockId,\r\n    \"block\",\r\n    \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n)\r\n\r\nconst pageHeadingText = computed(()  => pageRecordValue?.properties?.title?.[0]?.[0]);\r\n\r\nconst { \r\n    parent_table: pageParentTable, \r\n    parent_id: pageParentId,\r\n    discussions,\r\n    content\r\n} = pageRecordValue;\r\n\r\nif (pageParentTable === \"collection\") {\r\n    syncRecordValueFromApi(\r\n        \"collection\",\r\n        pageParentId,\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )\r\n\r\n    content?.forEach((id: string) => {\r\n        syncRecordValueFromApi(\r\n            \"block\",\r\n            id,\r\n            \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n        )\r\n    })\r\n}\r\n\r\nfunction handleInput(e: Event) {    \r\n    console.log(e.target);\r\n}\r\n\r\n// const pageDiscussionRecordValueInStore = computed(function() {\r\n//     return recordValuesStore.getRecordValue(\r\n//         pageRecordValue.discussion,\r\n//         \"collection\",\r\n//         \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     )?.defer\r\n// })\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", {\n      onInput: _withModifiers(handleInput, [\"stop\"]),\n      class: \"whenContentEditable\",\n      \"data-contenteditable-root\": \"true\",\n      style: {\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"align-items\":\"center\",\"caret-color\":\"rgb(55, 53, 47)\",\"width\":\"100%\",\"flex-grow\":\"1\",\"--whenContentEditable--WebkitUserModify\":\"read-write-plaintext-only\"}\n    }, [\n      _hoisted_4,\n      _createElementVNode(\"div\", _hoisted_5, [\n        _hoisted_6,\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", _hoisted_9, [\n              _hoisted_10,\n              _createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"div\", null, [\n                  _createElementVNode(\"div\", {\n                    \"data-block-id\": props.blockId,\n                    class: \"xdoc-selectable xdoc-page-block\",\n                    style: {\"color\":\"rgb(55, 53, 47)\",\"font-weight\":\"700\",\"line-height\":\"1.2\",\"font-size\":\"40px\",\"font-family\":\"ui-sans-serif, -apple-system, BlinkMacSystemFont,\\r\\n                                                'Segoe UI', Helvetica, 'Apple Color Emoji', Arial,\\r\\n                                                sans-serif, 'Segoe UI Emoji', 'Segoe UI Symbol'\",\"cursor\":\"text\",\"display\":\"flex\",\"align-items\":\"center\"}\n                  }, [\n                    _createElementVNode(\"h1\", _hoisted_13, _toDisplayString(pageHeadingText.value), 1),\n                    _hoisted_14\n                  ], 8, _hoisted_12),\n                  _hoisted_15\n                ])\n              ])\n            ])\n          ])\n        ]),\n        (_unref(pageParentTable) === 'collection')\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n              _createElementVNode(\"div\", _hoisted_17, [\n                _createVNode(PageProperties, {\n                  \"page-id\": props.blockId,\n                  \"collection-id\": _unref(pageParentId)\n                }, null, 8, [\"page-id\", \"collection-id\"])\n              ])\n            ]))\n          : _createCommentVNode(\"\", true),\n        (_unref(pageParentTable) === 'collection')\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n              _createElementVNode(\"div\", _hoisted_19, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(discussions), (discussionId) => {\n                  return (_openBlock(), _createBlock(BaseDataProvider, {\n                    \"block-id\": discussionId,\n                    \"space-id\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\",\n                    table: \"discussion\",\n                    key: discussionId\n                  }, {\n                    default: _withCtx(({ recordValueDeferInStore }) => [\n                      (recordValueDeferInStore === 1)\n                        ? (_openBlock(), _createBlock(PageDiscussion, {\n                            key: 0,\n                            \"discussion-id\": discussionId\n                          }, null, 8, [\"discussion-id\"]))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 2\n                  }, 1032, [\"block-id\"]))\n                }), 128)),\n                (!_unref(discussions)?.length)\n                  ? (_openBlock(), _createBlock(PageDiscussion, {\n                      key: 0,\n                      \"page-id\": props.blockId\n                    }, null, 8, [\"page-id\"]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createVNode(PageContent, {\n            \"block-id\": props.blockId,\n            \"space-id\": \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\n          }, null, 8, [\"block-id\"])\n        ])\n      ]),\n      _hoisted_21\n    ], 40, _hoisted_3),\n    _hoisted_22\n  ]))\n}\n}\n\n})","<template>\r\n    <div \r\n        class=\"xdoc-scroller vertical\" \r\n        style=\"z-index: 1; display: flex; flex-direction: column; flex-grow: 1; position: relative; margin-right: 0; margin-bottom: 0; overflow: hidden auto;\"\r\n    >\r\n        <div style=\"position: absolute; top: 0; left: 0;\">\r\n            <div></div>\r\n        </div>\r\n\r\n        <div \r\n            @input.stop=\"handleInput\"\r\n            class=\"whenContentEditable\"\r\n            data-contenteditable-root=\"true\" \r\n            style=\"display: flex; flex-direction: column; position: relative; align-items: center; caret-color: rgb(55, 53, 47); width: 100%; flex-grow: 1; --whenContentEditable--WebkitUserModify: read-write-plaintext-only\"\r\n        >\r\n            <span style=\"height: 1px; width: 1px; caret-color: transparent;\"></span>\r\n\r\n            <div \r\n                class=\"layout\" \r\n                style=\"padding-bottom: 30vh;\"\r\n            >\r\n                <div class=\"layout-full\">\r\n                    <div \r\n                        contenteditable=\"false\" \r\n                        class=\"pseudoSelection\" \r\n                        data-content-editable-void=\"true\"\r\n                        style=\"\r\n                            user-select: none; \r\n                            --pseudoSelection--background: transparent; \r\n                            width: 100%; \r\n                            display: flex; \r\n                            flex-direction: column; \r\n                            align-items: center; \r\n                            flex-shrink: 0; \r\n                            flex-grow: 0; \r\n                            z-index: 2;\r\n                        \">\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layout-content\">\r\n                    <div style=\"\r\n                        width: 100%; \r\n                        display: flex; \r\n                        flex-direction: column; \r\n                        align-items: center; \r\n                        flex-shrink: 0; \r\n                        flex-grow: 0;\"\r\n                    >\r\n\r\n                        <div style=\"\r\n                            max-width: 100%; \r\n                            padding-left: calc(0px + env(safe-area-inset-left)); \r\n                            width: 100%;\"\r\n                        >\r\n                            <div \r\n                                contenteditable=\"false\" \r\n                                class=\"pseudoSelection\" \r\n                                data-content-editable-void=\"true\"\r\n                                    style=\"\r\n                                        user-select: none; \r\n                                        --pseudoSelection--background: transparent; \r\n                                        pointer-events: none;\r\n                                    \"\r\n                            >\r\n                                <div class=\"xdoc-page-controls\"></div>\r\n                            </div>\r\n\r\n                            <div style=\"padding-right: calc(0 + env(safe-area-inset-right));\">\r\n                                <div>\r\n                                    <div\r\n                                        :data-block-id=\"props.blockId\"\r\n                                        class=\"xdoc-selectable xdoc-page-block\"\r\n                                        style=\"\r\n                                            color: rgb(55, 53, 47);\r\n                                            font-weight: 700;\r\n                                            line-height: 1.2;\r\n                                            font-size: 40px;\r\n                                            font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont,\r\n                                                'Segoe UI', Helvetica, 'Apple Color Emoji', Arial,\r\n                                                sans-serif, 'Segoe UI Emoji', 'Segoe UI Symbol';\r\n                                            cursor: text;\r\n                                            display: flex;\r\n                                            align-items: center;\r\n                                        \"\r\n                                    >\r\n                                        <h1 class=\"notranslate\"\r\n                                            spellcheck=\"true\"\r\n                                            placeholder=\"Untitled\"\r\n                                            data-content-editable-leaf=\"true\"\r\n                                            contenteditable=\"true\"\r\n                                            style=\"\r\n                                                max-width: 100%;\r\n                                                width: 100%;\r\n                                                white-space: pre-wrap;\r\n                                                word-break: break-word;\r\n                                                caret-color: rgb(55, 53, 47);\r\n                                                padding: 3px 2px;\r\n                                                font-size: 1em;\r\n                                                font-weight: inherit;\r\n                                                margin: 0px;\r\n                                            \"   \r\n                                        >{{ pageHeadingText }}</h1>\r\n                                        <!-- :style=\"!pageHeadingText?.length ? 'min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.15); cursor: text;' : ''\" -->\r\n\r\n                                        <div style=\"\r\n                                            margin-left: 4px;\r\n                                        \"></div>\r\n                                    </div>\r\n\r\n                                    <div style=\"margin-left: 4px;\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div v-if=\"pageParentTable === 'collection'\" class=\"layout-content layout-content-with-divider\">\r\n                    <div contenteditable=\"false\" data-content-editable-void=\"true\">\r\n                        <page-properties\r\n                            :page-id=\"props.blockId\"\r\n                            :collection-id=\"pageParentId\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div v-if=\"pageParentTable === 'collection'\"\r\n                    class=\"layout-content layout-content-with-divider\"\r\n                > \r\n                    <div contenteditable=\"false\" data-content-editable-void=\"true\">\r\n                        <base-data-provider\r\n                            v-for=\"discussionId in discussions\"\r\n                            :block-id=\"discussionId\"\r\n                            space-id=\"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n                            table=\"discussion\"\r\n                            v-slot=\"{ recordValueDeferInStore }\"\r\n                            :key=\"discussionId\"\r\n                        >\r\n                            <page-discussion \r\n                                v-if=\"recordValueDeferInStore === 1\"\r\n                                :discussion-id=\"discussionId\"\r\n                            />\r\n                        </base-data-provider>\r\n\r\n                        <page-discussion \r\n                            v-if=\"!discussions?.length\"\r\n                            :page-id=\"props.blockId\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"layout-content layout-editor\" style=\"min-height: 170px;\">\r\n                    <page-content \r\n                        :block-id=\"props.blockId\"\r\n                        space-id=\"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <span style=\"height: 1px; width: 1px; caret-color: transparent;\"></span>\r\n        </div>\r\n\r\n        <div \r\n            class=\"xdoc-presence-container\"\r\n            style=\"position: absolute; top: 0; left: 0; z-index: 89;\"\r\n        >\r\n            <div></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport PageProperties from \"@/ui/components/PageProperties.vue\";\r\nimport PageDiscussion from \"@/ui/components/PageDiscussion.vue\";\r\nimport PageContent from \"@/ui/components/PageContent.vue\";\r\nimport { defineProps, computed } from 'vue';\r\nimport { useRecordValuesStore } from \"@/stores/recordValues\";\r\nimport { syncRecordValueFromApi } from \"@/helpers/globals/SyncRecordValueFromApi\";\r\nimport BaseDataProvider from \"./BaseDataProvider.vue\";\r\n\r\nconst props = defineProps({\r\n    blockId: {\r\n        type: String,\r\n        required: true\r\n    }\r\n})\r\n\r\nconst recordValuesStore = useRecordValuesStore();\r\n\r\nconst pageRecordValue = recordValuesStore.getRecordValue(\r\n    props.blockId,\r\n    \"block\",\r\n    \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n)\r\n\r\nconst pageHeadingText = computed(()  => pageRecordValue?.properties?.title?.[0]?.[0]);\r\n\r\nconst { \r\n    parent_table: pageParentTable, \r\n    parent_id: pageParentId,\r\n    discussions,\r\n    content\r\n} = pageRecordValue;\r\n\r\nif (pageParentTable === \"collection\") {\r\n    syncRecordValueFromApi(\r\n        \"collection\",\r\n        pageParentId,\r\n        \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n    )\r\n\r\n    content?.forEach((id: string) => {\r\n        syncRecordValueFromApi(\r\n            \"block\",\r\n            id,\r\n            \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n        )\r\n    })\r\n}\r\n\r\nfunction handleInput(e: Event) {    \r\n    console.log(e.target);\r\n}\r\n\r\n// const pageDiscussionRecordValueInStore = computed(function() {\r\n//     return recordValuesStore.getRecordValue(\r\n//         pageRecordValue.discussion,\r\n//         \"collection\",\r\n//         \"f2cf1fd1-8789-4ddd-9190-49f41966c446\"\r\n//     )?.defer\r\n// })\r\n</script>\r\n\r\n\r\n<style scoped>\r\n[contenteditable]:empty:after {\r\n    content: attr(placeholder);\r\n}\r\n.hvr:hover {\r\n    background: rgba(55, 53, 47, 0.08);\r\n}\r\n\r\n.layout {\r\n    --content-width: minmax(auto, 768px);\r\n    --margin-width: minmax(96px, 1fr);\r\n    display: grid;\r\n    grid-template-columns: [full-start] var(--margin-left-width, var(--margin-width)) [content-start] var(--content-width) [content-end] var(--margin-right-width, var(--margin-width)) [full-end];\r\n    width: 100%;\r\n}\r\n\r\n.layout.layout-center-peek {\r\n    --content-width: 1fr;\r\n    --margin-width: 126px;\r\n}\r\n\r\n.layout.layout-side-peek {\r\n    --content-width: 1fr;\r\n    --margin-width: 48px;\r\n}\r\n\r\n.layout-full {\r\n    grid: inherit;\r\n    grid-column: full;\r\n}\r\n\r\n.layout-content {\r\n    grid: inherit;\r\n    grid-column: content;\r\n    min-width: 0;\r\n}\r\n\r\n.layout-content-with-divider {\r\n    border-bottom: solid 1px rgba(55, 53, 47, 0.09);\r\n    margin-bottom: 8px;\r\n}\r\n\r\n.layout-nested-grid {\r\n    align-items: center;\r\n    display: grid;\r\n    gap: inherit;\r\n    grid-column: full;\r\n    grid-template: inherit;\r\n}\r\n\r\n.layout-header-detailSections .layout-content+.layout-content {\r\n    border-top: 1px solid rgba(55, 53, 47, 0.09);\r\n}\r\n\r\n.layout-header-detailSections>:last-child {\r\n    border-bottom: 1px solid rgba(55, 53, 47, 0.09);\r\n}\r\n\r\n.layout-editor {\r\n    padding-top: 5px;\r\n}\r\n\r\n</style>","import script from \"./RenderPage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RenderPage.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./RenderPage.vue?vue&type=style&index=0&id=089b11ca&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\test\\\\x\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-089b11ca\"]])\n\nexport default __exports__","export function Block(props) {\r\n    this.id = props.id;\r\n    this.created_time = props.created_time;\r\n    this.last_edited_time = props.last_edited_time;\r\n    this.parent_id = props.parent_id;\r\n    this.parent_table = props.parent_table;\r\n    this.alive = props.alive;\r\n    this.created_by_table = props.created_by_table;\r\n    this.created_by_id = props.created_by_id;\r\n    this.last_edited_by_table = props.last_edited_by_table;\r\n    this.last_edited_by_id = props.last_edited_by_id;\r\n    this.space_id = props.space_id;\r\n    this.content = props.content;\r\n}","import { Block } from \"./Block\";\r\n\r\nObject.setPrototypeOf(Collection, Block);\r\n\r\nexport function Collection(props) {\r\n    Block.call(this, props);\r\n\r\n    this.type = \"collection\";\r\n    this.schema = props.schema;\r\n    this.format = props.format;\r\n    this.template_pages = props.template_pages;\r\n}\r\n\r\nCollection.prototype.getPropertyByName = function(name) {\r\n    return Object.values(this.schema).find(property => property.name === name);\r\n}\r\n\r\nCollection.prototype.getPropertyNamePostfixed = function(id, name, type) {\r\n    let postfix = 1;\r\n    let postfixedName = name;\r\n    let property = Collection.prototype.getPropertyByName.call(this, ...[name]);\r\n\r\n    while(property && property.id !== id && property.type === type) {\r\n        postfixedName = name + \" \" + postfix;\r\n        if(!Collection.prototype.getPropertyByName.call(this, ...[postfixedName])) {\r\n            break;\r\n        }\r\n        postfix++;\r\n    }\r\n\r\n    return postfixedName;\r\n}\r\n\r\nCollection.prototype.addProperty = function(id, property) {\r\n    const schema = this.schema;\r\n\r\n    const postfixedName = Collection.prototype.getPropertyNamePostfixed.call(this, [\r\n        id, \r\n        property.name, \r\n        property.type\r\n    ]);\r\n\r\n    schema[id] = {\r\n        ...property,\r\n        name: postfixedName,\r\n        type: property.type,\r\n    }\r\n}\r\n\r\nCollection.prototype.getPropertyById = function(id) {\r\n    return this.schema[id];\r\n}","import { useGeneralStore } from \"@/stores/general\"\r\n\r\nexport const handlePropertyValueOverlay = function(\r\n    pageId,\r\n    collectionId,\r\n    propertyId,\r\n    measures, \r\n) {\r\n    const generalStore = useGeneralStore();\r\n\r\n    generalStore.setCurrentComponentInDefaultOverlay(\r\n        propertyId ? \"page_property_value_edit\" : null,\r\n        {\r\n            collectionId,\r\n            propertyId,\r\n            pageId\r\n        }\r\n    );\r\n\r\n    generalStore.dialog.width = measures?.width;\r\n    generalStore.dialog.top = measures?.top;\r\n    generalStore.dialog.left = measures?.left;\r\n}","export const commaSeparatedString = function(commaSeparatedString: string, char:string = \",\"): Array<string> {\r\n    if(!commaSeparatedString) return [];\r\n    return commaSeparatedString.split(char);\r\n}","import { commaSeparatedString } from '@/helpers/globals/CommaSeparatedString';\r\n\r\nexport const parseCommaSeparatedPropertyValues = function(\r\n    type,\r\n    propertyValueParsedRef,\r\n    property,\r\n    propertyValue\r\n) {\r\n    const commaSeparatedStrings = commaSeparatedString(propertyValue);\r\n\r\n    if(type === \"select\" || type === \"status\" || type === \"multiselect\") {\r\n        if(type === \"status\") {\r\n            if(!commaSeparatedStrings.length) commaSeparatedStrings.push(property.defaultOption);\r\n        }\r\n    \r\n        setParsedValue((_value)=>property?.options?.find(({value}) => value === _value), propertyValueParsedRef, commaSeparatedStrings);\r\n    \r\n        if(type === \"status\") {\r\n            propertyValueParsedRef.value = propertyValueParsedRef.value.map((status) => {\r\n                if(!status.color) {\r\n                    property.groups.map(({color, optionIds}) => {\r\n                        if(optionIds.includes(status.id)) {\r\n                            status.color = color;\r\n                        }\r\n                    })\r\n                }\r\n                return status;\r\n            })\r\n        }\r\n    }   \r\n}\r\n\r\nfunction setParsedValue(predicate, propertyValueParsedRef, commaSeparatedStrings) {\r\n    propertyValueParsedRef.value = commaSeparatedStrings.map((value) => predicate(value))\r\n}\r\n","import { useRecordValuesStore } from '../../stores/recordValues';\r\nimport { onBeforeUnmount } from 'vue';\r\n\r\nexport const usePropertyData = function(props, emitHandler) {\r\n    const recordValuesStore = useRecordValuesStore();\r\n\r\n    const propertyValue = recordValuesStore.getRecordValue({\r\n        id: props.value.pageId,\r\n        table: \"block\",\r\n        spaceId: props.value.spaceId\r\n    })?.properties?.[props.value.propertyId]?.[0]?.[0] || \"\";\r\n    \r\n    const property = recordValuesStore.getRecordValue({\r\n        id: props.value.collectionId,\r\n        table: \"collection\",\r\n        spaceId: props.value.spaceId\r\n    })?.schema?.[props.value.propertyId];\r\n\r\n    onBeforeUnmount(() => {\r\n        emitHandler();\r\n    });\r\n    \r\n    return {\r\n        property,\r\n        propertyValue\r\n    }\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"53\":\"1c1468e8\",\"285\":\"725c0532\",\"776\":\"a0da69b7\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"53\":\"7d805469\",\"285\":\"0ed3fc96\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"x:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tlinkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"53\":1,\"285\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkx\"] = self[\"webpackChunkx\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(165); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["tagColorStringToRgba","colorStr","background","color","fill","replaceAll","useMenuLeftStore","state","menuLeftMode","actions","setMenuLeftMode","mode","this","props","__exports__","getSpaces","makePostReq","userId","style","class","_","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","role","viewBox","_hoisted_17","d","_hoisted_18","_hoisted_19","_hoisted_20","__name","spaceId","type","String","required","spaceViewId","setup","__props","route","router","menuLeftStore","recordValuesStore","favoritesPagesIds","privatePagesIds","getMenuMode","createNewPage","rawId","uuid","id","transformToStandardUUIDFormat","pointer","table","operations","makeOperation","space_id","permissions","user_id","parent_id","parent_table","alive","created_by_id","created_by_table","created_time","Date","now","last_edited_by_id","last_edited_by_table","last_edited_time","enqueue","makeTransaction","debug","userAction","name","push","query","p","pm","generalStore","openSettings","console","log","setCurrentComponentInDefaultOverlay","userSpaces","spaceViews","data","space_view","value","setRecordValue","record","getRecordValue","bookmarked_pages","private_pages","_ctx","_cache","_component_font_awesome_icon","icon","onClick","MenuPageNavigationSpaceView","pageIds","header","BaseButton","default","opacity","tabindex","script","render","useKeyStrokeStore","commandString","anchorOffset","focusOffset","spaceEnountered","trackCommandString","pos","x","y","handleKeyStroke","code","key","args","handleSlashMenuKeyStrokes","text","slice","setTrackCommand","flag","setCommandString","setAnchorOffset","aOffset","setFocusOffset","fOffset","setPositions","posX","posY","showSlashMenu","getPositions","keystrokesStore","handleClickOutside","e","menuNode","document","getElementsByClassName","isClickOutside","contains","target","filteredBlocksOptions","allBlocks","filter","block","label","toLowerCase","includes","positions","window","innerHeight","top","left","bottom","description","handleBlockSelection","addEventListener","removeEventListener","width","s","peekMode","blockId","closeSidePeek","setTimeout","path","show","dialog","height","dialogHeight","dialogWidth","getBoundingClientRect","adjustmentY","adjustmentX","innerWidth","emits","propertyValueDialog","propertyValue","usePropertyData","innerText","property","propertyValueParsed","getOptionById","_id","options","find","handleOptionSelect","optionId","option","multiselect","commaSeparatedValue","map","join","dialogShow","parseCommaSeparatedPropertyValues","filterOptionString","filteredOptions","indexOf","defaultStyle","handleStatusSelect","propertyType","Collection","collectionId","propertyId","showDialogView","handlePropertyValueChange","pageId","update","recordInStore","targetNode","forEach","node","targetNodeProperty","targetNodePropertyValue","spaceSettingContentMyAccountProfilePic","showRemoveProfilePicBtn","transactionStore","handleProfileNameEdit","setDelay","op","command","setDelayDefault","handleProfilePicUpload","click","components","SpaceSettingsContentMyAccount","SpaceSettingsContentPeople","contentComponent","closeSpaceSettings","menuItems","captializeFirstCharacter","str","toUpperCase","handleOptionDelete","remove","handleStyleSelect","set","length","i","setParent","parentId","parentTable","listBefore","before","unshift","indexToPush","findIndex","targetNodeCopy","splice","templates","async","searchResults","performSearch","results","recordValueStore","getTemplatePageById","templatePageId","spceId","getTemplatePageTitle","properties","title","handleTemplateSelect","blockPointer","collectionViewRecordValueInStore","collectionViewId","page_sort","copied_from","copied_from_pointer","is_template","currentTime","handleCloseTemplatesList","newVal","oldVal","peekBlockId","routeQuery","documentInnerWidth","slashMenuPosition","getMenuState","menuLeftState","updateDocumentInnerWidth","transactionsQueue","inputHandler","dataBlock","closest","dataBlockId","getAttribute","blockData","inputType","updateTitle","currentComponent","getCurrentComponentAndProps","component","currentComponentProps","context","meta","menu","visibility","pageX","clientY","app","App","config","globalProperties","openMenu","closeMenu","use","domain","clientId","authorizationParams","redirect_uri","mount","baseURL","url","withCredentials","Object","assign","listAfter","after","keyedObjectListBefore","keyedObjectListRemove","removeKey","candidate","keyedObjectListUpdate","useGeneralStore","_component","_props","useRecordValuesStore","recordValues","spaces","Set","currentSpaceId","getCurrentSpaceId","setCurrentSpaceId","getSpacesIds","Array","from","checkSpacePresenceById","has","undefined","addSpaceIfNotPresent","setSpace","add","setNewChild","parentBlockId","childBlockId","queryCollection","collectionView","loader","source","error","Error","TransactionApi","execute","transactions","requestId","res","SyncrecordValuesApi","syncRecordValuesRequests","requests","search","DELAY_DEFAULT","BATCH_SIZE_DEFAULT","MAX_WORKERS","useTransactionsQueue","DELAY","BATCH_SIZE","CURRENT_SET_TIMEOUTS","REQUEST_TIME_OUT_MS","tms","transaction","dequeueAfterTimeout","setRecordValuesFromRecordMap","recordMap","tableRecordValues","pointerId","recordValue","dequeue","then","batch","Math","min","t","recordValuesResponse","performQueryCollection","reducers","collection_group_results","limit","searchQuery","sort","userTimeZone","queryCollectionResults","total","plainUUID","history","routes","params","recordValueInStore","darkBackgroundColorStringToRgba","status","groupColor","pagePropertiesRecordValueInStore","pageCollectionRecordValueInStore","propertyNameFromId","handlePropertyEdit","cellElement","measures","handlePropertyValueOverlay","Comment","Block","setPrototypeOf","hovered","commentInRecordValuesStore","commentId","updateResolveStatus","resolved","discussionRecordValueInStore","discussionId","newCommentContentLength","newCommentUpdated","newCommentDiv","createNewDiscussion","discussions","handleNewComment","addNewComment","comment","defer","updateResolvedStatus","styleColorsStringToRgba","blockRichTextRecordValueInStore","getTitle","computeStyle","styleArray","styleComputed","blockChildrenRecordValueInStore","content","handleClickOnPageLink","parsedBlockId","blockTypeRecordValueInStore","pageContentInStore","appendNewChildToPage","BlockRender","syncRecordValueFromApi","_withScopeId","n","contenteditable","spellcheck","placeholder","pageRecordValue","pageHeadingText","pageParentTable","pageParentId","handleInput","onInput","PageProperties","BaseDataProvider","recordValueDeferInStore","PageDiscussion","PageContent","schema","format","template_pages","prototype","getPropertyByName","values","getPropertyNamePostfixed","postfix","postfixedName","call","addProperty","getPropertyById","commaSeparatedString","char","split","propertyValueParsedRef","commaSeparatedStrings","defaultOption","setParsedValue","_value","groups","optionIds","predicate","emitHandler","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","createStylesheet","fullhref","oldTag","resolve","reject","linkTag","rel","onLinkComplete","errorType","realHref","href","err","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}